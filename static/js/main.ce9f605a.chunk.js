(this["webpackJsonpsarco-webapp"]=this["webpackJsonpsarco-webapp"]||[]).push([[0],{119:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return s}));var n=r(14),a=r(2),c=function(){return[].concat([],[parseInt("1",10)])},s=function(e){var t=Object(a.useState)(),r=Object(n.a)(t,2),c=r[0],s=r[1];return Object(a.useEffect)((function(){e===parseInt("",10)?s({sarcophagus:""}):e===parseInt("1",10)&&s({sarcophagus:"0xD227e63E7d74Ba0374E1d5B2479666b21ba7811c"})}),[e]),c}},139:function(e,t,r){"use strict";r.d(t,"b",(function(){return y})),r.d(t,"a",(function(){return x}));var n=r(1),a=r.n(n),c=r(12),s=r(14),i=r(2),o=r(51),u=r(156),l=r(394),d=r.n(l),p=r(417),b=r(119),h=r(17);var f={walletconnect:{package:p.a,options:{infuraId:"800746c8737e4f34bb772ade4532ab83"}}},m=new d.a({providerOptions:f,cacheProvider:!0,theme:"dark"}),j="not connected",g={name:j,account:!1,chainId:null,provider:null,signerOrProvider:null};function v(e){return{name:"injected provider",account:e.provider.selectedAddress,chainId:parseInt(e.provider.chainId),provider:e,signerOrProvider:e.getSigner()}}function y(){var e,t=Object(i.useState)(g),r=Object(s.a)(t,2),n=r[0],a=r[1],c=function(e,t){var r=Object(i.useState)(null),n=Object(s.a)(r,2),a=n[0],c=n[1];return Object(i.useEffect)((function(){return t.on("connect",(function(e){if(Object(b.a)().includes(parseInt(e.chainId))){var r=new o.a.providers.Web3Provider(e);c(r),h.b.dark("Connected",{toastId:"connected"})}else h.b.dark("Switch to a supported network",{toastId:"switchNetwork"}),t.clearCachedProvider(),c(null)})),function(){t.off("connect")}}),[t]),Object(i.useEffect)((function(){if(e)return e.on("chainChanged",(function(e){Object(b.a)().includes(parseInt(e))?window.location.reload():(h.b.dark("Switch to a supported network",{toastId:"switchNetwork"}),t.clearCachedProvider(),c(null))})),e.on("accountsChanged",(function(e){0===e.length?(h.b.dark("Account disconnected",{toastId:"disconnected"}),t.clearCachedProvider(),c(null)):(Object(h.b)("Account changed",{toastId:"connected"}),c(null))})),e.on("disconnect",(function(){h.b.dark("Account disconnected",{toastId:"disconnected"}),t.clearCachedProvider(),c(null)})),function(){e.removeAllListeners()}}),[e,t]),a}(null===(e=n.provider)||void 0===e?void 0:e.provider,m);return Object(i.useEffect)((function(){a(c?v(c):g)}),[c]),Object(i.useEffect)((function(){var e;n.name===j&&(m.cachedProvider||n.signerOrProvider&&Object(b.a)().includes(parseInt(n.signerOrProvider.chainId))?(e=m,new Promise((function(t,r){e.connect().then((function(e){var r=new o.a.providers.Web3Provider(e);t(v(r))})).catch(r)}))).then(a).catch(console.error):a(function(){var e={infura:"800746c8737e4f34bb772ade4532ab83",alchemy:"bjrgvDbGZBUJ_iZFFd1vIqUWzgrwKWeg",etherscan:"G61W8715WK65NCMJPFXU8EBQ5VDTT4KCVJ"},t=Object(u.getDefaultProvider)(parseInt("1",10),e);return{name:"fallback provider",account:!1,chainId:t.network.chainId,provider:t,signerOrProvider:t}}()))}),[n.name,n.signerOrProvider]),n}function x(){return O.apply(this,arguments)}function O(){return(O=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.connect();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},141:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return c}));var n=r(46),a=r(48),c=function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=a.utils.arrayify(t);if(r){var s=new Uint8Array([4]);return e.from(new Uint8Array([].concat(Object(n.a)(s),Object(n.a)(c))))}return e.from(c)}}).call(this,r(22).Buffer)},163:function(e,t,r){"use strict";(function(e){r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return u}));var n=r(1),a=r.n(n),c=r(12),s=r(413),i=r.n(s),o=function(){return i.a.init({host:"arweave.net",port:443,protocol:"https",timeout:2e4,logging:!1})},u=function(){var t=Object(c.a)(a.a.mark((function t(r,n,c){var s,i,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.transactions.getData(n,{decode:!0});case 3:return s=t.sent,i=e.from(s),o=e.from(c),t.abrupt("return",0===e.compare(i,o));case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,r,n){return t.apply(this,arguments)}}()}).call(this,r(22).Buffer)},193:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return h}));var n=r(15),a=r(1),c=r.n(a),s=r(12),i=r(14),o=r(2),u=r(52),l=r(48),d=r(17),p=r(8),b=r(64),h=function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];r&&d.b.dark(p.R,{autoClose:!1,toastId:"loading-sarcophagi"});var h=Object(o.useState)([]),f=Object(i.a)(h,2),m=f[0],j=f[1],g=Object(o.useState)([]),v=Object(i.a)(g,2),y=v[0],x=v[1],O=Object(u.b)(),w=O.account,S=Object(o.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(n){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===t||void 0===t?void 0:t.recipientSarcophagusCount(r||n);case 3:return a=e.sent,e.abrupt("return",a);case 7:e.prev=7,e.t0=e.catch(0),console.error("There was a problem with contract : RecipientCount",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),[t,r]),T=Object(o.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(n,a){var i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=new Array(null===a||void 0===a?void 0:a.toNumber()).fill(void 0),e.next=4,Promise.all(i.map(function(){var e=Object(s.a)(c.a.mark((function e(a,s){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===t||void 0===t?void 0:t.recipientSarcophagusIdentifier(r||n,s);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()));case 4:return o=e.sent,e.abrupt("return",o);case 8:e.prev=8,e.t0=e.catch(0),console.error("There was a problem with contract : RecipientDoubleHashes",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}(),[t,r]),N=Object(o.useCallback)(function(){var r=Object(s.a)(c.a.mark((function r(a){var i;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Promise.all(a.map(function(){var r=Object(s.a)(c.a.mark((function r(a){return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=n.a,r.t1=n.a,r.t2={},r.next=5,null===t||void 0===t?void 0:t.sarcophagus(e.from(l.utils.arrayify(a)));case 5:return r.t3=r.sent,r.t4=(0,r.t1)(r.t2,r.t3),r.t5={},r.t6={AssetDoubleHash:a},r.abrupt("return",(0,r.t0)(r.t4,r.t5,r.t6));case 10:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())).catch((function(e){return console.error("There was a problem with contract : RecipientInfo",e)}));case 3:return i=r.sent,r.abrupt("return",i);case 7:r.prev=7,r.t0=r.catch(0),console.error("There was a problem with contract : RecipientInfo",r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}(),[t]),C=Object(o.useCallback)((function(){S(w).then((function(e){!(null===e||void 0===e?void 0:e.isZero())&&e&&T(w,e).then((function(e){(null===e||void 0===e?void 0:e.length)&&N(e).then((function(e){(null===e||void 0===e?void 0:e.length)&&(x(e.filter((function(e){return Object(b.a)(e.resurrectionTime,e.resurrectionWindow,e.privateKey,e.state).isVisible}))),j(e),d.b.dismiss("loading-sarcophagi"))})).catch((function(e){return console.error("Sarcophagus Info",e)}))})).catch((function(e){return console.error("Sarcophagus Identifiers",e)}))})).catch((function(e){return console.error("Sarcophagus Count",e)}))}),[w,S,T,N]);return Object(o.useEffect)((function(){a&&!r||(a||w)&&C()}),[C,a,w,r]),{recipientSarcophagi:y,recipientAllSarcophagi:m,getRecipientSarcophagi:C}}}).call(this,r(22).Buffer)},194:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n={singleHash:"",address:"",identifier:""}},199:function(e,t,r){"use strict";r(2);var n=r(57),a=r(70),c=r(29),s=r(49),i=r(0);t.a=function(e){var t=e.values,r=e.errors,o=e.touched,u=e.handleChange;return Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"flex items-center",children:[Object(i.jsx)(c.a,{type:"subOne",title:"Recipient's Private Key"}),Object(i.jsx)(s.a,{content:"The private key of the receiver of this Sarcophagus"}),r.recipientPrivateKey&&o.recipientPrivateKey&&Object(i.jsx)(n.a,{children:r.recipientPrivateKey})]}),Object(i.jsx)(a.a,{_classnames:"my-4",name:"recipientPrivateKey",value:t.recipientPrivateKey,errored:r.recipientPrivateKey&&o.recipientPrivateKey,error:r.recipientPublicKey,onChange:u,type:"textarea",height:"xl",placeholder:"0x........00000"})]})}},200:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(48),a=r(40),c=function(e){if(!e)return a.d().shape({recipientPrivateKey:a.e().test("required","Recipient Private Key is required",(function(e){return!!e})).test("validDataHextString","Please enter a valid private key",(function(e){var t,r;return"0x"!==(null===e||void 0===e||null===(t=e.substr)||void 0===t?void 0:t.call(e,0,2))&&(r="0x"+e),n.utils.isHexString(r||e,32)}))})}},29:function(e,t,r){"use strict";var n=r(15),a=r(32),c=(r(2),r(45)),s=r(49),i=r(0),o=["type"],u=function(e){var t=e.title,r=e.icon;return Object(i.jsxs)("div",{className:"flex items-center mb-6 whitespace-nowrap",children:[r&&Object(i.jsx)("img",{src:r,alt:"",className:"mr-4"}),Object(i.jsx)("span",{className:"text-lg",children:t})]})},l=function(e){var t=e.title,r=e.icon,n=void 0!==r&&r;return Object(i.jsxs)("div",{className:"flex items-center text-white whitespace-pre-wrap md:whitespace-nowrap mr-2",children:[n&&Object(i.jsx)("img",{src:n,alt:"",className:"mr-4"}),Object(i.jsx)("span",{className:"text-md font-bold",children:t})]})},d=function(e){var t=e.title,r=e.showToolTip,n=void 0!==r&&r,a=e.toolTip,c=void 0===a?"":a;return Object(i.jsxs)("div",{className:"flex items-center",children:[Object(i.jsx)("span",{className:"mr-2 text-gray-400 text-sm whitespace-nowrap",style:{lineHeight:"1.375rem"},children:t}),n&&Object(i.jsx)(s.a,{content:c})]})},p=function(e){var t=e.values;return Object(i.jsxs)("div",{className:"flex items-center whitespace-nowrap",children:[Object(i.jsxs)("span",{className:"mr-2 text-gray-400 text-sm",style:{lineHeight:"1.375rem"},children:["Resurrection: ",Object(c.c)(t.resurrectionTime,t.custom)]}),Object(i.jsx)(s.a,{content:"Time currently set for resurrection"})]})};t.a=function(e){var t=e.type,r=Object(a.a)(e,o);return"main"===t?Object(i.jsx)(u,Object(n.a)({},r)):"subOne"===t?Object(i.jsx)(l,Object(n.a)({},r)):"subTwo"===t?Object(i.jsx)(d,Object(n.a)({},r)):"resurrection"===t?Object(i.jsx)(p,Object(n.a)({},r)):Object(i.jsx)(i.Fragment,{})}},34:function(e,t,r){"use strict";r.d(t,"e",(function(){return u})),r.d(t,"b",(function(){return i})),r.d(t,"f",(function(){return s})),r.d(t,"c",(function(){return o})),r.d(t,"a",(function(){return d})),r.d(t,"d",(function(){return l}));var n=r(386),a=r.n(n),c=r(48),s=function(e,t){return a()(c.utils.formatUnits(e,t))},i=function(e,t){return s(e,t).value()},o=function(e,t,r){return r?s(e,t).value().toFixed().toString():s(e,t).input()},u=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.feePerByte,a=e.minimumBounty,c=e.minimumDiggingFee,s=t.size;if(!n||!a||!c)return"";if(!s)return"";var i=n.mul(s+339).add(a).add(c),u=o(i,18);return r?i:u},l=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.feePerByte,a=e.minimumBounty,c=e.minimumDiggingFee,s=t.size;if(!n||!a||!c)return"";if(!s)return"";var i=n.mul(s+452),u=o(i,18);return r?i:u},d=function(e,t){if(null===e||void 0===e?void 0:e.isZero())return"0 %";var r=parseFloat(c.utils.formatEther(e)),n=parseFloat(c.utils.formatEther(t.add(e)));return"".concat((r/n*100).toFixed(9)," %")}},404:function(e){e.exports=JSON.parse('[{"inputs":[],"name":"sarcoToken","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"_sarcoToken","type":"address"}],"name":"initialize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"archaeologistCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"archaeologistAddresses","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"archaeologists","outputs":[{"components":[{"internalType":"bool","name":"exists","type":"bool"},{"internalType":"bytes","name":"currentPublicKey","type":"bytes"},{"internalType":"string","name":"endpoint","type":"string"},{"internalType":"address","name":"paymentAddress","type":"address"},{"internalType":"uint256","name":"feePerByte","type":"uint256"},{"internalType":"uint256","name":"minimumBounty","type":"uint256"},{"internalType":"uint256","name":"minimumDiggingFee","type":"uint256"},{"internalType":"uint256","name":"maximumResurrectionTime","type":"uint256"},{"internalType":"uint256","name":"freeBond","type":"uint256"},{"internalType":"uint256","name":"cursedBond","type":"uint256"}],"internalType":"struct Types.Archaeologist","name":"","type":"tuple"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"sarcophagusCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"sarcophagusIdentifier","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"embalmer","type":"address"}],"name":"embalmerSarcophagusCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"embalmer","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"embalmerSarcophagusIdentifier","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"archaeologist","type":"address"}],"name":"archaeologistSarcophagusCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"archaeologist","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"archaeologistSarcophagusIdentifier","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"recipient","type":"address"}],"name":"recipientSarcophagusCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"recipientSarcophagusIdentifier","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"archaeologist","type":"address"}],"name":"archaeologistSuccessesCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"archaeologist","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"archaeologistSuccessesIdentifier","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"archaeologist","type":"address"}],"name":"archaeologistCancelsCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"archaeologist","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"archaeologistCancelsIdentifier","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"archaeologist","type":"address"}],"name":"archaeologistAccusalsCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"archaeologist","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"archaeologistAccusalsIdentifier","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"archaeologist","type":"address"}],"name":"archaeologistCleanupsCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"archaeologist","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"archaeologistCleanupsIdentifier","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"bytes32","name":"identifier","type":"bytes32"}],"name":"sarcophagus","outputs":[{"components":[{"internalType":"enum Types.SarcophagusStates","name":"state","type":"uint8"},{"internalType":"address","name":"archaeologist","type":"address"},{"internalType":"bytes","name":"archaeologistPublicKey","type":"bytes"},{"internalType":"address","name":"embalmer","type":"address"},{"internalType":"string","name":"name","type":"string"},{"internalType":"uint256","name":"resurrectionTime","type":"uint256"},{"internalType":"uint256","name":"resurrectionWindow","type":"uint256"},{"internalType":"string","name":"assetId","type":"string"},{"internalType":"bytes","name":"recipientPublicKey","type":"bytes"},{"internalType":"uint256","name":"storageFee","type":"uint256"},{"internalType":"uint256","name":"diggingFee","type":"uint256"},{"internalType":"uint256","name":"bounty","type":"uint256"},{"internalType":"uint256","name":"currentCursedBond","type":"uint256"},{"internalType":"bytes32","name":"privateKey","type":"bytes32"}],"internalType":"struct Types.Sarcophagus","name":"","type":"tuple"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"bytes","name":"currentPublicKey","type":"bytes"},{"internalType":"string","name":"endpoint","type":"string"},{"internalType":"address","name":"paymentAddress","type":"address"},{"internalType":"uint256","name":"feePerByte","type":"uint256"},{"internalType":"uint256","name":"minimumBounty","type":"uint256"},{"internalType":"uint256","name":"minimumDiggingFee","type":"uint256"},{"internalType":"uint256","name":"maximumResurrectionTime","type":"uint256"},{"internalType":"uint256","name":"freeBond","type":"uint256"}],"name":"registerArchaeologist","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"endpoint","type":"string"},{"internalType":"bytes","name":"newPublicKey","type":"bytes"},{"internalType":"address","name":"paymentAddress","type":"address"},{"internalType":"uint256","name":"feePerByte","type":"uint256"},{"internalType":"uint256","name":"minimumBounty","type":"uint256"},{"internalType":"uint256","name":"minimumDiggingFee","type":"uint256"},{"internalType":"uint256","name":"maximumResurrectionTime","type":"uint256"},{"internalType":"uint256","name":"freeBond","type":"uint256"}],"name":"updateArchaeologist","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"withdrawBond","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"address","name":"archaeologist","type":"address"},{"internalType":"uint256","name":"resurrectionTime","type":"uint256"},{"internalType":"uint256","name":"storageFee","type":"uint256"},{"internalType":"uint256","name":"diggingFee","type":"uint256"},{"internalType":"uint256","name":"bounty","type":"uint256"},{"internalType":"bytes32","name":"identifier","type":"bytes32"},{"internalType":"bytes","name":"recipientPublicKey","type":"bytes"}],"name":"createSarcophagus","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes","name":"newPublicKey","type":"bytes"},{"internalType":"bytes32","name":"identifier","type":"bytes32"},{"internalType":"string","name":"assetId","type":"string"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"updateSarcophagus","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"identifier","type":"bytes32"}],"name":"cancelSarcophagus","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"identifier","type":"bytes32"},{"internalType":"uint256","name":"resurrectionTime","type":"uint256"},{"internalType":"uint256","name":"diggingFee","type":"uint256"},{"internalType":"uint256","name":"bounty","type":"uint256"}],"name":"rewrapSarcophagus","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"identifier","type":"bytes32"},{"internalType":"bytes32","name":"privateKey","type":"bytes32"}],"name":"unwrapSarcophagus","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"identifier","type":"bytes32"},{"internalType":"bytes","name":"singleHash","type":"bytes"},{"internalType":"address","name":"paymentAddress","type":"address"}],"name":"accuseArchaeologist","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"identifier","type":"bytes32"}],"name":"burySarcophagus","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"identifier","type":"bytes32"},{"internalType":"address","name":"paymentAddress","type":"address"}],"name":"cleanUpSarcophagus","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]')},405:function(e){e.exports=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]')},406:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return d}));var n=r(15),a=r(1),c=r.n(a),s=r(12),i=r(14),o=r(48),u=r(2),l=r(52),d=function(t){var r=Object(l.b)().account,a=Object(u.useState)([]),d=Object(i.a)(a,2),p=d[0],b=d[1],h=Object(u.useState)(!1),f=Object(i.a)(h,2),m=f[0],j=f[1],g=Object(u.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(r){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===t||void 0===t?void 0:t.embalmerSarcophagusCount(r);case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),console.error("There was a problem with contract : Count",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),[t]),v=Object(u.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(r,n){var a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=new Array(null===n||void 0===n?void 0:n.toNumber()).fill(void 0),e.next=4,Promise.all(a.map(function(){var e=Object(s.a)(c.a.mark((function e(n,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===t||void 0===t?void 0:t.embalmerSarcophagusIdentifier(r,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()));case 4:return i=e.sent,e.abrupt("return",i);case 8:e.prev=8,e.t0=e.catch(0),console.error("There was a problem with contract : EmbalmerDoubleHashes",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}(),[t]),y=Object(u.useCallback)(function(){var r=Object(s.a)(c.a.mark((function r(a){var i;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Promise.all(a.map(function(){var r=Object(s.a)(c.a.mark((function r(a){return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=n.a,r.t1=n.a,r.t2={},r.next=5,null===t||void 0===t?void 0:t.sarcophagus(e.from(o.utils.arrayify(a)));case 5:return r.t3=r.sent,r.t4=(0,r.t1)(r.t2,r.t3),r.t5={},r.t6={AssetDoubleHash:a},r.abrupt("return",(0,r.t0)(r.t4,r.t5,r.t6));case 10:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())).catch((function(e){return console.error("There was a problem with contract : EmbalmerInfo",e)}));case 3:return i=r.sent,r.abrupt("return",i);case 7:r.prev=7,r.t0=r.catch(0),console.error("There was a problem with contract : EmbalmerInfo",r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}(),[t]),x=Object(u.useCallback)((function(){r&&g(r).then((function(e){(null===e||void 0===e?void 0:e.isZero())||v(r,e).then((function(e){(null===e||void 0===e?void 0:e.length)&&y(e).then((function(e){(null===e||void 0===e?void 0:e.length)&&(j((function(){return e.filter((function(e){return 1===e.state}))})),b((function(){return e})))})).catch((function(e){return console.error("Sarcophagus Info",e)}))})).catch((function(e){return console.error("Sarcophagus Identifiers",e)}))})).catch((function(e){return console.error("Sarcophagus Count",e)}))}),[r,g,v,y]);return Object(u.useEffect)((function(){x()}),[x]),{embalmerSarcophagi:m,embalmerAllSarcophagi:p,getEmbalmerSarcophagi:x}}}).call(this,r(22).Buffer)},407:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return m}));var n=r(1),a=r.n(n),c=r(15),s=r(12),i=r(14),o=r(48),u=r(39),l=r(2),d=r(17),p=r(8),b=r(45),h=r(194),f=r(408),m=function(t){var r=Object(f.a)().contractCall,n=Object(l.useState)(null),m=Object(i.a)(n,2),j=m[0],g=m[1],v=Object(l.useState)([]),y=Object(i.a)(v,2),x=y[0],O=y[1],w=function(){var e=Object(s.a)(a.a.mark((function e(n,s,i,o,u,l,b,h,f,m,j){var v,y,x,w,S;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{v=function(){var e={assetDoubleHash:b,sarcophagusName:n,doubleEncryptedFile:f,endpoint:s.endpoint,txReceipt:null};g(e),O([e]),m.replace("/")},y=function(e){var t=e.transactionHash;g((function(e){return Object(c.a)(Object(c.a)({},e),{},{txReceipt:t})})),O([]),console.info("CREATE TX HASH",t),j()},r(t.createSarcophagus,[n,s.address,i,o,u,l,b,h],p.V.TRANSACTION_MINING_IN_PROGRESS,v,"Transaction failed...","Transaction successful",y)}catch(a){4001===(null===a||void 0===a?void 0:a.code)?d.b.error(p.fb):-32603===(null===a||void 0===a||null===(x=a.error)||void 0===x?void 0:x.code)?("execution reverted: revert resurrection time must be in the future"===(null===a||void 0===a||null===(w=a.error)||void 0===w?void 0:w.message)&&d.b.error("Resurrection time must be in the future"),"execution reverted: ERC20: transfer amount exceeds balance"===(null===a||void 0===a||null===(S=a.error)||void 0===S?void 0:S.message)&&d.b.error("Sarco balance too low to execute transaction")):(d.b.error("There was a problem creating sarcophagus"),console.error("There was a problem creating sarcophagus:",a))}case 1:case"end":return e.stop()}}),e)})));return function(t,r,n,a,c,s,i,o,u,l,d){return e.apply(this,arguments)}}(),S=function(){var n=Object(s.a)(a.a.mark((function n(c,s,i,u,l){var b,h,f,m;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{b=c.AssetDoubleHash,h=e.from(o.utils.arrayify(b)),f=function(){u(),s(p.V.TRANSACTION_MINING_IN_PROGRESS)},m=function(e){var t=e.transactionHash;console.info("BURY TX HASH",t),i(),l()},r(t.burySarcophagus,[h],p.V.TRANSACTION_MINING_IN_PROGRESS,f,"Transaction failed...","Transaction successful",m)}catch(a){4001===(null===a||void 0===a?void 0:a.code)?d.b.error(p.fb):(d.b.error("There was a problem buring sarcophagus"),console.error("There was a problem buring sarcophagus",a))}case 1:case"end":return n.stop()}}),n)})));return function(e,t,r,a,c){return n.apply(this,arguments)}}(),T=function(){var n=Object(s.a)(a.a.mark((function n(c,s,i,u,l){var b,h,f,m,j;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{b=c.AssetDoubleHash,h=c.archaeologist,f=e.from(o.utils.arrayify(b)),m=function(){s(p.V.TRANSACTION_MINING_IN_PROGRESS),i()},j=function(e){var t=e.transactionHash;console.info("CLEAN TX HASH",t),u(),l()},r(t.cleanUpSarcophagus,[f,h],p.V.TRANSACTION_MINING_IN_PROGRESS,m,"Transaction failed...","Transaction successful",j)}catch(a){4001===(null===a||void 0===a?void 0:a.code)?d.b.error(p.fb):(d.b.error("There was a problem cleaning sarcophagus"),console.error("There was a problem cleaning sarcophagus",a))}case 1:case"end":return n.stop()}}),n)})));return function(e,t,r,a,c){return n.apply(this,arguments)}}();return{createSarcophagus:w,updateSarcophagus:function(n,c,i,o){try{var u=j.NewPublicKey,l=j.AssetDoubleHash,b=j.AssetId,h=j.V,f=j.R,m=j.S;u=e.from(u,"base64");var v=function(){var e=Object(s.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.transactionHash,c(),console.info("UPDATE TX HASH",r),n(p.V.ACTIVE),g(null);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();r(t.updateSarcophagus,[u,l,b,h,f,m],p.V.TRANSACTION_MINING_IN_PROGRESS,(function(){n(p.V.TRANSACTION_MINING_IN_PROGRESS),i()}),"Transaction failed...","Transaction successful",v)}catch(x){var y;4001===(null===x||void 0===x?void 0:x.code)?d.b.error(p.fb):"execution reverted: public key already used"===(null===x||void 0===x||null===(y=x.error)||void 0===y?void 0:y.message)?(d.b.error("Public key already used"),n(""),o("Public key already used")):(d.b.error("There was a problem updating sarcophagus"),console.error("There was a problem updating sarcophagus",x))}},cancelSarcophagus:function(){var n=Object(s.a)(a.a.mark((function n(c,s,i,u,l){var b,h,f,m;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{b=c.AssetDoubleHash,h=e.from(o.utils.arrayify(b)),f=function(){s(p.V.TRANSACTION_MINING_IN_PROGRESS),i()},m=function(e){var t=e.transactionHash;console.info("CANCEL TX HASH",t),u(),l()},r(t.cancelSarcophagus,[h],p.V.TRANSACTION_MINING_IN_PROGRESS,f,"Transaction failed...","Transaction successful",m)}catch(a){4001===(null===a||void 0===a?void 0:a.code)?d.b.error(p.fb):(d.b.error("There was a problem canceling sarcophagus"),console.error("There was a problem canceling sarcophagus",a))}case 1:case"end":return n.stop()}}),n)})));return function(e,t,r,a,c){return n.apply(this,arguments)}}(),cleanSarcophagus:T,burySarcophagus:S,rewrapSarcophagus:function(n,a,c,s,i,l){try{var h=n.AssetDoubleHash,f=a.bounty,m=a.diggingFee,j=a.resurrectionTime,g=a.custom,v=e.from(o.utils.arrayify(h)),y=g?Object(b.b)(j):u.a.from(j/1e3),x=o.utils.parseEther(m.toString()),O=o.utils.parseEther(f.toString());i(p.V.TRANSACTION_MINING_IN_PROGRESS),r(t.rewrapSarcophagus,[v,y,x,O],p.V.TRANSACTION_MINING_IN_PROGRESS,(function(){i(p.V.TRANSACTION_MINING_IN_PROGRESS),s()}),"Transaction failed...","Transaction successful",(function(e){var t=e.transactionHash;console.info("REWRAP TX HASH",t),c(),l()}))}catch(N){var w;if(4001===(null===N||void 0===N?void 0:N.code))d.b.error(p.fb);else if(-32603===(null===N||void 0===N||null===(w=N.error)||void 0===w?void 0:w.code)){var S,T;"execution reverted: revert resurrection time must be in the future"===(null===N||void 0===N||null===(S=N.error)||void 0===S?void 0:S.message)&&d.b.error("Resurrection time must be in the future"),"execution reverted: ERC20: transfer amount exceeds balance"===(null===N||void 0===N||null===(T=N.error)||void 0===T?void 0:T.message)&&d.b.error("Sarco balance too low to execute transaction")}else d.b.error("There was a problem rewrapping sarcophagus"),console.error("There was a problem rewrapping sarcophagus",N)}},accuseArchaeologist:function(){var n=Object(s.a)(a.a.mark((function n(c,s){var i,u,l,b,f,m,j;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{i=c.singleHash,u=c.identifier,l=c.address,b=e.from(o.utils.arrayify(u)),f=e.from(o.utils.arrayify(i)),m=function(){d.b.dark("Checking accusal",{toastId:"accusalPending"})},j=function(e){var t=e.transactionHash;console.info("Accuse TX HASH",t),s(h.a)},r(t.accuseArchaeologist,[b,f,l],"Checking accusal",m,p.b,p.a,j)}catch(a){4001===(null===a||void 0===a?void 0:a.code)?d.b.error(p.fb):console.error("Accused Unsuccessful: ",a)}case 1:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),createData:j,setCreateData:g,pendingSarcophagi:x}}}).call(this,r(22).Buffer)},408:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(46),a=r(14),c=r(2),s=r(17),i=function(){var e=Object(c.useState)(!1),t=Object(a.a)(e,2),r=t[0],i=t[1];return{contractCall:Object(c.useCallback)((function(e,t,r,c,o,u,l,d){var p;i(!0),e.apply(void 0,Object(n.a)(t)).then((function(e){return c(),p=s.b.dark(r,{autoClose:!1,closeOnClick:!1,draggable:!1}),Promise.all([e.wait(),p])})).then((function(e){var t=Object(a.a)(e,2),r=t[0],n=t[1];i(!1),s.b.dismiss(n),0===r.status?s.b.error(o):1===r.status?(s.b.success(u),l&&l(r)):s.b.error("Not sure what happened with that transaction"),d&&d()})).catch((function(e){console.error(e),i(!1),s.b.dismiss(p),s.b.error("There was an error! Check your browser's console logs for more details.")}))}),[]),pending:r}}},414:function(e,t,r){"use strict";(function(e){var n=r(1),a=r.n(n),c=r(12),s=r(140),i=r(82),o=(r(2),r(17)),u=r(163),l=r(141),d=r(71),p=r(415),b=r(199),h=r(200),f=r(0),m=function(e){var t;return"0x"!==(null===e||void 0===e?void 0:e.substr(0,2))&&(t="0x"+e),t||e};t.a=function(t){var r=t.sarcophagus,n=t.recipientPrivateKey,j=function(){var t=Object(c.a)(a.a.mark((function t(c){var i,d,p,b,h,f,j,g,v,y,x,O;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=m(n||c.recipientPrivateKey),d=r.privateKey,p=Object(u.b)(),t.next=6,p.transactions.getData(r.assetId,{decode:!0});case 6:return b=t.sent,t.next=9,Object(u.a)(p,r.assetId,b);case 9:if(t.sent){t.next=12;break}return t.abrupt("return");case 12:return t.next=14,Object(s.decrypt)(Object(l.a)(d,!0).slice(1),b).catch((function(e){return console.error("Outer",e)}));case 14:return h=t.sent,t.next=17,Object(s.decrypt)(Object(l.a)(i,!0).slice(1),h).catch((function(e){return console.error("Inner:",e)}));case 17:f=t.sent;try{g=JSON.parse(f),v=g.type,y=g.data,j=new Blob([e.from(Object.values(y))],{type:v})}catch(a){j=new Blob([f])}x=window.URL.createObjectURL(j),o.b.dark("Downloading file"),(O=document.createElement("a")).style.display="none",O.href=x,O.download=r.name,document.body.appendChild(O),O.click(),window.URL.revokeObjectURL(x),t.next=34;break;case 30:t.prev=30,t.t0=t.catch(0),console.error("There was an error downloading file:",t.t0),o.b.dark("There was an error downloading file");case 34:case"end":return t.stop()}}),t,null,[[0,30]])})));return function(e){return t.apply(this,arguments)}}();return Object(f.jsx)(i.a,{initialValues:p.a,validationSchema:Object(h.a)(!!n),onSubmit:function(e){return j(e)},children:function(e){var t=e.values,r=e.errors,a=e.touched,c=e.handleChange,s=e.handleSubmit;return Object(f.jsxs)("form",{onSubmit:s,className:"px-2",children:[!n&&Object(f.jsx)(b.a,{values:t,errors:r,touched:a,handleChange:c}),Object(f.jsx)(d.a,{_classnames:"mx-auto w-full mb-4",type:"submit",label:"Resurrect File"})]})}})}}).call(this,r(22).Buffer)},415:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n={recipientPrivateKey:""}},416:function(e){e.exports=JSON.parse('{"name":"sarco-webapp","version":"0.1.0","private":true,"dependencies":{"@craco/craco":"^6.1.1","@testing-library/jest-dom":"^5.11.9","@testing-library/react":"^11.2.5","@testing-library/user-event":"^12.8.1","@tippyjs/react":"^4.2.3","@walletconnect/web3-provider":"^1.3.6","arweave":"^1.10.11","authereum":"^0.0.1","classnames":"^2.2.6","ecies-geth":"^1.4.1","ethers":"^5.0.31","formik":"^2.2.6","numeral":"^2.0.6","react":"^17.0.1","react-datepicker":"^3.6.0","react-dom":"^17.0.1","react-dropzone":"^11.3.1","react-router-dom":"^5.2.0","react-scripts":"4.0.3","react-toastify":"^7.0.3","web-vitals":"^1.1.0","web3modal":"^1.9.3","yup":"^0.32.9"},"scripts":{"start":"REACT_APP_GIT_HASH=`git rev-parse --short HEAD` craco start","build":"REACT_APP_GIT_HASH=`git rev-parse --short HEAD` craco build","test":"craco test","eject":"react-scripts eject"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"engines":{"node":"12.20.1"},"devDependencies":{"@tailwindcss/postcss7-compat":"^2.0.3","autoprefixer":"^9.8.6","dotenv":"^8.2.0","postcss":"^7.0.35","tailwindcss":"npm:@tailwindcss/postcss7-compat@^2.0.3","truffle":"^5.1.65"},"homepage":"https://app.sarcophagus.io"}')},428:function(e,t,r){},431:function(e,t){},433:function(e,t){},45:function(e,t,r){"use strict";r.d(t,"g",(function(){return s})),r.d(t,"e",(function(){return i})),r.d(t,"d",(function(){return u})),r.d(t,"f",(function(){return l})),r.d(t,"c",(function(){return o})),r.d(t,"h",(function(){return d})),r.d(t,"b",(function(){return b})),r.d(t,"a",(function(){return c}));var n=r(34),a=r(39),c=function(e){return Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds())},s=function(e){var t=new Date;return t.setDate(t.getDate()+e),c(t)},i=function(e){var t=1e3*Object(n.f)(e,0).value(),r=new Date(t),a=r.getTimezoneOffset();return r.setMinutes(r.getMinutes()+a),"".concat(r.toLocaleDateString()," ").concat(r.toLocaleTimeString())},o=function(e){if(!e)return"00/00/0000 0:00:00 AM";var t=new Date(e);return"".concat(t.toLocaleDateString(),"  ").concat(t.toLocaleTimeString())},u=function(e){return new Date(e)},l=function(e){var t=e-Date.parse(new Date),r=Math.floor(t/1e3%60),n=Math.floor(t/1e3/60%60),a=Math.floor(t/36e5%24),c=Math.floor(t/864e5);return"".concat(c," days ").concat(p(a),":").concat(p(n),":").concat(p(r))},d=function(e,t){var r=1e3*Object(n.f)(e,0).value(),a=1e3*Object(n.f)(t,0).value();return Math.sign(r+a-Date.now().valueOf()<=0)},p=function(e){return e<10?"0".concat(e):e},b=function(e){var t=new Date(e),r=c(t);return a.a.from(r/1e3)}},49:function(e,t,r){"use strict";var n=r(91),a=r.p+"static/media/question.d848fe1b.svg",c=r(0);t.a=function(e){var t=e.content;return Object(c.jsx)(n.a,{content:t,className:"border-2 border-white rounded text-center text-xs font-normal p-2 bg-gray-900",children:Object(c.jsx)("img",{src:a,alt:"tooltip"})})}},52:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o}));var n,a=r(2),c=r(139),s=r(0);var i=function(){(n=Object(a.createContext)()).displayName="Web3 Provider";var e=n.Provider;return function(t){var r=t.children,n=Object(c.b)();return Object(s.jsx)(e,{value:n,children:r})}}();function o(){return Object(a.useContext)(n)}},543:function(e,t){},544:function(e,t){},557:function(e,t){},57:function(e,t,r){"use strict";r(2);var n=r(30),a=r.n(n),c=r(0);t.a=function(e){var t=e.extraPadding,r=e.children;return Object(c.jsx)("div",{className:a()(t,"text-xs text-red"),children:r})}},598:function(e,t){},600:function(e,t){},623:function(e,t){},625:function(e,t){},64:function(e,t,r){"use strict";r.d(t,"c",(function(){return a})),r.d(t,"b",(function(){return c})),r.d(t,"a",(function(){return s}));var n=r(39),a=function(e,t,r,n){if(e.length<=t)return e;var a=t-(r=r||"...").length,c=Math.ceil(n||a/2+1),s=Math.floor(a/2-1);return e.substr(0,c)+r+e.substr(e.length-s)},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=Array.from({length:e+1},(function(e,t){return 0===t?0:t}));t&&r.shift();var n={};return r.forEach((function(e){return n["number_".concat(e)]=e})),n},s=function(e,t,r,a){var c=e.add(t),s=2===a&&"0x0000000000000000000000000000000000000000000000000000000000000000"!==r,i=1===a&&c.gte(n.a.from(Number(Date.now().valueOf()/1e3).toFixed(0)));return{isUnwrapped:s,isActive:i,isVisible:s||i}}},642:function(e,t){},644:function(e,t){},70:function(e,t,r){"use strict";var n=r(15),a=r(32),c=(r(2),r(30)),s=r.n(c),i=r(0),o=["type","height","_classnames","iPlaceholder","error","errored"],u=["type","height","error","errored","_classnames"],l=["type","value","children"],d=["type"],p={sm:"1.25rem",md:"1.88rem",lg:"2.625rem",xl:"6.75rem",accuse:"4rem"},b="w-full pl-4 text-md bg-black font-normal text-white border remove-input-steps focus:outline-none",h="border border-red",f=function(e){var t=e.type,r=e.height,c=void 0===r?"md":r,u=e._classnames,l=e.iPlaceholder,d=void 0===l?"":l,f=(e.error,e.errored),m=Object(a.a)(e,o);return Object(i.jsx)("input",Object(n.a)({type:t,className:f?s()(b,d,h,u):s()(b,"border border-gray-500",d,u),style:{height:p[c],lineHeight:"1.4357rem"}},m))},m="w-full p-2 bg-black text-white text-md focus:outline-none border border-gray-500",j=function(e){var t=e.type,r=e.height,c=void 0===r?"md":r,o=(e.error,e.errored),l=e._classnames,d=Object(a.a)(e,u);return Object(i.jsx)("textarea",Object(n.a)({type:t,className:o?s()(m,h,l):s()(m,l),style:{height:p[c],lineHeight:"1.4357rem"}},d))},g=function(e){var t=e.type,r=e.value,c=e.children,s=Object(a.a)(e,l);return Object(i.jsxs)("div",{className:"text-sm",style:{lineHeight:"2.125rem"},children:[Object(i.jsx)("input",Object(n.a)({id:r,type:t},s)),Object(i.jsx)("label",{htmlFor:r,children:c})]})};t.a=function(e){var t=e.type,r=void 0===t?"text":t,c=Object(a.a)(e,d);return"text"===r||"number"===r?Object(i.jsx)(f,Object(n.a)({type:r},c)):"textarea"===r?Object(i.jsx)(j,Object(n.a)({type:r},c)):"radio"===r?Object(i.jsx)(g,Object(n.a)({type:r},c)):Object(i.jsx)(i.Fragment,{})}},71:function(e,t,r){"use strict";var n=r(15),a=r(32),c=(r(2),r(30)),s=r.n(c),i=r(0),o=["label","isDisabled","_classnames","errors","height","width"],u={sm:"1.25rem",md:"2.625rem",lg:"2.65rem"},l="1.625rem",d={default:"12.75rem"},p="text-md font-medium flex justify-center items-center focus:outline-none",b="text-gray-400 border border-500 cursor-default";t.a=function(e){var t=e.label,r=e.isDisabled,c=void 0!==r&&r,h=e._classnames,f=e.errors,m=e.height,j=void 0===m?"md":m,g=e.width,v=void 0===g?"default":g,y=Object(a.a)(e,o);return Object(i.jsx)("button",Object(n.a)(Object(n.a)({disabled:c,className:c?s()(p,b,h):f?s()(p,b,"",h):s()(p,"text-white border border-white",h),style:{height:u[j],width:d[v],lineHeight:l}},y),{},{children:t}))}},8:function(e,t,r){"use strict";r.d(t,"n",(function(){return c})),r.d(t,"ib",(function(){return s})),r.d(t,"gb",(function(){return i})),r.d(t,"hb",(function(){return o})),r.d(t,"D",(function(){return u})),r.d(t,"bb",(function(){return l})),r.d(t,"V",(function(){return d})),r.d(t,"L",(function(){return p})),r.d(t,"e",(function(){return b})),r.d(t,"q",(function(){return h})),r.d(t,"k",(function(){return f})),r.d(t,"R",(function(){return m})),r.d(t,"t",(function(){return j})),r.d(t,"fb",(function(){return g})),r.d(t,"a",(function(){return v})),r.d(t,"b",(function(){return y})),r.d(t,"l",(function(){return x})),r.d(t,"m",(function(){return O})),r.d(t,"E",(function(){return w})),r.d(t,"F",(function(){return S})),r.d(t,"I",(function(){return T})),r.d(t,"J",(function(){return N})),r.d(t,"K",(function(){return C})),r.d(t,"u",(function(){return k})),r.d(t,"v",(function(){return A})),r.d(t,"w",(function(){return I})),r.d(t,"Q",(function(){return E})),r.d(t,"N",(function(){return P})),r.d(t,"O",(function(){return R})),r.d(t,"P",(function(){return D})),r.d(t,"H",(function(){return F})),r.d(t,"r",(function(){return _})),r.d(t,"g",(function(){return M})),r.d(t,"p",(function(){return H})),r.d(t,"W",(function(){return V})),r.d(t,"Z",(function(){return U})),r.d(t,"Y",(function(){return B})),r.d(t,"X",(function(){return G})),r.d(t,"ab",(function(){return K})),r.d(t,"s",(function(){return W})),r.d(t,"f",(function(){return L})),r.d(t,"o",(function(){return q})),r.d(t,"i",(function(){return z})),r.d(t,"j",(function(){return Z})),r.d(t,"h",(function(){return J})),r.d(t,"db",(function(){return X})),r.d(t,"eb",(function(){return Q})),r.d(t,"cb",(function(){return Y})),r.d(t,"M",(function(){return $})),r.d(t,"x",(function(){return ee})),r.d(t,"y",(function(){return te})),r.d(t,"z",(function(){return re})),r.d(t,"T",(function(){return ne})),r.d(t,"U",(function(){return ae})),r.d(t,"S",(function(){return ce})),r.d(t,"G",(function(){return se})),r.d(t,"d",(function(){return ie})),r.d(t,"c",(function(){return oe})),r.d(t,"B",(function(){return ue})),r.d(t,"C",(function(){return le})),r.d(t,"A",(function(){return de}));var n=r(64),a=r(45),c="text-gray-400",s=(Object(n.b)(365,!0),Object(n.b)(23),Object(n.b)(59),Object(a.g)(7)),i=Object(a.g)(30),o=Object(a.g)(90),u=5,l="0 days 00:00:00",d={SARCOPHAGUS_SUCCESS:"Sarcophagus has been mined!",ARWEAVE_STARTED:"File is being uploaded",ARWEAVE_PENDING:"File is being mined on arweave",SARCOPHAGUS_AWAIT_SIGN:"Signing needed",CHECKING_STATUS:"Checking status...",ACTIVE:"Sarcophagus is Active",WINDOW_CLOSED:"Resurrection Window is past",TRANSACTION_MINING_IN_PROGRESS:"Mining in progress",UNWRAPPING:"UnWrapping in progress"},p={CREATED:"Sarcophagus creation in progress, resurrection unavailable",ACTIVE:"Sarcophagus Active",UNWRAPPED:"Sarcophagus unwrapped, resurrection available"},b={DEFAULT:"Checking status",CANCELED:"Sarcophagus cancelled",ACCUSED:"Sarcophagus accused",CLEANED:"Sarcophagus cleaned",UNWRAPPED:"Sarcophagus unwrapped",BURIED:"Sarcophagus buried"},h={BLOCKCHAIN_SERVER:"There was an error connecting to blockchain",ARCH_CONNECTION_FAILED:"There was a problem connecting to archaeologist",ARWEAVE_TRANSACTION_FAILED:"There was a transaction error",ARWEAVE_FILE_ERROR:"There was an error validating the arweave file",ARCH_FILE_HANDLING_FAILED:"The archaeologist had a problem handling file"},f="There was an error comunicating with contract",m="Loading sarcophagi...",j="File is being mined, please wait to update sarcophagus",g="Transaction Rejected",v="The accusal was successful",y="The accusal was unsuccessful",x="This is where you create a Sarcophagus, a process we call \u201cembalming.\u201d Name your Sarcophagus, paste the full public key of the recipient and upload the file you wish to embalm.",O="Create Sarcophagus",w="Name Sarcophagus and add recipient",S="The name you choose will be public on the blockchain.",T="Click here",N="to get your recipient\u2019s full Ethereum public key. (This is not the same as a public address.) ",C="When resurrecting the Sarcophagus, the recipient will need to input the private key of their Ethereum public key. They can generate a fresh Ethereum public key if concerned with private key exposure.",k="Upload your file to your sarcophagus",A="Upload a file to embalm. It will be downloaded after resurrection exactly as is.",I="Current alpha max file size: 2.9 MB",E="Set resurrection time",P="The resurrection is the exact date and time that the outer layer of your Sarcophagus will be decrypted by the archaeologist.",R="If you don\u2019t attest before this time; only the inner layer controlled by the recipient is protecting the data. ",D="The further you set the resurrection time, the more it will cost.",F="Pick an Archaeologist",_="Archaeologists are sorted by their minimum fees. After you select one, that minimum fee will be set with the option to increase. ",M="Max Bounty. Paid to the Archaeologist for a successful resurrection (keep default unless adv user)",H="Max Digging Fees. Paid to the archaeologist after re-wrap (keep default unless adv user)",V="Archaeologists",U="Fee",B="Digging Fee",G="Bounty",K="Metrics",W="Total fee in $SARCO to create this sarcophagus.",L="This Archaeologists minimum bounty requirement.",q="This Archaeologists minimum digging fee for your resurrection date/time.",z="Canceling a sarcophagus, transfers the bounty and storage fee back, transfers the digging fee to the archaeologist, and archives sarcophagus.",Z="Cleaning a sarcophagus, rewards embalmer with the cursed bond, and refunds the rest of the payment (bounty and digging fees) back to embalmer and archives sarcophagus.",J="Burying a sarcophagus, releases digging fees to archaeologist and archives sarcophagus.",X="This is where you manage your Sarcophagi. View the ones you created or received, including any canceled, buried, or errored out",Q="For more information on alert statuses and different states of your Sarcophagi,",Y="see here",$="If the embalmer does not attest to their Sarcophagus, this is where the receiver will type in the private key to decrypt the inner layer and gain access to the file.",ee="The Eye of Horus watches over your Sarcophagi and allows network participants to prove any wrongdoing by the archaeologist at any time.",te="When a Sarcophagus is created, a hash for each layer is also created. The hash is used to prove the identity and integrity of the layers.",re="The single hash remains hidden unless the Sarcophagus is unwrapped. This can happen during the resurrection time, or if the archaeologist unwraps before then.",ne="Single Hash",ae="The Sarcophagus payload (file bytes) with the outer layer decrypted, hashed once",ce="0x0000000000000000000000000000000000000000000000000000000000000000",se="Archaeologist Address",ie="Address of the archaeologist you are accusing",oe="0x0000000000000000000000000000000000000000",ue="Sarcophagus Identifier",le="The Sarcophagus payload (file bytes) encrypted and hashed twice. This proves that the archaeologist uploaded the correct data to Arweave.",de="0x0000000000000000000000000000000000000000000000000000000000000000"},822:function(e,t,r){"use strict";r.r(t);var n,a,c,s=r(2),i=r.n(s),o=r(100),u=r.n(o),l=(r(428),r(66)),d=r(55),p=r(14),b=r(82),h=r(8),f=r(15),m=r(32),j=r(30),g=r.n(j),v=r(0),y=["transition","addClass","children"],x="py-12 pr-2 relative border-b border-gray-500",O=function(e){var t=e.transition,r=void 0===t||t,n=e.addClass,a=e.children,c=Object(m.a)(e,y);return Object(v.jsx)("div",Object(f.a)(Object(f.a)({className:r?g()(x,"ease-in-transition",n):g()(x,n)},c),{},{children:a}))},w=r(29),S=r.p+"static/media/sarcophagus.305a5839.svg",T=function(){return Object(v.jsxs)(O,{transition:!1,children:[Object(v.jsx)(w.a,{type:"main",title:h.m,icon:S}),Object(v.jsx)("div",{className:"text-md font-normal",children:h.l})]})},N={recipientPublicKey:"",name:"",resurrectionTime:"",bounty:100,diggingFee:10,custom:!1,customTime:"",fileUploaded:!1,address:"",daysDisplayed:0},C=r(48),k=r(40),A=k.d().shape({recipientPublicKey:k.e().test("required","Recipient Address is required",(function(e){return!!e})).test("validDataHextString","Please enter a valid public key",(function(e){var t,r;return"0x04"!==(null===e||void 0===e||null===(t=e.substr)||void 0===t?void 0:t.call(e,0,4))&&(r="0x04"+e),C.utils.isHexString(r||e,65)})),name:k.e().required("Name is required"),resurrectionTime:k.c().required("Resurrection time is required"),bounty:k.c().required("Bounty is required"),diggingFee:k.c().required("Digging Fee is required"),customTime:k.c().when("custom",{is:!0,then:k.c().required("Resurrection time is required")}),custom:k.a(),fileUploaded:k.b().test("required","Please upload a file",(function(e){return!!e})).test("filesize","Files must not be larger than 2.8MB",(function(e){return!e||e.size<=29e5})),address:k.e().required("Please select an archaeologist")}).nullable(),I=r(39),E=r(1),P=r.n(E),R=r(12),D=r(140),F=r(141),_=function(){var e=Object(s.useState)(!1),t=Object(p.a)(e,2),r=t[0],n=t[1],a=Object(s.useState)(!1),c=Object(p.a)(a,2),i=c[0],o=c[1],u=Object(s.useState)(!1),l=Object(p.a)(u,2),d=l[0],b=l[1],h=Object(s.useState)(!1),f=Object(p.a)(h,2),m=f[0],j=f[1],g=Object(s.useState)(!1),v=Object(p.a)(g,2),y=v[0],x=v[1],O=Object(s.useState)(!1),w=Object(p.a)(O,2),S=w[0],T=w[1],N=Object(s.useState)(!1),k=Object(p.a)(N,2),A=k[0],I=k[1];Object(s.useEffect)((function(){if(r)try{var e=new FileReader;e.readAsArrayBuffer(r),e.onload=function(e){var t=e.target.result;b(t)}}catch(t){console.error(t)}}),[r]);var E=Object(s.useCallback)(Object(R.a)(P.a.mark((function e(){var t,r,n,a,c;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"0x04"!==i.substr(0,4)&&(t="0x04"+i),r=Object(F.a)(t||i,!0).slice(1),e.next=5,Object(D.encrypt)(r,d);case 5:n=e.sent,j(n),a=C.utils.keccak256(n),c=C.utils.keccak256(a),I(C.utils.arrayify(c)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),[i,d]);Object(s.useEffect)((function(){d&&i&&E()}),[d,i,E]);var _=Object(s.useCallback)(Object(R.a)(P.a.mark((function e(){var t,r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Object(F.a)(y,!0),e.next=4,Object(D.encrypt)(t,m);case 4:r=e.sent,T(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[m,y]);return Object(s.useEffect)((function(){m&&y&&_()}),[m,y,_]),{file:r,setFile:n,setRecipientPublicKey:o,setArchaeologistAddress:x,doubleEncryptedFile:S,assetDoubleHash:A}},M=r(45),H=r(116),V=r(52),U=r(119),B=r(404),G=r(405),K=function(){var e=Object(V.b)(),t=e.chainId,r=e.signerOrProvider,n=Object(U.b)(t),a=Object(s.useState)(),c=Object(p.a)(a,2),i=c[0],o=c[1];return Object(s.useEffect)((function(){if(t&&n&&r)try{var e=new H.b(n.sarcophagus,B,r);o(e)}catch(a){console.error("sarco contract error",a)}}),[t,r,n]),i},W=function(){(n=Object(s.createContext)()).displayName="Data Provider";var e=n.Provider;return function(t){var r=t.children,n=K(),a=function(e){var t=Object(V.b)().signerOrProvider,r=Object(s.useState)(),n=Object(p.a)(r,2),a=n[0],c=n[1];return Object(s.useEffect)((function(){e&&t&&e.sarcoToken().then((function(e){try{var r=new H.b(e,G,t);c(r)}catch(n){console.error("sarco token contract error",n)}})).catch(console.error)}),[e,t]),a}(n),c=function(){var e=Object(s.useState)(0),t=Object(p.a)(e,2),r=t[0],n=t[1],a=Object(V.b)().provider;return Object(s.useEffect)((function(){if(a){a.getBlockNumber().then((function(e){n(e)})).catch(console.error);var e=function(e){n(e)};return a.on("block",e),function(){a.removeListener("block",e)}}}),[a]),r}().currentBlock,i=function(e,t){var r=Object(V.b)().account,n=Object(s.useState)(I.a.from(0)),a=Object(p.a)(n,2),c=a[0],i=a[1];return Object(s.useEffect)((function(){r&&e&&t&&t.allowance(r,null===e||void 0===e?void 0:e.address).then((function(e){i(e)})).catch((function(e){return console.error(e)}))}),[r,e,t]),c}(n,a),o=function(e,t){var r=Object(V.b)().account,n=Object(s.useState)(I.a.from(0)),a=Object(p.a)(n,2),c=a[0],i=a[1];return Object(s.useEffect)((function(){r&&e&&e.balanceOf(r).then((function(e){i(e)})).catch(console.error)}),[r,e,t]),c}(a,c),u={sarcophagusContract:n,sarcophagusTokenContract:a,allowance:i,balance:o};return Object(v.jsx)(e,{value:u,children:r})}}(),L=function(){return Object(s.useContext)(n)},q=r(46),z=r(406),Z=r(193),J=r(407),X=function(){(a=Object(s.createContext)()).displayName="Data Provider";var e=a.Provider;return function(t){var r=t.children,n=L().sarcophagusContract,a=Object(z.a)(n),c=a.embalmerSarcophagi,i=a.embalmerAllSarcophagi,o=a.getEmbalmerSarcophagi,u=Object(Z.a)(n),l=u.recipientSarcophagi,d=u.recipientAllSarcophagi,b=u.getRecipientSarcophagi,h=function(e,t){var r=Object(s.useState)([]),n=Object(p.a)(r,2),a=n[0],c=n[1];return Object(s.useEffect)((function(){var r=e.filter((function(e){return 2===e.state})),n=t.filter((function(e){return 2===e.state})),a=[].concat(Object(q.a)(r),Object(q.a)(n)),s=Array.from(a.reduce((function(e,t){return t&&t.AssetDoubleHash&&e.set(t.AssetDoubleHash,t)}),new Map).values());c(s)}),[e,t]),{archivedSarcophagi:a}}(i,d).archivedSarcophagi,f=Object(J.a)(n),m={createSarcophagus:f.createSarcophagus,updateSarcophagus:f.updateSarcophagus,cancelSarcophagus:f.cancelSarcophagus,cleanSarcophagus:f.cleanSarcophagus,rewrapSarcophagus:f.rewrapSarcophagus,burySarcophagus:f.burySarcophagus,accuseArchaeologist:f.accuseArchaeologist,getRecipientSarcophagi:b,getEmbalmerSarcophagi:o,createData:f.createData,setCreateData:f.setCreateData,pendingSarcophagi:f.pendingSarcophagi,archivedSarcophagi:h,embalmerSarcophagi:c,recipientSarcophagi:l,embalmerSarcophagiCount:c.length,recipientSarcophagiCount:l.length,archivedSarcophagiCount:h.length};return Object(v.jsx)(e,{value:m,children:r})}}(),Q=function(){return Object(s.useContext)(a)},Y=function(){var e=Object(s.useState)(!1),t=Object(p.a)(e,2),r=t[0],n=t[1],a=_(),c=a.file,i=a.setFile,o=a.setRecipientPublicKey,u=a.setArchaeologistAddress,l=a.doubleEncryptedFile,d=a.assetDoubleHash,b=Object(s.useState)(!1),h=Object(p.a)(b,2),f=h[0],m=h[1],j=Q().createSarcophagus;return{file:c,setFile:i,handleArchaeologistSelect:function(e,t){n(t),m(e),u(null===e||void 0===e?void 0:e.currentPublicKey)},selectedArchaeologist:f,handleSarcophagusCreate:function(e,t,n){try{var a,c=e.bounty,s=e.diggingFee,i=e.recipientPublicKey,o=e.resurrectionTime,u=e.name,p=e.custom?Object(M.b)(o):I.a.from(o/1e3),b=C.utils.parseEther(s.toString()),h=C.utils.parseEther(c.toString());"0x04"!==i.substr(0,4)&&(a="0x04"+i);var m=C.utils.arrayify(a||i).slice(1);j(u,f,p,r,b,h,d,m,l,t,n)}catch(g){console.error(g)}},setRecipientPublicKey:o,handleKey:function(e){o(e)}}},$=r(71),ee=r(17),te=function(){var e=L(),t=e.allowance,r=e.balance,n=e.sarcophagusContract,a=e.sarcophagusTokenContract,c=Object(s.useState)(!1),i=Object(p.a)(c,2),o=i[0],u=i[1],l=Object(s.useCallback)(Object(R.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.approve(null===n||void 0===n?void 0:n.address,I.a.from(2).pow(I.a.from(256)).sub(I.a.from(1))).then((function(e){return t=ee.b.info("Approving SARCO...",{autoClose:!1,closeOnClick:!1,draggable:!1}),Promise.all([e.wait(),t])})).then((function(e){var t=Object(p.a)(e,2),r=t[0],n=t[1];ee.b.dismiss(n),0===r.status?ee.b.error("SARCO approval failed!"):1===r.status?(ee.b.success("SARCO approval made!"),console.info("Approval TX HASH",r.transactionHash),u(!0)):ee.b.error("Not sure what happened with that transaction")})).catch((function(e){console.error(e),ee.b.dismiss(t),ee.b.error("There was an error! Check your browser's console logs for more details.")}));case 1:case"end":return e.stop()}}),e)}))),[null===n||void 0===n?void 0:n.address,a]);return Object(s.useEffect)((function(){t.lt(r)?u(!1):u(!0)}),[l,r,t]),{approved:o,approveTransaction:l}},re=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=Object(s.useState)(e),n=Object(p.a)(r,2),a=n[0],c=n[1],i=Object(s.useState)(t),o=Object(p.a)(i,2),u=o[0],l=o[1],d=function(){u&&c((function(e){return!e}))},b=function(){a&&!u&&(c(!1),l(!0))};return{collapsed:a,toggle:d,open:b}},ne=r(57),ae=["children","margin"],ce=function(e){var t=e.children,r=e.margin,n=void 0===r?"mt-8":r,a=Object(m.a)(e,ae);return Object(v.jsx)("div",Object(f.a)(Object(f.a)({className:"text-gray-400 text-2xs ".concat(n)},a),{},{children:t}))},se=r(70),ie=function(e){var t=e.children;return Object(v.jsx)("div",{className:"md:grid md:grid-cols-2 mt-8 md:gap-6",children:t})},oe=r.p+"static/media/arrowDown.7f49e23e.svg",ue=function(e){var t=e.values,r=e.errors,n=e.touched,a=e.handleChange,c=e.handleKey,s=e.title,i=e.icon,o=e.toggle;return Object(v.jsxs)(O,{children:[Object(v.jsxs)("div",{className:"flex justify-between cursor-pointer",onClick:o,children:[Object(v.jsx)(w.a,{type:"subOne",title:s,icon:i}),Object(v.jsx)("img",{alt:"",src:oe})]}),Object(v.jsxs)(ie,{children:[Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"flex items-center mb-2",children:[Object(v.jsx)(w.a,{type:"subTwo",title:"Title"}),r.name&&n.name&&Object(v.jsx)(ne.a,{children:r.name})]}),Object(v.jsx)(se.a,{type:"text",height:"lg",placeholder:"",errored:r.name&&n.name,error:r.name,name:"name",value:t.name,onChange:a,maxLength:256})]}),Object(v.jsx)(ce,{style:{marginTop:"1.75rem"},children:h.F})]}),Object(v.jsxs)(ie,{children:[Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"flex items-center mb-2",children:[Object(v.jsx)(w.a,{type:"subTwo",title:"Recipient"}),r.recipientPublicKey&&n.recipientPublicKey&&Object(v.jsx)(ne.a,{children:r.recipientPublicKey})]}),Object(v.jsx)(se.a,{name:"recipientPublicKey",value:t.recipientPublicKey,errored:r.recipientPublicKey&&n.recipientPublicKey,error:r.recipientPublicKey,onChange:function(e){a(e),c(e.target.value)},type:"textarea",height:"xl",placeholder:"0x0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"})]}),Object(v.jsxs)(ce,{style:{marginTop:"1.75rem"},children:[Object(v.jsx)("div",{className:"border-b border-gray-400 mb-4",style:{width:"fit-content"},children:"Eth public key"}),Object(v.jsxs)("div",{className:"text-gray-400 leading-5",children:[Object(v.jsx)(l.b,{className:"cursor-pointer mr-2 underline hover:text-gray-300 text-white",to:"/publicKey",children:h.I}),h.J,h.K]})]})]})]})},le=r.p+"static/media/arrowRight.9e2056b3.svg",de=function(e){var t=e.icon,r=e.title,n=e.toggle;return Object(v.jsx)(O,{transition:!1,addClass:"cursor-pointer",onClick:n,children:Object(v.jsxs)("div",{className:"flex justify-between",children:[Object(v.jsx)(w.a,{type:"subOne",title:r,icon:t}),Object(v.jsx)("img",{className:"",alt:"",src:le})]})})},pe=r.p+"static/media/name.b9f8dcfc.svg",be=["values"],he=function(e){var t=e.values,r=Object(m.a)(e,be),n=re(!1,!0),a=n.collapsed,c=n.toggle;return a?Object(v.jsx)(de,{title:h.E,icon:pe,toggle:c}):Object(v.jsx)(ue,Object(f.a)({values:t,title:h.E,icon:pe,toggle:c},r))},fe=r.p+"static/media/bxUpload.30358386.svg",me=r(418),je=r.p+"static/media/upload.54df37e0.svg",ge=["handleFile","checkfileSize","file","errors"],ve="border-2 border-dashed border-gray-500 mb-8",ye="cursor-pointer focus:outline-none",xe="flex flex-col justify-center items-center",Oe="text-white text-md",we=function(e){var t=e.handleFile,r=(e.checkfileSize,e.file),n=e.errors,a=Object(m.a)(e,ge);return Object(v.jsx)(me.a,{onDrop:function(e){return t(e[0])},children:function(e){var t=e.getRootProps,c=e.getInputProps;return r?Object(v.jsxs)("div",Object(f.a)(Object(f.a)(Object(f.a)({},t()),{},{className:g()(ye,ve,xe,Oe)},a),{},{children:[Object(v.jsx)("input",Object(f.a)(Object(f.a)({},c()),{},{multiple:!1})),Object(v.jsxs)("div",{className:"flex flex-col justify-around items-center text-white overflow-hidden gap-4",children:[Object(v.jsxs)("span",{children:[r.name," uploaded successfully!"]}),Object(v.jsx)("div",{className:"underline",children:"Upload a different file"})]})]})):Object(v.jsxs)("div",Object(f.a)(Object(f.a)(Object(f.a)({},t()),{},{className:n?g()(ye,"border-2 border-dashed border-red",xe,Oe):g()(ye,ve,xe,Oe)},a),{},{children:[Object(v.jsx)("input",Object(f.a)(Object(f.a)({},c()),{},{multiple:!1})),Object(v.jsx)("img",{src:je,alt:"",className:"mb-2"}),Object(v.jsx)("span",{children:"Drag and drop"}),Object(v.jsx)("span",{children:"or"}),Object(v.jsx)("span",{className:"border-b",children:"browse files"})]}))}})},Se=function(e){var t=e.handleFile,r=e.file,n=e.setFieldValue,a=e.errors,c=e.touched,i=e.icon,o=e.toggle,u=e.title;return Object(s.useEffect)((function(){r&&n("fileUploaded",r)}),[r,n]),Object(v.jsxs)(O,{children:[Object(v.jsxs)("div",{className:"flex justify-between",children:[Object(v.jsx)(w.a,{type:"subOne",title:u,icon:i}),Object(v.jsx)("img",{alt:"",src:oe,onClick:o})]}),Object(v.jsxs)("div",{className:"mt-8",children:[Object(v.jsxs)("div",{className:"flex items-center",children:[Object(v.jsx)(w.a,{type:"subTwo",title:"Attach File"}),a.fileUploaded&&c.fileUploaded&&Object(v.jsx)(ne.a,{children:a.fileUploaded})]}),Object(v.jsxs)(ie,{children:[Object(v.jsx)(we,{errors:a.fileUploaded&&c.fileUploaded,handleFile:t,style:{height:"10.625rem"},file:r}),Object(v.jsxs)(ce,{margin:"-mt-1",children:[Object(v.jsx)("div",{className:"leading-5",children:h.v}),Object(v.jsx)("div",{className:"leading-5 my-4",children:h.w})]})]})]})]})},Te=["values","errors"],Ne=function(e){var t=e.values,r=e.errors,n=Object(m.a)(e,Te),a=re(),c=a.collapsed,i=a.toggle,o=a.open;return Object(s.useEffect)((function(){t.name&&t.recipientPublicKey&&(r.name||r.recipientPublicKey||o())}),[o,r,t]),c?Object(v.jsx)(de,{title:h.u,icon:fe,toggle:i}):Object(v.jsx)(Se,Object(f.a)({values:t,title:h.u,icon:fe,toggle:i,errors:r},n))},Ce=r.p+"static/media/clock.f0a78ec3.svg",ke=r(410),Ae=r.n(ke),Ie=i.a.forwardRef((function(e,t){var r=e.value,n=e.onClick;return Object(v.jsx)(v.Fragment,{children:r?Object(v.jsx)("span",{ref:t,onClick:n,className:"w-full border border-gray-500 bg-black flex justify-center items-center focus:outline-none",children:r}):Object(v.jsx)("button",{ref:t,type:"button",onClick:n,className:"w-full border border-gray-500 bg-black flex justify-center items-center focus:outline-none",style:{height:"1.88rem"},children:"Choose Resurrection Time"})})})),Ee=function(e){return Object(v.jsx)("div",{className:"date-picker-width ml-2",children:Object(v.jsx)(Ae.a,Object(f.a)(Object(f.a)({},e),{},{popperClassName:"-mr-10"}))})},Pe=function(e){var t=e.values,r=e.setFieldValue,n=t.customTime,a=new Date;return a.setDate((new Date).getDate()+1),Object(v.jsx)(Ee,{customInput:Object(v.jsx)(Ie,{}),selected:n?Object(M.d)(n):a,value:n?Object(M.d)(n):"",title:n?Object(M.d)(n):a,onChange:function(e){r("custom",!0),r("customTime",Object(M.a)(e)),r("resurrectionTime",Object(M.a)(e))},dateFormat:"MM/dd/yyyy hh:mm",minDate:a,showTimeSelect:!0})},Re=function(e){var t=e.errors,r=e.touched,n=e.values,a=e.setFieldValue;return Object(v.jsx)("div",{className:"flex gap-8 mb-8",children:Object(v.jsx)("div",{className:t.resurrectionTime&&r.resurrectionTime?"border border-red pl-8 py-4 w-112":"border border-gray-500 px-8 py-4 w-112",style:{height:"15.25rem"},children:Object(v.jsxs)("div",{className:"flex flex-col justify-around h-full text-gray-400 radio-styles",children:[Object(v.jsx)(w.a,{type:"resurrection",values:n}),Object(v.jsx)(se.a,{type:"radio",name:"timeSelect",onChange:function(){a("timeSelect","week"),a("resurrectionTime",h.ib),a("custom",!1)},checked:"week"===n.timeSelect,value:h.ib,children:"1 week"}),Object(v.jsx)(se.a,{type:"radio",name:"timeSelect",onChange:function(){a("timeSelect","month"),a("resurrectionTime",h.gb),a("custom",!1)},checked:"month"===n.timeSelect,value:h.gb,children:"1 month"}),Object(v.jsx)(se.a,{type:"radio",name:"timeSelect",onChange:function(){a("timeSelect","threeMonth"),a("resurrectionTime",h.hb),a("custom",!1)},checked:"threeMonth"===n.timeSelect,value:h.hb,children:"3 months"}),Object(v.jsx)(se.a,{type:"radio",name:"timeSelect",onChange:function(){return null},onClick:function(){a("timeSelect","custom"),a("resurrectionTime",n.customTime),a("custom",!0)},checked:"custom"===n.timeSelect,value:Object(M.c)(n.resurrectionTime),custom:"custom",children:Object(v.jsx)(Pe,{values:n,setFieldValue:a})})]})})})},De=function(e){var t=e.values,r=e.errors,n=e.touched,a=e.setFieldValue,c=e.title,s=e.icon,i=e.toggle;return Object(v.jsxs)(O,{children:[Object(v.jsxs)("div",{className:"flex justify-between",children:[Object(v.jsxs)("div",{className:"flex items-center",children:[Object(v.jsx)(w.a,{type:"subOne",title:c,icon:s}),r.resurrectionTime&&n.resurrectionTime&&Object(v.jsx)(ne.a,{children:r.resurrectionTime})]}),Object(v.jsx)("img",{alt:"",src:oe,onClick:i})]}),Object(v.jsxs)(ie,{children:[Object(v.jsx)(Re,{errors:r,touched:n,setFieldValue:a,values:t}),Object(v.jsxs)(ce,{margin:"-mt-1",children:[Object(v.jsx)("div",{className:"pb-4 leading-5",children:h.N}),Object(v.jsx)("div",{className:"pb-4 leading-5",children:h.O}),Object(v.jsx)("div",{className:"leading-5",children:h.P})]})]})]})},Fe=["values","errors"],_e=function(e){var t=e.values,r=e.errors,n=Object(m.a)(e,Fe),a=re(),c=a.collapsed,i=a.toggle,o=a.open;return Object(s.useEffect)((function(){t.fileUploaded&&(r.fileUploaded||o())}),[o,r,t]),c?Object(v.jsx)(de,{title:h.Q,icon:Ce,toggle:i}):Object(v.jsx)(De,Object(f.a)({values:t,errors:r,title:h.Q,icon:Ce,toggle:i},n))},Me=r.p+"static/media/pickaxe.c916382b.svg",He=function(e){var t=e.values,r=e.handleChange,n=e.errors,a=e.touched,c=e.margin,s=void 0===c?"my-8":c,i=e.paddingRight,o=void 0===i?"md:mr-8":i,u=e.showInfo,l=void 0===u||u;return Object(v.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 justify-center md:justify-start w-full bg-gray-600 py-8 md:px-8 ".concat(s," border border-gray-500 overflow-x-scroll hide-scrollbar"),children:[Object(v.jsxs)("div",{className:"flex justify-center flex-wrap sm:flex-nowrap gap-8",children:[Object(v.jsxs)("div",{className:"flex flex-col mr-8 ".concat(o," w-27.5"),children:[Object(v.jsxs)("div",{className:"flex flex-col whitespace-nowrap mb-2",children:[Object(v.jsx)(w.a,{type:"subTwo",title:"Bounty \u2739",showToolTip:!0,toolTip:h.g}),n.bounty&&a.bounty&&Object(v.jsx)(ne.a,{extraPadding:"",children:n.bounty})]}),Object(v.jsx)(se.a,{type:"number",height:"lg",iPlaceholder:"input-placeholder",errored:n.bounty&&a.bounty,error:n.bounty,placeholder:"100",name:"bounty",value:t.bounty||"",onChange:r})]}),Object(v.jsxs)("div",{className:"flex flex-col w-27.5",children:[Object(v.jsxs)("div",{className:"flex flex-col whitespace-nowrap mb-2",children:[Object(v.jsx)(w.a,{type:"subTwo",title:"Digging Fees \u2739",showToolTip:!0,toolTip:h.p}),n.diggingFee&&a.diggingFee&&Object(v.jsx)(ne.a,{extraPadding:"",children:n.diggingFee})]}),Object(v.jsx)(se.a,{type:"number",height:"lg",iPlaceholder:"input-placeholder",errored:n.diggingFee&&a.diggingFee,error:n.diggingFee,placeholder:"10",name:"diggingFee",value:t.diggingFee||"",onChange:r})]})]}),l&&Object(v.jsx)("div",{className:"text-2xs px-8 text-gray-400 order-first md:order-last md:pt-4",children:h.r})]})},Ve=r(49),Ue={display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr 1fr",gridTemplateRow:"4.375rem",columnGap:"2rem",rowGap:"2rem",height:"2.375rem",alignItems:"center",width:"50rem"},Be=function(e){var t=e.length;return Object(v.jsxs)("div",{className:"text-md text-gray-400 mb-4",style:Ue,children:[Object(v.jsx)("div",{className:"ml-6",children:"".concat(h.W," (").concat(t,")")}),Object(v.jsxs)("div",{className:"flex items-center",children:[Object(v.jsx)("span",{className:"mr-2 pl-6",children:h.Z}),Object(v.jsx)(Ve.a,{content:h.s})]}),Object(v.jsxs)("div",{className:"flex items-center",children:[Object(v.jsx)("span",{className:"mr-2",children:h.X}),Object(v.jsx)(Ve.a,{content:h.f})]}),Object(v.jsxs)("div",{className:"flex items-center -ml-4",children:[Object(v.jsx)("span",{className:"mr-2",children:h.Y}),Object(v.jsx)(Ve.a,{content:h.o})]}),Object(v.jsx)("div",{className:"",children:h.ab})]})},Ge=function(e){var t=e.page,r=e.totalPages,n=e.handleNextPage,a=e.handlePrevPage,c=e.pageNumbers,s=e.goToPage;return Object(v.jsx)("div",{className:"flex flex-col items-end absolute bottom-0 right-0 -mb-4",children:Object(v.jsxs)("div",{className:"text-md",style:{lineHeight:"1.325rem"},children:[Object(v.jsx)("button",{type:"button",onClick:function(){return a()},className:0===t?"text-gray-500 focus:outline-none cursor-default":"text-white focus:outline-none",children:"<"}),c.map((function(e){return Object(v.jsx)("button",{type:"button",disabled:0===r,onClick:function(){return s(e)},className:t===e?"px-2 text-white focus:outline-none text-lg font-bold cursor-default":"px-2 text-white focus:outline-none",children:e+1},e)})),Object(v.jsx)("button",{type:"button",onClick:function(){return n()},className:t>=r?"text-gray-500 focus:outline-none cursor-default":"text-white focus:outline-none",children:">"})]})})},Ke=r(34),We=r(64),Le=r.p+"static/media/arrowDownBlack.b7343f82.svg",qe=r.p+"static/media/arrowRightBlack.e7140ec6.svg",ze=r.p+"static/media/icon.081a5d9a.svg",Ze=r.p+"static/media/iconBlack.2abba048.svg",Je={display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr 1fr",gridTemplateRow:"4.375rem",columnGap:"2rem",rowGap:"2rem",height:"4.375rem",alignItems:"center",width:"50rem"},Xe=function(e){var t=e.archaeologist,r=e.handleClick,n=e.toggle,a=e.file,c=e.selected,s=e.isDisabled,i=e.collapsed;return Object(v.jsxs)("div",{className:s?"cursor-default":"cursor-pointer",onClick:r,style:Je,children:[Object(v.jsx)("div",{className:"",children:Object(We.c)(t.address,18,null)}),Object(v.jsxs)("div",{className:"pl-6",children:[a&&Object(v.jsx)("img",{src:c===t.address?Ze:ze,alt:"",className:"inline-block w-4 h-auto mr-2"}),Object(Ke.e)(t,a)]}),Object(v.jsxs)("div",{className:"-ml-1 flex items-center",children:[Object(v.jsx)("img",{src:c===t.address?Ze:ze,alt:"",className:"inline-block w-4 h-auto mr-2"}),Object(Ke.b)(null===t||void 0===t?void 0:t.minimumBounty)]}),Object(v.jsxs)("div",{className:"-ml-7 flex items-center",children:[Object(v.jsx)("img",{src:c===t.address?Ze:ze,alt:"",className:"inline-block w-4 h-auto mr-2"}),Object(Ke.b)(null===t||void 0===t?void 0:t.minimumDiggingFee)]}),Object(v.jsxs)("div",{className:"flex items-center cursor-pointer -ml-5",onClick:function(e){e.stopPropagation(),n()},children:[c===t.address&&i&&Object(v.jsx)("img",{alt:"",src:qe,className:"mr-2"}),c===t.address&&!i&&Object(v.jsx)("img",{alt:"",src:Le,className:"mr-2"}),c!==t.address&&i&&Object(v.jsx)("img",{alt:"",src:le,className:"mr-2"}),c!==t.address&&!i&&Object(v.jsx)("img",{alt:"",src:oe,className:"mr-2"}),Object(v.jsx)("u",{children:"Metrics"})]})]})},Qe=function(e){var t=e.label;return Object(v.jsx)("span",{className:"text-gray-400 mr-2",children:t})},Ye=function(e){var t=e.value,r=e.selected;return Object(v.jsxs)("span",{className:r?g()("text-black"):g()("text-white"),children:[" ",t]})},$e=function(e){var t=e.archaeologist,r=e.file,n=e.isSelected;return Object(v.jsxs)("div",{className:"border-t border-gray-500 py-4 px-8 w-full",children:[Object(v.jsxs)("div",{className:"flex mb-4",children:[Object(v.jsx)("span",{className:"text-gray-400 mr-2",children:"Arch "}),Object(v.jsx)("span",{children:t.address})]}),Object(v.jsxs)("div",{className:"grid grid-cols-2 text-sm gap-4",children:[Object(v.jsxs)("div",{className:"",children:[Object(v.jsxs)("div",{className:"flex",children:[Object(v.jsx)(Qe,{label:"Accused Sarcophagi"}),Object(v.jsx)(Ye,{selected:n,value:Object(Ke.c)(null===t||void 0===t?void 0:t.accusedCount,"wei",!0)})]}),Object(v.jsxs)("div",{className:"flex",children:[Object(v.jsx)(Qe,{label:"Cleaned Sarcophagi"}),Object(v.jsx)(Ye,{selected:n,value:Object(Ke.c)(null===t||void 0===t?void 0:t.cleanupCount,"wei",!0)})]}),Object(v.jsxs)("div",{className:"flex",children:[Object(v.jsx)(Qe,{label:"Canceled Sarcophagi"}),Object(v.jsx)(Ye,{selected:n,value:Object(Ke.c)(null===t||void 0===t?void 0:t.canceledCount,"wei",!0)})]}),Object(v.jsxs)("div",{className:"flex",children:[Object(v.jsx)(Qe,{label:"Successful Sarcophagi"}),Object(v.jsx)(Ye,{selected:n,value:Object(Ke.c)(null===t||void 0===t?void 0:t.successesCount,"wei",!0)})]}),Object(v.jsxs)("div",{className:"flex",children:[Object(v.jsx)(Qe,{label:"Percent Cursed:"}),Object(v.jsx)(Ye,{selected:n,value:"".concat(Object(Ke.a)(null===t||void 0===t?void 0:t.cursedBond,null===t||void 0===t?void 0:t.freeBond),"%")})]}),Object(v.jsxs)("div",{className:"flex whitespace-nowrap",children:[Object(v.jsx)(Qe,{label:"Max Resurrection Time:"}),Object(v.jsx)(Ye,{selected:n,value:Object(M.e)(null===t||void 0===t?void 0:t.maximumResurrectionTime)})]})]}),Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"flex",children:[Object(v.jsx)(Qe,{label:"Min Digging Fee:"}),Object(v.jsx)(Ye,{selected:n,value:Object(Ke.c)(null===t||void 0===t?void 0:t.minimumDiggingFee,18)})]}),Object(v.jsxs)("div",{className:"flex",children:[Object(v.jsx)(Qe,{label:"Min Bounty:"}),Object(v.jsx)(Ye,{selected:n,value:Object(Ke.c)(null===t||void 0===t?void 0:t.minimumBounty,18)})]}),Object(v.jsxs)("div",{className:"flex",children:[Object(v.jsx)(Qe,{label:"Fee per byte:"}),Object(v.jsx)(Ye,{selected:n,value:Object(Ke.c)(null===t||void 0===t?void 0:t.feePerByte,18)})]}),Object(v.jsxs)("div",{className:"flex",children:[Object(v.jsx)(Qe,{label:"Total Storage Fee"}),Object(v.jsx)(Ye,{selected:n,value:Object(Ke.d)(t,r)})]}),Object(v.jsxs)("div",{className:"flex",children:[Object(v.jsx)(Qe,{label:"Total Fees"}),Object(v.jsx)(Ye,{selected:n,value:Object(Ke.e)(t,r)})]})]})]})]})},et="px-6 text-md",tt=function(e){var t=e.archaeologist,r=e.file,n=e.bounty,a=e.diggingFee,c=e.selected,i=e.handleSelected,o=e.setFieldValue,u=Object(s.useState)(!0),l=Object(p.a)(u,2),d=l[0],b=l[1],h=re(!0,!0),f=h.collapsed,m=h.toggle;Object(s.useEffect)((function(){if(n&&a){var e=null===t||void 0===t?void 0:t.isOffline,c=t.minimumBounty.lte(C.utils.parseEther(n.toString())),s=t.minimumDiggingFee.lte(C.utils.parseEther(a.toString())),i=t.freeBond.gte(C.utils.parseEther(Object(Ke.e)(t,r).toString()));b(!(c&&s&&i&&r&&!e))}else b(!0)}),[n,a,t,r]),Object(s.useEffect)((function(){c===t.address&&d&&i(!1,!1)}),[t,c,d,i]);return Object(v.jsxs)("div",{className:d?g()(et,"border border-gray-500 text-gray-400"):c===t.address?g()(et,"border border-white text-black bg-white"):g()(et,"border border-gray-500 text-white bg-gray-600"),style:{width:"50rem"},children:[Object(v.jsx)(Xe,{archaeologist:t,handleClick:function(){d||(o("address",t.address),o("bounty",Object(Ke.c)(t.minimumBounty,18)),o("diggingFee",Object(Ke.c)(t.minimumDiggingFee,18)),i(t,Object(Ke.e)(t,r,!0)))},toggle:m,file:r,selected:c,isDisabled:d,collapsed:f}),!f&&Object(v.jsx)($e,{archaeologist:t,file:r,isSelected:c===t.address})]})},rt=function(e){var t=Object(s.useState)(0),r=Object(p.a)(t,2),n=r[0],a=r[1],c=Object(s.useState)(0),i=Object(p.a)(c,2),o=i[0],u=i[1],l=Object(s.useState)([]),d=Object(p.a)(l,2),b=d[0],h=d[1];Object(s.useEffect)((function(){u(Math.trunc(e/5))}),[e]),Object(s.useEffect)((function(){for(var e=[],t=0;t<o;t++)e.push(t);h(e)}),[o]);return{page:n,perPage:5,totalPages:o,handlePrevPage:function(){0!==n&&a((function(e){return e-1}))},handleNextPage:function(){n>=o||a((function(e){return e+1}))},pageNumbers:b,goToPage:function(e){a(e)}}},nt=function(e,t,r,n){var a=Object(s.useState)([]),c=Object(p.a)(a,2),i=c[0],o=c[1],u=rt(null===e||void 0===e?void 0:e.length),l=u.page,d=u.perPage,b=u.totalPages,h=u.handlePrevPage,m=u.handleNextPage,j=u.goToPage,g=u.pageNumbers;Object(s.useEffect)((function(){Array.isArray(e)&&e.length&&o(e.filter((function(e,t){return t>=l*d&&t<=(l+1)*d-1})))}),[e,l,d]);var v=Object(s.useCallback)(function(){var e=Object(R.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t.endpoint+"/ping");case 3:if(!e.sent.ok){e.next=8;break}return e.abrupt("return",t);case 8:return e.abrupt("return",Object(f.a)(Object(f.a)({},t),{},{isOffline:!0}));case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),console.error("Archaeologist unavailable -","Address:",t.address," Endpoint:",t.endpoint),e.abrupt("return",Object(f.a)(Object(f.a)({},t),{},{isOffline:!0}));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(s.useEffect)((function(){r&&n&&t&&Promise.all(e.map(v)).then((function(e){return e.sort((function(e,r){return Object(Ke.e)(r,t)-Object(Ke.e)(e,t)})).sort((function(e){return e.disabled&&-1})).sort((function(e,t){return e.minimumBounty.lte(C.utils.parseEther(r.toString()))&&e.minimumDiggingFee.lte(C.utils.parseEther(n.toString()))?-1:t.minimumBounty.lte(C.utils.parseEther(r.toString()))&&t.minimumDiggingFee.lte(C.utils.parseEther(n.toString()))?1:0})).filter((function(e,t){return t>=l*d&&t<=(l+1)*d-1}))})).then((function(e){return o(e)}))}),[r,n,t,l,d,e,v]),{filteredList:i,page:l,totalPages:b,handlePrevPage:h,handleNextPage:m,goToPage:j,pageNumbers:g}},at=function(e){var t=e.archaeologists,r=e.handleSelected,n=e.archSelected,a=e.file,c=e.values,s=e.handleChange,i=e.setFieldValue,o=e.errors,u=e.touched,l=e.toggle,d=e.icon,p=e.title,b=c.bounty,h=c.diggingFee,f=nt(t,a,b,h),m=f.filteredList,j=f.page,g=f.totalPages,y=f.handlePrevPage,x=f.handleNextPage,S=f.goToPage,T=f.pageNumbers;return Object(v.jsx)(O,{children:Object(v.jsxs)("div",{className:"relative pb-4 ease-in-transition",children:[Object(v.jsxs)("div",{className:"flex justify-between",children:[Object(v.jsx)(w.a,{type:"subOne",title:p,icon:d}),Object(v.jsx)("img",{alt:"",src:oe,onClick:l})]}),Object(v.jsx)(He,{values:c,handleChange:s,errors:o,touched:u}),Object(v.jsxs)("div",{className:"hide-scrollbar overflow-x-scroll w-full whitespace-nowrap",children:[o.address&&u.address&&Object(v.jsx)(ne.a,{extraPadding:"ml-6",children:o.address}),Object(v.jsx)(Be,{length:t.length}),null===m||void 0===m?void 0:m.map((function(e,t){return Object(v.jsx)(tt,{setFieldValue:i,selected:n,handleSelected:r,archaeologist:e,file:a,bounty:b,diggingFee:h,gtSign:">"},"".concat(t).concat(e.address))}))]}),t.length>0&&Object(v.jsx)(Ge,{page:j,totalPages:g,handlePrevPage:y,handleNextPage:x,pageNumbers:T,goToPage:S})]})})},ct=["values","errors"],st=function(e){var t=e.values,r=e.errors,n=Object(m.a)(e,ct),a=re(),c=a.collapsed,i=a.toggle,o=a.open;return Object(s.useEffect)((function(){t.resurrectionTime&&(r.resurrectionTime||o())}),[o,r,t]),c?Object(v.jsx)(de,{title:h.H,icon:Me,toggle:i}):Object(v.jsx)(at,Object(f.a)({values:t,errors:r,title:h.H,icon:Me,toggle:i},n))},it=function(e){var t=e.message,r=e.handleClick;return Object(v.jsx)("div",{className:" mx-auto border border-white text-white text-md flex px-4 my-8 pt-2 justify-between relative max-w-128",style:{height:"4.375rem"},children:Object(v.jsx)("div",{className:"text-center h-full w-full text-white absolute top-0 left-0 flex justify-center items-center cursor-pointer",onClick:r,children:t})})},ot=function(){(c=Object(s.createContext)()).displayName="Data Provider";var e=c.Provider;return function(t){var r=t.children,n=L().sarcophagusContract,a=function(e){var t=Object(s.useState)([]),r=Object(p.a)(t,2),n=r[0],a=r[1],c=Object(s.useState)(!1),i=Object(p.a)(c,2),o=i[0],u=i[1],l=Object(s.useState)(!1),d=Object(p.a)(l,2),b=d[0],h=d[1],m=Object(s.useCallback)(Object(R.a)(P.a.mark((function t(){var r;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.archaeologistCount();case 3:r=t.sent,h(r),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),[e]),j=Object(s.useCallback)(function(){var t=Object(R.a)(P.a.mark((function t(r){var n,a,c;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,n=[],a=0;case 3:if(!(a<=r-1)){t.next=11;break}return t.next=6,e.archaeologistAddresses(a);case 6:c=t.sent,n.push(c);case 8:a++,t.next=3;break;case 11:return t.next=13,u(n);case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),console.error(t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e){return t.apply(this,arguments)}}(),[e]),g=Object(s.useCallback)(Object(R.a)(P.a.mark((function t(){var r,n;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all(o.map(function(){var t=Object(R.a)(P.a.mark((function t(r){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.archaeologists(r);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 3:r=(r=t.sent).map((function(e,t){return Object(f.a)(Object(f.a)({},e),{},{address:o[t]})})),n=r.filter((function(e){return!e.freeBond.isZero()})),a(n),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))),[e,o]);return Object(s.useEffect)((function(){e&&m()}),[m,e]),Object(s.useEffect)((function(){b&&(b.isZero()||j(b.toNumber()))}),[b,j]),Object(s.useEffect)((function(){b&&o&&g()}),[m,j,g,o,b]),{rawArchaeologists:n,getArchaeologistCount:m}}(n),c=a.rawArchaeologists,i={getArchaeologistCount:a.getArchaeologistCount,archaeologists:function(e,t){var r=Object(s.useState)([]),n=Object(p.a)(r,2),a=n[0],c=n[1],i=Object(s.useState)(!1),o=Object(p.a)(i,2),u=o[0],l=o[1],d=Object(s.useCallback)(function(){var t=Object(R.a)(P.a.mark((function t(r){var n;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.archaeologistCleanupsCount(r);case 3:return n=t.sent,t.abrupt("return",n);case 7:t.prev=7,t.t0=t.catch(0),ee.b.error(h.k),console.error("There was an error with contract : ArchCleanCount",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),[e]),b=Object(s.useCallback)(function(){var t=Object(R.a)(P.a.mark((function t(r,n){var a,c;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null===n||void 0===n?void 0:n.isZero())){t.next=2;break}return t.abrupt("return",[]);case 2:return t.prev=2,a=new Array(n.toNumber()).fill(void 0),t.next=6,Promise.all(a.map(function(){var t=Object(R.a)(P.a.mark((function t(n,a){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.archaeologistCleanupsIdentifier(r,a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()));case 6:return c=t.sent,t.abrupt("return",c);case 10:t.prev=10,t.t0=t.catch(2),ee.b.error(h.k),console.error("There was an error with contract : ArchCleanIdentifiers",t.t0);case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,r){return t.apply(this,arguments)}}(),[e]),m=Object(s.useCallback)(function(){var t=Object(R.a)(P.a.mark((function t(r){var n;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.archaeologistCancelsCount(r);case 3:return n=t.sent,t.abrupt("return",n);case 7:t.prev=7,t.t0=t.catch(0),ee.b.error(h.k),console.error("There was an error with contract : ArchCancelCounts",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),[e]),j=Object(s.useCallback)(function(){var t=Object(R.a)(P.a.mark((function t(r,n){var a,c;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null===n||void 0===n?void 0:n.isZero())){t.next=2;break}return t.abrupt("return",[]);case 2:return t.prev=2,a=new Array(n.toNumber()).fill(void 0),t.next=6,Promise.all(a.map(function(){var t=Object(R.a)(P.a.mark((function t(n,a){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.archaeologistCancelsIdentifier(r,a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()));case 6:return c=t.sent,t.abrupt("return",c);case 10:t.prev=10,t.t0=t.catch(2),ee.b.error(h.k),console.error("There was an error with contract : ArchCancelIdentifiers",t.t0);case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,r){return t.apply(this,arguments)}}(),[e]),g=Object(s.useCallback)(function(){var t=Object(R.a)(P.a.mark((function t(r){var n;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.archaeologistAccusalsCount(r);case 3:return n=t.sent,t.abrupt("return",n);case 7:t.prev=7,t.t0=t.catch(0),ee.b.error(h.k),console.error("There was an error with contract : ArchAccusedCount",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),[e]),v=Object(s.useCallback)(function(){var t=Object(R.a)(P.a.mark((function t(r,n){var a,c;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null===n||void 0===n?void 0:n.isZero())){t.next=2;break}return t.abrupt("return",[]);case 2:return t.prev=2,a=new Array(n.toNumber()).fill(void 0),t.next=6,Promise.all(a.map(function(){var t=Object(R.a)(P.a.mark((function t(n,a){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.archaeologistAccusalsIdentifier(r,a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()));case 6:return c=t.sent,t.abrupt("return",c);case 10:t.prev=10,t.t0=t.catch(2),ee.b.error(h.k),console.error("There was an error with contract : ArchAccusedIdentifiers",t.t0);case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,r){return t.apply(this,arguments)}}(),[e]),y=Object(s.useCallback)(function(){var t=Object(R.a)(P.a.mark((function t(r){var n;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.archaeologistSuccessesCount(r);case 3:return n=t.sent,t.abrupt("return",n);case 7:t.prev=7,t.t0=t.catch(0),ee.b.error(h.k),console.error("There was an error with contract : ArchSuccessCount",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),[e]),x=Object(s.useCallback)(function(){var t=Object(R.a)(P.a.mark((function t(r,n){var a,c;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null===n||void 0===n?void 0:n.isZero())){t.next=2;break}return t.abrupt("return",[]);case 2:return t.prev=2,a=new Array(n.toNumber()).fill(void 0),t.next=6,Promise.all(a.map(function(){var t=Object(R.a)(P.a.mark((function t(n,a){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.archaeologistSuccessesIdentifier(r,a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()));case 6:return c=t.sent,t.abrupt("return",c);case 10:t.prev=10,t.t0=t.catch(2),ee.b.error(h.k),console.error("There was an error with contract : ArchSuccessIdenifiers",t.t0);case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,r){return t.apply(this,arguments)}}(),[e]),O=Object(s.useCallback)(Object(R.a)(P.a.mark((function e(){var r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=Object(R.a)(P.a.mark((function e(t){var r,n,a,c,s;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t.address);case 2:return r=e.sent,e.next=5,m(t.address);case 5:return n=e.sent,e.next=8,g(t.address);case 8:return a=e.sent,e.next=11,y(t.address);case 11:return c=e.sent,s=Object(f.a)(Object(f.a)({},t),{},{cleanupCount:r,canceledCount:n,accusedCount:a,successesCount:c}),e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:r=e.sent,c(r);case 4:case"end":return e.stop()}}),e)}))),[t,d,m,g,y]),w=Object(s.useCallback)(Object(R.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(a.map(function(){var e=Object(R.a)(P.a.mark((function e(t){var r,n,a,c,s;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(t.address,t.cleanupCount);case 2:return r=e.sent,e.next=5,j(t.address,t.canceledCount);case 5:return n=e.sent,e.next=8,v(t.address,t.accusedCount);case 8:return a=e.sent,e.next=11,x(t.address,t.successesCount);case 11:return c=e.sent,s=Object(f.a)(Object(f.a)({},t),{},{cleanupIdentifiers:r,canceledIdentifiers:n,accusedIdentifiers:a,successesIdentifiers:c}),e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:t=e.sent,l(t);case 4:case"end":return e.stop()}}),e)}))),[a,b,j,v,x]);return Object(s.useEffect)((function(){O()}),[O]),Object(s.useEffect)((function(){a.length&&w()}),[w,a]),{archaeologists:u}}(n,c).archaeologists||c};return Object(v.jsx)(e,{value:i,children:r})}}(),ut=function(){return Object(s.useContext)(c)},lt=r(139),dt=function(){var e=Object(d.g)(),t=Q(),r=t.getRecipientSarcophagi,n=t.getEmbalmerSarcophagi,a=ut(),c=a.archaeologists,i=a.getArchaeologistCount,o=Object(V.b)().account,u=te(),l=u.approved,h=u.approveTransaction,f=Y(),m=f.file,j=f.setFile,g=f.handleArchaeologistSelect,y=f.handleSarcophagusCreate,x=f.selectedArchaeologist,O=f.handleKey,w=Object(s.useState)(""),S=Object(p.a)(w,2),C=S[0],k=S[1],I=function(){n(),r(),i()};Object(s.useEffect)((function(){k(l?"Finish":"Approve")}),[l]);return Object(v.jsx)(b.a,{initialValues:N,validationSchema:A,onSubmit:function(t){y(t,e,I)},validateOnMount:!0,children:function(e){var t=e.values,r=e.errors,n=e.touched,a=e.handleChange,s=e.handleSubmit,i=e.setFieldValue,u=e.validateForm,d=e.isValid;return Object(v.jsx)("form",{className:"ml-8 px-14",onSubmit:s,children:o?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(T,{}),Object(v.jsx)(he,{values:t,errors:r,touched:n,handleChange:a,handleKey:O}),Object(v.jsx)(Ne,{values:t,file:m,handleFile:j,errors:r,touched:n,setFieldValue:i}),Object(v.jsx)(_e,{values:t,errors:r,touched:n,handleChange:a,setFieldValue:i}),Object(v.jsx)(st,{errors:r,touched:n,archaeologists:c,file:m,values:t,handleChange:a,handleSarcophagusCreate:y,handleSelected:g,archSelected:(null===x||void 0===x?void 0:x.address)||"",setFieldValue:i}),Object(v.jsx)($.a,{label:C,isDisabled:!d,_classnames:"my-8",height:"lg",type:l?"submit":"button",onClick:l?function(){return u()}:function(){u(),function(e){Object.keys(e).length||h()}(r)}})]}):Object(v.jsx)(it,{message:"Connect to a wallet to get started",handleClick:function(){return Object(lt.a)()}})})}})},pt=r.p+"static/media/tomb.a63833ca.svg",bt=function(e){var t=e.embalmerCount,r=e.recipientCount,n=e.archivedCount,a=Object(d.i)();return Object(v.jsxs)("div",{className:"flex items-center justify-center lg:justify-between flex-wrap md:flex-nowrap gap-4",children:[Object(v.jsxs)(l.b,{activeClassName:"border-b-2 border-white",className:"px-2 pb-4 cursor-pointer whitespace-nowrap flex justif-center items-center flex-shrink-0",to:"".concat(a.path),exact:!0,children:[Object(v.jsx)(w.a,{type:"subOne",title:"Sarcophagi (".concat(t||0,")")}),Object(v.jsx)(Ve.a,{content:Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{children:"Active sarcophagi"}),Object(v.jsx)("div",{children:"View current status and resurrected time"})]})})]}),Object(v.jsxs)(l.b,{activeClassName:"border-b-2 border-white",className:"px-2 pb-4 cursor-pointer whitespace-nowrap flex justif-center items-center flex-shrink-0",to:"".concat(a.path,"/resurrect"),children:[Object(v.jsx)(w.a,{type:"subOne",title:"Resurrected: (".concat(r||0,")")}),Object(v.jsx)(Ve.a,{content:Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{children:"Received Sarcophagi"}),Object(v.jsx)("div",{children:"View received Sarcophagi details"})]})})]}),Object(v.jsxs)(l.b,{activeClassName:"border-b-2 border-white",className:"px-2 pb-4 cursor-pointer whitespace-nowrap flex justif-center items-center flex-shrink-0",to:"".concat(a.path,"/archive"),children:[Object(v.jsx)(w.a,{type:"subOne",title:"Archived: (".concat(n||0,")")}),Object(v.jsx)(Ve.a,{content:Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{children:"Inactive sarcophagi"}),Object(v.jsx)("div",{children:"View past Sarcophagi"})]})})]})]})},ht=r(91),ft=r.p+"static/media/error.bd7ee411.svg",mt="ml-3 mt-1 py-1 px-2 text-gray-900 text-2xs rounded self-end",jt=function(e){var t=e.status;return Object(v.jsx)("div",{children:t})},gt=function(e){var t=e.status,r=e.error,n=e.isActive,a=void 0!==n&&n,c=e.isArchived,s=void 0!==c&&c;return Object(v.jsx)(ht.a,{content:Object(v.jsx)(jt,{status:t}),className:"border-2 border-white rounded text-center text-xs font-normal p-2 bg-gray-900",children:Object(v.jsx)("div",{className:r?g()(mt,"bg-red"):t===h.L.UNWRAPPED?g()(mt,"bg-white"):a?g()(mt,"bg-green"):s?g()(mt,"bg-gray-300"):g()(mt,"bg-yellow"),style:{width:"fit-content"},children:r?Object(v.jsxs)("div",{className:"flex items-center",children:[Object(v.jsx)("img",{alt:"",src:ft,className:"mr-2"}),Object(v.jsx)("div",{className:"leading-4",children:"Error"})]}):t===h.L.UNWRAPPED?"Unwrapped":a?"Active":s?"Archived":"Pending"})})},vt=function(e){var t=e.sarcophagus;return Object(v.jsxs)("div",{className:"border border-white text-white text-md flex justify-between relative cursor-default max-w-128 px-4 pt-3",style:{height:"4.375rem"},children:[Object(v.jsx)("div",{className:"flex flex-col",children:Object(v.jsx)("div",{className:"text-base font-bold text-white",style:{lineHeight:"1.625rem"},children:null===t||void 0===t?void 0:t.sarcophagusName})}),Object(v.jsx)("div",{className:"flex flex-col",children:Object(v.jsx)(gt,{status:"Sarcophagus is being mined",isActive:!1,isOver:!1,error:!1})})]})},yt=r(163),xt="File Sending",Ot="There was a error sending file",wt="File is Mining",St="File has been mined",Tt=function(e,t,r){var n=Object(s.useState)(null),a=Object(p.a)(n,2),c=a[0],i=a[1],o=function(e){return btoa([].reduce.call(e,(function(e,t){return e+String.fromCharCode(t)}),""))},u=function(){var e=Object(R.a)(P.a.mark((function e(t,r){var n,a,c,s;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=r+"/file",a=o(t),c={method:"POST",body:JSON.stringify({fileBytes:a})},e.next=6,fetch(n,c);case 6:if((s=e.sent).ok){e.next=11;break}if(406!==s.status){e.next=10;break}return e.abrupt("return",{error:"try again"});case 10:return e.abrupt("return",{error:s});case 11:return e.next=13,s.json();case 13:return e.abrupt("return",e.sent);case 16:return e.prev=16,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,r){return e.apply(this,arguments)}}(),l=function(){var r=Object(R.a)(P.a.mark((function r(){var n,a,c,s;return P.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n=e.doubleEncryptedFile,a=e.endpoint,i(xt),c=1,(s=function(){var e=Object(R.a)(P.a.mark((function e(){var r,o,l,p,b,h,f,m;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(n,a);case 2:if(!(null===(r=e.sent)||void 0===r?void 0:r.error)){e.next=13;break}if("try again"!==(null===r||void 0===r?void 0:r.error)||!c){e.next=10;break}return c=0,s(),e.abrupt("return");case 10:return i(Ot),console.error("ResponseFromArch error",r.error),e.abrupt("return");case 13:return e.next=15,r;case 15:return o=e.sent,l=o.NewPublicKey,p=o.AssetDoubleHash,b=o.AssetId,h=o.V,f=o.R,m=o.S,t({NewPublicKey:l,AssetDoubleHash:p,V:h,R:f,S:m,AssetId:b}),d(b),e.abrupt("return");case 26:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}())();case 5:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),d=function(){var e=Object(R.a)(P.a.mark((function e(t){var n,a,c;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=2,a=Object(yt.b)(),c=setInterval(Object(R.a)(P.a.mark((function e(){var s;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.api.get("tx/".concat(t));case 2:s=e.sent,e.t0=s.status,e.next=202===e.t0?6:200===e.t0?9:12;break;case 6:return i(wt),console.log("".concat(r.name,": still mining")),e.abrupt("break",21);case 9:return i(St),clearInterval(c),e.abrupt("break",21);case 12:if(!n){e.next=17;break}return n-=1,e.abrupt("break",21);case 17:return console.error(h.q.ARWEAVE_TRANSACTION_FAILED),i(Ot),clearInterval(c),e.abrupt("break",21);case 21:case"end":return e.stop()}}),e)}))),1e3*h.D);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{sendStatus:c,sendFileToArchService:l}},Nt=function(e,t){var r=Object(s.useState)(h.V.CHECKING_STATUS),n=Object(p.a)(r,2),a=n[0],c=n[1],i=Object(s.useState)(!1),o=Object(p.a)(i,2),u=o[0],l=o[1],d=Q(),b=d.createData,f=d.setCreateData,m=Tt(b,f,e),j=m.sendStatus,g=m.sendFileToArchService;Object(s.useEffect)((function(){u&&c(!1)}),[u]),Object(s.useEffect)((function(){return a===h.V.ARWEAVE_PENDING?window.addEventListener("beforeunload",v):window.removeEventListener("beforeunload",v),function(){return window.removeEventListener("beforeunload",v)}}),[a]);var v=function(e){var t="Leaving before Sarcophagus update is signed, will result in loss of sarcophagus";return ee.b.error(t,{autoClose:2e3,position:"top-center"}),e.preventDefault(),e.returnValue=t,t},y=function(){var e=Object(R.a)(P.a.mark((function e(r){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a!==h.V.TRANSACTION_MINING_IN_PROGRESS){e.next=3;break}return l(!1),e.abrupt("return");case 3:if(!(null===r||void 0===r?void 0:r.assetId)){e.next=17;break}if(!Object(M.h)(r.resurrectionTime,r.resurrectionWindow)){e.next=7;break}return c(h.V.WINDOW_CLOSED),e.abrupt("return");case 7:if(!(1e3*r.resurrectionTime.toNumber()-Date.now().valueOf()<=0)){e.next=10;break}return setTimeout((function(){t()}),3e3),e.abrupt("return");case 10:if(2!==(null===r||void 0===r?void 0:r.state)){e.next=13;break}return console.error("Should never see this"),e.abrupt("return");case 13:if(!(null===r||void 0===r?void 0:r.assetId)||"0x0000000000000000000000000000000000000000000000000000000000000000"!==(null===r||void 0===r?void 0:r.privateKey)){e.next=17;break}return l(!1),c(h.V.ACTIVE),e.abrupt("return");case 17:if(!b){e.next=34;break}if(a!==h.V.ACTIVE){e.next=20;break}return e.abrupt("return");case 20:e.t0=j,e.next=e.t0===xt?23:e.t0===St?24:e.t0===wt?27:e.t0===Ot?30:33;break;case 23:return e.abrupt("break",34);case 24:return ee.b.dismiss("fileMining"),c(h.V.SARCOPHAGUS_AWAIT_SIGN),e.abrupt("break",34);case 27:return c(h.V.ARWEAVE_PENDING),ee.b.dark(h.t,{toastId:"fileMining",autoClose:!1}),e.abrupt("break",34);case 30:return ee.b.dismiss("fileMining"),l(h.q.ARWEAVE_FILE_ERROR),e.abrupt("break",34);case 33:a!==h.V.ARWEAVE_STARTED&&(c(h.V.ARWEAVE_STARTED),g());case 34:if(r.assetId||b){e.next=38;break}if(a!==h.V.TRANSACTION_MINING_IN_PROGRESS&&a!==h.V.ACTIVE){e.next=37;break}return e.abrupt("return");case 37:l("Unknown");case 38:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{currentStatus:a,setCurrentStatus:c,error:u,setError:l,checkStatus:y}},Ct=function(e,t,r,n){var a=Object(s.useRef)(null),c=Object(s.useState)(!1),i=Object(p.a)(c,2),o=i[0],u=i[1],l=Object(s.useState)(!1),d=Object(p.a)(l,2),b=d[0],f=d[1],m=Object(s.useState)(!1),j=Object(p.a)(m,2),g=j[0],v=j[1],y=Object(s.useState)(h.bb),x=Object(p.a)(y,2),O=x[0],w=x[1],S=Object(s.useState)(!1),T=Object(p.a)(S,2),N=T[0],C=T[1],k=Object(s.useState)(h.n),A=Object(p.a)(k,2),I=A[0],E=A[1],P=Object(s.useCallback)((function(e){if(g)return E("text-yellow");var t=e-Date.parse(new Date),r=Math.floor(t/864e5),n=Math.floor(t/36e5%24);return E(0===r&&n<24?"text-red":"text-gray-400")}),[E,g]),R=Object(s.useCallback)((function(){u(0),f(0),w("recalculating..."),clearInterval(a.current)}),[a]);return Object(s.useEffect)((function(){"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"!==e._hex&&(u(e.toNumber()),f(t.toNumber()))}),[e,t]),Object(s.useEffect)((function(){if(!o)return C(!1);var e=1e3*o,t=1e3*(o+b);if(!Math.sign(t-Date.now().valueOf()<=0))return Math.sign(e-Date.now().valueOf()<=0)?(null===n||void 0===n||n(h.V.UNWRAPPING),v(!0),C(!0),a.current=setInterval((function(){var e=new Date(t),r=Object(M.f)(e);w(r),P(e),Math.sign(t-Date.now().valueOf()<=0)&&(C(!1),w(h.bb),clearInterval(a.current))}),1e3),function(){return clearInterval(a.current)}):(v(!1),C(!0),a.current=setInterval((function(){var t=new Date(e),r=Object(M.f)(t);w(r),P(t),Math.sign(e-Date.now().valueOf()<=0)&&(v(!0),w(h.bb),clearInterval(a.current))}),1e3),function(){return clearInterval(a.current)});C(!1),v(!1)}),[o,b,P,r,t,R,n]),{timer:O,color:I,timers:N,refreshTimers:R}},kt=function(e){var t=e.state,r=e.timer,n=e.color,a=void 0===n?"text-gray-400":n,c=e.timers;return Object(v.jsx)("div",{className:"text-sm ".concat(c?a:"text-red"),style:{lineHeight:"1.0625rem"},children:2!==t&&"Resurrection: ".concat(r)})},At="text-white text-md flex justify-between relative cursor-default max-w-128",It=function(e){var t=e.sarcophagus.name,r=e.currentStatus,n=e.error,a=e.toggle,c=e.collapsed,s=e.expandedOption,i=void 0!==s&&s,o=e.timer,u=e.color,l=e.timers;return Object(v.jsxs)("div",{className:i?g()(At,"cursor-pointer"):g()(At),onClick:i?function(){return a()}:function(){return null},style:{height:"4.375rem"},children:[Object(v.jsxs)("div",{children:[t.length>30?Object(v.jsx)(ht.a,{content:t,className:"border-2 border-white rounded text-center text-xs font-normal p-2 bg-gray-900 break-words whitespace-pre-wrap",children:Object(v.jsx)("div",{className:"text-base font-bold text-white",style:{lineHeight:"1.625rem"},children:Object(We.c)(t,25,"...",18)})}):Object(v.jsx)("div",{className:"text-base font-bold text-white",style:{lineHeight:"1.625rem"},children:t}),Object(v.jsx)(kt,{timer:o,color:u,timers:l})]}),Object(v.jsxs)("div",{className:"flex flex-col",children:[i&&Object(v.jsxs)("div",{className:"flex cursor-pointer",children:[!c&&r!==h.V.TRANSACTION_MINING_IN_PROGRESS&&Object(v.jsx)("img",{alt:"",src:oe,className:"mr-2"}),c&&r!==h.V.TRANSACTION_MINING_IN_PROGRESS&&Object(v.jsx)("img",{alt:"",src:le,className:"mr-2"}),Object(v.jsx)("span",{children:n?"Details":r===h.V.ACTIVE?"Rewrap":r===h.V.SARCOPHAGUS_AWAIT_SIGN?h.V.SARCOPHAGUS_AWAIT_SIGN:r===h.V.WINDOW_CLOSED?"Details":""})]}),Object(v.jsx)(gt,{status:n||r,error:!!n||r===h.V.WINDOW_CLOSED,isActive:r===h.V.ACTIVE})]})]})},Et=function(e){var t=e.sarcophagus,r=e.archaeologist,n=e.refresh,a=e.toggle,c=e.setCurrentStatus,i=e.refreshTimers,o=Q(),u=o.burySarcophagus,l=o.rewrapSarcophagus,d=te(),f=d.approved,m=d.approveTransaction,j=Object(s.useState)(""),g=Object(p.a)(j,2),y=g[0],x=g[1];Object(s.useEffect)((function(){x(f?"Rewrap Sarcophagus":"Approve")}),[f]);var O=function(){var e=Object(R.a)(P.a.mark((function e(r){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t,r,n,a,c,i);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(R.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t,c,n,a,i);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T={resurrectionTime:"",bounty:Object(Ke.b)(null===r||void 0===r?void 0:r.minimumBounty,18),diggingFee:Object(Ke.b)(null===r||void 0===r?void 0:r.minimumDiggingFee,18),custom:!1,customTime:""},N=k.d().shape({resurrectionTime:k.c().required("Resurrection time is required"),bounty:k.c().min(Object(Ke.b)(null===r||void 0===r?void 0:r.minimumBounty,18),"Bounty is too low").required("Bounty is required"),diggingFee:k.c().min(Object(Ke.b)(null===r||void 0===r?void 0:r.minimumDiggingFee,18),"Digging Fee is too low").required("Digging Fee is required"),customTime:k.c().when("custom",{is:!0,then:k.c().required("Resurrection time is required")}),custom:k.a()}).nullable();return Object(v.jsx)(b.a,{initialValues:T,validationSchema:N,onSubmit:O,validateOnMount:!0,children:function(e){var t=e.values,r=e.errors,n=e.touched,a=e.handleChange,c=(e.handleBlur,e.handleSubmit),s=e.setFieldValue,i=e.validateForm,o=e.isValid;return Object(v.jsxs)("form",{onSubmit:c,className:"pb-8 px-10",children:[Object(v.jsxs)("div",{className:"flex items-center",children:[Object(v.jsx)(w.a,{type:"subOne",title:"Fees"}),Object(v.jsx)(Ve.a,{content:"These fees are based on current minimum fees provided by archaeologist"}),r.bounty&&n.bounty&&Object(v.jsx)(ne.a,{children:r.bounty}),r.diggingFee&&n.diggingFee&&Object(v.jsx)(ne.a,{children:r.diggingFee})]}),Object(v.jsx)(He,{values:t,handleChange:a,errors:r,touched:n,margin:"my-4",paddingRight:"mr-8",showInfo:!1}),Object(v.jsxs)("div",{className:"flex mb-4 items-center",children:[Object(v.jsx)(w.a,{type:"subOne",title:"Choose new resurrection time"}),Object(v.jsx)(Ve.a,{content:Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{children:"Choose a resurrection time by selecting an options below"}),Object(v.jsx)("div",{children:"1 Week: 7 days from today"}),Object(v.jsx)("div",{children:"1 month: 30 days from today"}),Object(v.jsx)("div",{children:"3 months: 90 days from today"})]})}),r.resurrectionTime&&n.resurrectionTime&&Object(v.jsx)(ne.a,{children:r.resurrectionTime})]}),Object(v.jsx)(Re,{errors:r,touched:n,setFieldValue:s,values:t}),Object(v.jsxs)("div",{className:"flex flex-col justify-center items-center mt-8 mb-12",children:[Object(v.jsx)($.a,{label:y,isDisabled:!o,type:f?"submit":"button",onClick:f?function(){return null}:function(){i(),function(e){Object.keys(e).length||m()}(r)}}),Object(v.jsxs)("div",{className:"whitespace-nowrap flex absolute bottom-8 underline justify-center items-center",onClick:S,children:[Object(v.jsx)("span",{className:"mr-2 cursor-pointer",children:"Bury sarcophagus"}),Object(v.jsx)(Ve.a,{content:h.h})]})]})]})}})},Pt=function(e){var t=e.sarcophagus,r=e.setCurrentStatus,n=e.refresh,a=e.toggle,c=e.refreshTimers,s=e.setError,i=Q(),o=i.updateSarcophagus,u=i.cancelSarcophagus,l=function(){var e=Object(R.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(r,n,a,s);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(R.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t,r,a,n,c);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:"flex flex-col items-center justify-center h-full relative gap-8",style:{height:"12.0625rem"},children:[Object(v.jsx)($.a,{type:"button",onClick:l,label:"Sign"}),Object(v.jsxs)("div",{className:"whitespace-nowrap flex underline cursor-pointer",onClick:d,children:[Object(v.jsx)("span",{className:"mr-2",children:"Cancel this sarcophagus"}),Object(v.jsx)(Ve.a,{content:h.i})]})]})},Rt=function(e){var t=e.sarcophagus,r=e.refresh,n=e.toggle,a=e.setCurrentStatus,c=e.refreshTimers,s=e.setError,i=Q().cancelSarcophagus,o=function(){var e=Object(R.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(t,a,n,r,c);case 2:return e.next=4,s(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsx)("div",{className:"flex flex-col items-center justify-center h-full gap-8",style:{height:"12.0625rem"},children:Object(v.jsxs)("div",{className:"whitespace-nowrap flex underline cursor-pointer",onClick:o,children:[Object(v.jsx)("span",{className:"mr-2",children:"Cancel this sarcophagus"}),Object(v.jsx)(Ve.a,{content:h.i})]})})},Dt=function(e){var t=e.sarcophagus,r=e.toggle,n=e.refresh,a=e.setCurrentStatus,c=e.refreshTimers,s=e.setError,i=Q().cleanSarcophagus,o=function(){var e=Object(R.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(t,a,r,n,c);case 2:return e.next=4,s(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsx)("div",{className:"flex flex-col items-center justify-center h-full relative gap-8",style:{height:"12.0625rem"},children:Object(v.jsxs)("div",{className:"whitespace-nowrap flex underline cursor-pointer",onClick:o,children:[Object(v.jsx)("span",{className:"mr-2",children:"Clean this sarcophagus"}),Object(v.jsx)(Ve.a,{content:h.j})]})})},Ft=function(e){var t=e.children;return Object(v.jsx)("div",{className:"text-white text-md relative flex flex-col overflow-x-scroll hide-scrollbar max-w-128",children:t})},_t=function(e){var t=e.sarcophagus,r=e.archaeologist,n=e.currentStatus,a=e.error,c=e.setError,s=e.setCurrentStatus,i=e.toggle,o=e.refresh,u=e.refreshTimers;if(a)return Object(v.jsx)(Ft,{children:Object(v.jsx)(Rt,{setError:c,sarcophagus:t,refresh:o,toggle:i,error:a,setCurrentStatus:s,refreshTimers:u})});switch(n){case h.V.WINDOW_CLOSED:return Object(v.jsx)(Ft,{children:Object(v.jsx)(Dt,{setError:c,sarcophagus:t,refresh:o,toggle:i,setCurrentStatus:s,refreshTimers:u})});case h.V.SARCOPHAGUS_AWAIT_SIGN:return Object(v.jsx)(Ft,{children:Object(v.jsx)(Pt,{sarcophagus:t,setCurrentStatus:s,refresh:o,toggle:i,refreshTimers:u,setError:c})});case h.V.ACTIVE:return Object(v.jsx)(Ft,{children:Object(v.jsx)(Et,{sarcophagus:t,archaeologist:r,refreshTimers:u,setCurrentStatus:s,toggle:i,refresh:o})});default:return Object(v.jsx)(Ft,{})}},Mt=function(e){var t=e.sarcophagus,r=e.currentStatus,n=e.setError,a=e.setCurrentStatus,c=e.error,s=e.archaeologist,i=e.refresh,o=Ct(t.resurrectionTime,t.resurrectionWindow,r,a),u=o.timer,l=o.color,d=o.timers,p=o.refreshTimers,b=re(!0,!0),f=b.collapsed,m=b.toggle;return Object(v.jsxs)("div",{className:"border border-gray-500 px-4 my-8 pt-3 ",children:[Object(v.jsx)(It,{sarcophagus:t,currentStatus:r,error:r!==h.V.TRANSACTION_MINING_IN_PROGRESS&&c,expandedOption:!!c||r===h.V.WINDOW_CLOSED||r===h.V.SARCOPHAGUS_AWAIT_SIGN||r===h.V.ACTIVE,toggle:m,collapsed:f,timer:u,color:l,timers:d}),!f&&Object(v.jsx)(_t,{sarcophagus:t,currentStatus:r,refresh:i,setCurrentStatus:a,error:c,toggle:m,archaeologist:s,setError:n,timer:u,color:l,timers:d,refreshTimers:p})]})},Ht=["sarcophagus","refresh"],Vt=function(e){var t=e.sarcophagus,r=e.refresh,n=Object(m.a)(e,Ht),a=Nt(t,r),c=a.currentStatus,i=a.setCurrentStatus,o=a.error,u=a.setError,l=a.checkStatus,d=ut().archaeologists,b=Object(s.useState)({}),h=Object(p.a)(b,2),j=h[0],g=h[1];return Object(s.useEffect)((function(){var e=null===d||void 0===d?void 0:d.filter((function(e){return e.address===t.archaeologist}));g(e[0])}),[d,t]),Object(s.useEffect)((function(){l(t)}),[l,t]),Object(v.jsx)(Mt,Object(f.a)({sarcophagus:t,currentStatus:c,setCurrentStatus:i,error:o,setError:u,archaeologist:j,refresh:r},n))},Ut=function(e){var t=e.refresh,r=Object(d.g)(),n=Object(V.b)().account,a=Q(),c=a.embalmerSarcophagi,s=a.pendingSarcophagi;return n?!n||c.length||s.length?Object(v.jsxs)(v.Fragment,{children:[null===s||void 0===s?void 0:s.map((function(e,t){return Object(v.jsx)(vt,{sarcophagus:e},(null===e||void 0===e?void 0:e.archaeologist)+t.toString())})),null===c||void 0===c?void 0:c.map((function(e,r){return Object(v.jsx)(Vt,{sarcophagus:e,refresh:t},e.archaeologist+r.toString())}))]}):Object(v.jsx)(it,{message:"Create sarcophagus",handleClick:function(){return r.push("/create")}}):Object(v.jsx)(it,{message:"Connect to a wallet to get started",handleClick:function(){return Object(b.b)()}})},Bt=function(e){var t=Object(s.useState)(h.V.CHECKING_STATUS),r=Object(p.a)(t,2),n=r[0],a=r[1],c=Object(s.useState)(!1),i=Object(p.a)(c,2),o=i[0],u=i[1];return Object(s.useEffect)((function(){var t=Object(We.a)(e.resurrectionTime,e.resurrectionWindow,e.privateKey,e.state),r=t.isUnwrapped,n=t.isActive;r?a(h.L.UNWRAPPED):(null===e||void 0===e?void 0:e.assetId)&&n?a(h.L.ACTIVE):!(null===e||void 0===e?void 0:e.assetId)&&n?a(h.L.CREATED):(a("Sarcophagus was not unwrapped in time"),u("Sarcophagus was not unwrapped in time"))}),[e]),{currentStatus:n,error:o}},Gt="text-white text-md flex justify-between relative cursor-default max-w-128",Kt=function(e){var t=e.sarcophagus,r=t.name,n=t.state,a=e.error,c=e.toggle,s=e.status,i=e.collapsed,o=e.expandedOption,u=void 0!==o&&o,l=e.timer,d=e.color,p=e.timers;return Object(v.jsxs)("div",{className:u?g()(Gt,"cursor-pointer"):g()(Gt),onClick:u?function(){return c()}:function(){return null},style:{height:"4.375rem"},children:[Object(v.jsxs)("div",{children:[r.length>30?Object(v.jsx)(ht.a,{content:r,className:"border-2 border-white rounded text-center text-xs font-normal p-2 bg-gray-900 break-words whitespace-pre-wrap",children:Object(v.jsx)("div",{className:"text-base font-bold text-white",style:{lineHeight:"1.625rem"},children:Object(We.c)(r,25,"...",18)})}):Object(v.jsx)("div",{className:"text-base font-bold text-white",style:{lineHeight:"1.625rem"},children:r}),!a&&Object(v.jsx)(kt,{state:n,timer:p||l!==h.bb?l:"Unwrapped",color:l===h.bb?"text-white":d,timers:p})]}),Object(v.jsxs)("div",{className:"flex flex-col",children:[u&&Object(v.jsxs)("div",{className:"flex cursor-pointer",children:[!i&&Object(v.jsx)("img",{alt:"",src:oe,className:"mr-2"}),i&&Object(v.jsx)("img",{alt:"",src:le,className:"mr-2"}),Object(v.jsx)("span",{children:a?"Details":"Resurrect"})]}),Object(v.jsx)(gt,{status:s,isActive:1===n,isArchived:2===n,error:a})]})]})},Wt=r(414),Lt=["sarcophagus"],qt=function(e){var t=e.sarcophagus,r=Object(m.a)(e,Lt);return Object(v.jsx)("div",{className:"text-white text-md relative flex flex-col overflow-x-scroll hide-scrollbar max-w-128",children:Object(v.jsx)(Wt.a,Object(f.a)({sarcophagus:t},r))})},zt=["sarcophagus","currentStatus","error"],Zt=function(e){var t=e.sarcophagus,r=e.currentStatus,n=e.error,a=Object(m.a)(e,zt),c=Ct(t.resurrectionTime,t.resurrectionWindow,r),s=c.timer,i=c.color,o=c.timers,u=re(!0,!0),l=u.collapsed,d=u.toggle;return Object(v.jsxs)("div",{className:"border border-gray-500 px-4 my-8 pt-3",children:[Object(v.jsx)(Kt,{sarcophagus:t,toggle:d,collapsed:l,expandedOption:r===h.L.UNWRAPPED,status:r,error:n,timer:s,color:i,timers:o}),!l&&Object(v.jsx)(qt,Object(f.a)({sarcophagus:t,currentStatus:r,error:n,toggle:d},a))]})},Jt=["sarcophagus"],Xt=function(e){var t=e.sarcophagus,r=Object(m.a)(e,Jt),n=Bt(t),a=n.currentStatus,c=n.error;return Object(v.jsx)(Zt,Object(f.a)({currentStatus:a,error:c,sarcophagus:t},r))},Qt=function(e){var t=e.refresh;return Q().recipientSarcophagi.map((function(e,r){return Object(v.jsx)(Xt,{sarcophagus:e,refresh:t},e.archaeologist+r.toString())}))},Yt=function(e){var t=e.sarcophagus,r=t.name,n=t.state,a=e.currentStatus;return Object(v.jsxs)("div",{className:"border border-gray-500 text-white text-md flex px-4 my-8 pt-2 justify-between relative max-w-128",style:{height:"4.375rem"},children:[Object(v.jsx)("div",{children:r.length>30?Object(v.jsx)(ht.a,{content:r,className:"border-2 border-white rounded text-center text-xs font-normal p-2 bg-gray-900 break-words whitespace-pre-wrap",children:Object(v.jsx)("div",{className:"text-base font-bold text-white",style:{lineHeight:"1.625rem"},children:Object(We.c)(r,25,"...",18)})}):Object(v.jsx)("div",{className:"text-base font-bold text-white",style:{lineHeight:"1.625rem"},children:r})}),Object(v.jsx)("div",{className:"flex flex-col",children:Object(v.jsx)(gt,{status:a,isArchived:2===n})})]})},$t=function(e){var t=e.sarcophagus,r=e.currentStatus;return Object(v.jsx)(Yt,{sarcophagus:t,currentStatus:r})},er=function(e){var t=e.sarcophagus,r=function(e,t){var r=Object(s.useState)(h.e.DEFAULT),n=Object(p.a)(r,2),a=n[0],c=n[1];return Object(s.useEffect)((function(){for(var r=0;r<=t.length-1;r++){var n,a,s,i;if(null===(n=t[r].accusedIdentifiers)||void 0===n?void 0:n.includes(e.AssetDoubleHash)){c(h.e.ACCUSED);break}if(null===(a=t[r].canceledIdentifiers)||void 0===a?void 0:a.includes(e.AssetDoubleHash)){c(h.e.CANCELED);break}if(null===(s=t[r].cleanupIdentifiers)||void 0===s?void 0:s.includes(e.AssetDoubleHash)){c(h.e.CLEANED);break}if(null===(i=t[r].successesIdentifiers)||void 0===i?void 0:i.includes(e.AssetDoubleHash)){c(h.e.UNWRAPPED);break}c(h.e.BURIED)}}),[t,e]),{currentStatus:a}}(t,ut().archaeologists).currentStatus;return Object(v.jsx)($t,{sarcophagus:t,currentStatus:r})},tr=function(e){var t=e.refresh,r=Q().archivedSarcophagi;return null===r||void 0===r?void 0:r.map((function(e,r){return Object(v.jsx)(er,{sarcophagus:e,refresh:t},e.archaeologist+r.toString())}))},rr=function(){var e=Object(d.i)(),t=Q(),r=t.getRecipientSarcophagi,n=t.embalmerSarcophagiCount,a=t.getEmbalmerSarcophagi,c=t.recipientSarcophagiCount,s=t.archivedSarcophagiCount,i=ut().getArchaeologistCount,o=function(){a(),r(),i()};return Object(v.jsxs)("div",{className:"border-t border-gray-500 md:border-none mt-8 md:mt-0 pt-8 md:pt-0 w-full overflow-x-scroll hide-scrollbar max-w-128",children:[Object(v.jsx)(bt,{embalmerCount:n,recipientCount:c,archivedCount:s}),Object(v.jsxs)("div",{className:"mt-8",children:[Object(v.jsx)(d.b,{path:"".concat(e.path),exact:!0,children:Object(v.jsx)(Ut,{refresh:o})}),Object(v.jsx)(d.b,{path:"".concat(e.path,"/resurrect"),children:Object(v.jsx)(Qt,{refresh:o})}),Object(v.jsx)(d.b,{path:"".concat(e.path,"/archive"),children:Object(v.jsx)(tr,{refresh:o})})]})]})},nr=function(){return Object(v.jsxs)("div",{className:"pt-8 px-8 flex justify-center md:justify-between flex-wrap md:flex-nowrap gap-3 md:gap-0",children:[Object(v.jsxs)("div",{className:"mr-4 w-104",children:[Object(v.jsx)(w.a,{type:"subOne",icon:pt,title:"Tomb"}),Object(v.jsxs)("div",{className:"mt-8 text-md text-white",style:{lineHeight:"1.4375rem"},children:[Object(v.jsxs)("div",{children:[" ",h.db]}),Object(v.jsxs)("div",{className:"mt-4",children:[h.eb,Object(v.jsx)("a",{target:"_blank",rel:"noreferrer noopener",className:"cursor-pointer text-gray-300 hover:text-white ml-2 underline",href:"https://github.com/sarcophagus-org/sarcophagus-app/blob/develop/README.md",children:h.cb})]})]})]}),Object(v.jsx)(rr,{})]})},ar=r(199),cr=r(200),sr=r.p+"static/media/Resurrection.a7cc7e5a.svg",ir=function(e){var t=e.handleQuery,r=e.initialValues;return Object(v.jsx)(b.a,{initialValues:r,validationSchema:cr.a,onSubmit:function(e){return t(e)},children:function(e){var t=e.values,r=e.errors,n=e.touched,a=e.handleChange,c=e.handleSubmit;return Object(v.jsxs)("form",{onSubmit:c,className:"px-2 w-128",children:[Object(v.jsx)(ar.a,{values:t,errors:r,touched:n,handleChange:a}),Object(v.jsx)($.a,{_classnames:"w-full mb-4",type:"submit",label:"Submit"})]})}})},or=function(){var e=K(),t=new URLSearchParams(Object(d.h)().search),r=Object(s.useState)(""),n=Object(p.a)(r,2),a=n[0],c=n[1],i=a?C.utils.computeAddress(function(e){var t;return"0x"!==(null===e||void 0===e?void 0:e.substr(0,2))&&(t="0x"+e),t||e}(a)):"",o=Object(Z.a)(e,i,!0).recipientSarcophagi,u={recipientPrivateKey:t.get("recipientPrivateKey")||""};return Object(v.jsxs)("div",{className:"pt-8 px-8 flex justify-center md:justify-between flex-wrap md:flex-nowrap gap-4 md:gap-8",children:[Object(v.jsxs)("div",{style:{width:"34rem"},children:[Object(v.jsx)(w.a,{type:"main",icon:sr,title:"Resurrection"}),Object(v.jsx)("div",{className:"text-md font-normal pl-2 pb-8",children:h.M}),Object(v.jsx)(ir,{handleQuery:function(e){c(e.recipientPrivateKey)},initialValues:u})]}),Object(v.jsx)("div",{className:"pt-2 ",style:{width:"34rem"},children:null===o||void 0===o?void 0:o.map((function(e,t){return Object(v.jsx)(Xt,{sarcophagus:e,recipientPrivateKey:a},e.archaeologist+t.toString())}))})]})},ur=r(194),lr=k.d().shape({identifier:k.e(),address:k.e(),singleHash:k.e()}),dr=r.p+"static/media/eyeOfHorus2.67cd749c.svg",pr=["errors","touched","handleChange","title","tooltip"],br=function(e){var t=e.errors,r=e.touched,n=e.handleChange,a=e.title,c=e.tooltip,s=Object(m.a)(e,pr);return Object(v.jsxs)("div",{className:"w-128",children:[Object(v.jsxs)("div",{className:"flex items-center",children:[Object(v.jsx)(w.a,{type:"subOne",title:a}),Object(v.jsx)(Ve.a,{content:c}),t&&r&&Object(v.jsx)(ne.a,{children:t})]}),Object(v.jsx)(se.a,Object(f.a)({_classnames:"my-4 pl-4",errored:t&&r,error:t,onChange:n},s))]})},hr=function(){var e=Q().accuseArchaeologist;return Object(v.jsx)(b.a,{initialValues:ur.a,validationSchema:lr,onSubmit:function(t,r){var n=r.resetForm;return e(t,n)},children:function(e){var t=e.values,r=e.errors,n=e.touched,a=e.handleChange,c=e.handleSubmit;return Object(v.jsxs)("form",{onSubmit:c,className:"px-2 flex flex-wrap md:flex-nowrap justify-center",children:[Object(v.jsxs)("div",{className:"mr-4 mt-2 w-104 md:w-128",children:[Object(v.jsx)(w.a,{type:"subOne",icon:dr,title:"Eye of Horus"}),Object(v.jsxs)("div",{className:"mt-8 text-md text-white pr-8",style:{lineHeight:"1.4375rem"},children:[Object(v.jsx)("div",{children:h.x}),Object(v.jsx)("div",{className:"mt-4",children:h.y}),Object(v.jsx)("div",{className:"mt-4",children:h.z})]})]}),Object(v.jsxs)("div",{className:"mt-8 md:mt-16",children:[Object(v.jsx)(br,{type:"text",name:"address",height:"lg",value:t.address,errors:r.address,touched:n.address,handleChange:a,title:h.G,tooltip:h.d,placeholder:h.c}),Object(v.jsx)(br,{type:"textarea",name:"singleHash",height:"accuse",value:t.singleHash,errors:r.singleHash,touched:n.singleHash,handleChange:a,title:h.T,tooltip:h.U,placeholder:h.S}),Object(v.jsx)(br,{type:"textarea",name:"identifier",height:"accuse",value:t.identifier,errors:r.identifier,touched:n.identifier,handleChange:a,title:h.B,tooltip:h.C,placeholder:h.A}),Object(v.jsx)($.a,{_classnames:"mx-auto w-full mb-4",type:"submit",label:"Submit"})]})]})}})},fr=r.p+"static/media/copy.f58289cd.svg",mr=function(){var e=Object(s.useState)(""),t=Object(p.a)(e,2),r=t[0],n=t[1],a=Object(V.b)(),c=a.account,i=a.signerOrProvider,o=function(){var e=Object(R.a)(P.a.mark((function e(){var t,r,a,c;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"Hello from the Sarcophagus! Sign this message to retrieve your account's public key",t=C.utils.hashMessage("Hello from the Sarcophagus! Sign this message to retrieve your account's public key"),r=C.utils.arrayify(t),e.next=6,i.signMessage("Hello from the Sarcophagus! Sign this message to retrieve your account's public key");case 6:a=e.sent,c=C.utils.recoverPublicKey(r,a),n(c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),4001===e.t0.code?console.error("We can encrypt anything without the key."):console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:"p-4 flex gap-4 flex-wrap md:flex-nowrap justify-center md:justify-start",children:[Object(v.jsxs)("div",{className:"mr-4 mt-2 text-base w-104 md:w-128",children:[Object(v.jsx)("div",{children:"To receive and decrypt a Sarcophagus after resurrection, the embalmer needs your public key."}),Object(v.jsx)("div",{className:"mt-4",children:"1. Log in with the account that will receive Sarcophagus"}),Object(v.jsx)("div",{className:"mt-4",children:"2. Click below to retrieve your public key"}),Object(v.jsx)("div",{className:"mt-4",children:"2. Give your public key to the embalmer"}),Object(v.jsx)($.a,{isDisabled:!c,_classnames:"mt-4",type:"button",onClick:o,label:"Get Public Key"})]}),Object(v.jsx)("div",{className:"flex flex-col items-center mt-2 relative",children:r&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"absolute right-1 top-1",onClick:function(){navigator.clipboard.writeText(r),ee.b.dark("Copied to clipboard",{autoClose:2e3})},children:Object(v.jsx)("img",{src:fr,alt:"",className:""})}),Object(v.jsx)(w.a,{title:"Your Public Key",type:"subOne"}),Object(v.jsx)("div",{className:"border-t-2 border-b-2 border-gray-300 py-8 mt-4",children:Object(v.jsxs)("div",{className:"bg-black w-104 break-words text-md p-4",children:[" ",r," "]})})]})})]})},jr=function(){return Object(v.jsxs)("div",{className:"border border-gray-500 p-4 mx-4 mb-8 mt-0 overflow-x-scroll hide-scrollbar",style:{minHeight:"calc(100vh - 16rem)"},children:[Object(v.jsx)(d.b,{path:"/",exact:!0,children:Object(v.jsx)(d.a,{to:"/tomb"})}),Object(v.jsx)(d.b,{path:"/tomb",component:nr}),Object(v.jsx)(d.b,{path:"/create",component:dt,exact:!0}),Object(v.jsx)(d.b,{path:"/resurrection",component:or,exact:!0}),Object(v.jsx)(d.b,{path:"/horus",component:hr,exact:!0}),Object(v.jsx)(d.b,{path:"/publicKey",component:mr,exact:!0})]})},gr=r(416),vr=function(){return Object(v.jsx)("div",{className:"text-gray-400 text-xs my-4",children:Object(v.jsx)("div",{className:"pb-6 text-center",children:Object(v.jsxs)("div",{children:["v",gr.version+"+276ec79"]})})})},yr=function(){var e=Object(V.b)().account;return e?Object(v.jsxs)("div",{className:"flex justify-center items-center w-full",children:[Object(We.c)(e,19,"...",7),Object(v.jsx)("img",{src:ze,alt:"",className:"ml-6"})]}):Object(v.jsx)("button",{className:"underline text-center w-full",onClick:function(){return Object(lt.a)()},children:"Connect Web3 Account"})},xr=["title","dest","icon"],Or=function(e){var t=e.title,r=e.dest,n=e.icon,a=Object(m.a)(e,xr);return Object(v.jsxs)(l.b,Object(f.a)(Object(f.a)({to:r,activeClassName:"border-b-2 md:border-b-4 border-white text-white pb-2",className:"text-sm text-gray-300 flex items-center justify-center"},a),{},{children:[n&&Object(v.jsx)("img",{src:n,alt:"",className:"mx-1 h-4 w-4"}),Object(v.jsx)("span",{className:"hidden md:inline-block ml-2",children:t})]}))},wr=function(){return Object(v.jsxs)("ul",{className:"flex whitespace-nowrap",children:[Object(v.jsx)("li",{className:"pr-4 py-1 ",children:Object(v.jsx)(Or,{dest:"/tomb",title:"Tomb",icon:pt})}),Object(v.jsx)("li",{className:"px-4 py-1 ",children:Object(v.jsx)(Or,{dest:"/create",title:"Create Sarcophagus",icon:S})}),Object(v.jsx)("li",{className:"px-4 py-1 ",children:Object(v.jsx)(Or,{dest:"/resurrection",title:"Resurrection",icon:sr})}),Object(v.jsx)("li",{className:"px-4 py-1 ",children:Object(v.jsx)(Or,{dest:"/horus",title:"Eye of Horus",icon:dr})})]})},Sr=r.p+"static/media/logo.46d0239c.png",Tr=r.p+"static/media/wallet.7d4fae45.svg",Nr=function(){return Object(v.jsxs)("div",{className:"flex items-center my-8",style:{height:"4rem"},children:[Object(v.jsx)("div",{className:"w-24 p-1 mr-4 my-4",children:Object(v.jsx)(l.b,{to:"/tomb",children:Object(v.jsx)("img",{src:Sr,alt:"logo"})})}),Object(v.jsx)("div",{className:"flex items-center justify-center",children:Object(v.jsx)("div",{className:"",children:Object(v.jsx)(wr,{})})}),Object(v.jsxs)("div",{className:"flex items-center justify-center absolute right-4",style:{top:"1.05rem"},children:[Object(v.jsx)("div",{children:Object(v.jsx)("img",{src:Tr,alt:"wallet",className:""})}),Object(v.jsx)("div",{className:"ml-3 text-sm text-gray-300 ",children:Object(v.jsx)(yr,{})})]})]})},Cr=function(){return Object(v.jsxs)(l.a,{children:[Object(v.jsx)(Nr,{}),Object(v.jsx)(d.d,{children:Object(v.jsx)(jr,{})}),Object(v.jsx)(vr,{})]})},kr=function(){return Object(v.jsx)("div",{className:"container relative",children:Object(v.jsx)(Cr,{})})},Ar=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,840)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),n(e),a(e),c(e),s(e)}))};u.a.render(Object(v.jsx)(i.a.StrictMode,{children:Object(v.jsx)(V.a,{children:Object(v.jsx)(W,{children:Object(v.jsx)(X,{children:Object(v.jsxs)(ot,{children:[Object(v.jsx)(kr,{}),Object(v.jsx)(ee.a,{closeButton:!0,position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})})})})}),document.getElementById("root")),Ar()}},[[822,1,2]]]);
//# sourceMappingURL=main.ce9f605a.chunk.js.map