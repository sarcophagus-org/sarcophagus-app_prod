(this["webpackJsonpsarco-webapp"]=this["webpackJsonpsarco-webapp"]||[]).push([[0],{107:function(e,t,r){"use strict";r.d(t,"b",(function(){return x})),r.d(t,"a",(function(){return O}));var n=r(2),a=r.n(n),c=r(13),s=r(11),i=r(1),o=r(43),u=r(152),l=r(434),d=r.n(l),b=r(435),p=r.n(b),f=r(119),h=r(14);var m={walletconnect:{package:p.a,options:{infuraId:"800746c8737e4f34bb772ade4532ab83"}}},j=new d.a({providerOptions:m,cacheProvider:!0,theme:"dark"}),g="not connected",v={name:g,account:!1,chainId:null,provider:null,signerOrProvider:null};function y(e){return{name:"injected provider",account:e.provider.selectedAddress,chainId:parseInt(e.provider.chainId),provider:e,signerOrProvider:e.getSigner()}}function x(){var e,t=Object(i.useState)(v),r=Object(s.a)(t,2),n=r[0],a=r[1],c=function(e,t){var r=Object(i.useState)(null),n=Object(s.a)(r,2),a=n[0],c=n[1];return Object(i.useEffect)((function(){return t.on("connect",(function(e){if(Object(f.a)().includes(parseInt(e.chainId))){var r=new o.a.providers.Web3Provider(e);c(r),h.b.dark("Connected",{toastId:"connected"})}else h.b.dark("Switch to a supported network",{toastId:"switchNetwork"}),t.clearCachedProvider(),c(null)})),function(){t.off("connect")}}),[t]),Object(i.useEffect)((function(){if(e)return e.on("chainChanged",(function(e){Object(f.a)().includes(parseInt(e))?window.location.reload():(h.b.dark("Switch to a supported network",{toastId:"switchNetwork"}),t.clearCachedProvider(),c(null))})),e.on("accountsChanged",(function(e){0===e.length?(h.b.dark("Account disconnected",{toastId:"disconnected"}),t.clearCachedProvider(),c(null)):(Object(h.b)("Account changed",{toastId:"connected"}),c(null))})),e.on("disconnect",(function(){h.b.dark("Account disconnected",{toastId:"disconnected"}),t.clearCachedProvider(),c(null)})),function(){e.removeAllListeners()}}),[e,t]),a}(null===(e=n.provider)||void 0===e?void 0:e.provider,j);return Object(i.useEffect)((function(){a(c?y(c):v)}),[c]),Object(i.useEffect)((function(){var e;n.name===g&&(j.cachedProvider||n.signerOrProvider&&Object(f.a)().includes(parseInt(n.signerOrProvider.chainId))?(e=j,new Promise((function(t,r){e.connect().then((function(e){var r=new o.a.providers.Web3Provider(e);t(y(r))})).catch(r)}))).then(a).catch(console.error):a(function(){var e={infura:"800746c8737e4f34bb772ade4532ab83",alchemy:"bjrgvDbGZBUJ_iZFFd1vIqUWzgrwKWeg",etherscan:"G61W8715WK65NCMJPFXU8EBQ5VDTT4KCVJ"},t=Object(u.getDefaultProvider)(parseInt("1",10),e);return{name:"fallback provider",account:!1,chainId:t.network.chainId,provider:t,signerOrProvider:t}}()))}),[n.name,n.signerOrProvider]),n}function O(){return w.apply(this,arguments)}function w(){return(w=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.connect();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},119:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return s}));var n=r(11),a=r(1),c=function(){return[].concat([],[parseInt("1",10)])},s=function(e){var t=Object(a.useState)(),r=Object(n.a)(t,2),c=r[0],s=r[1];return Object(a.useEffect)((function(){e===parseInt("",10)?s({sarcophagus:""}):e===parseInt("1",10)&&s({sarcophagus:"0xD227e63E7d74Ba0374E1d5B2479666b21ba7811c"})}),[e]),c}},134:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return c}));var n=r(50),a=r(39),c=function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=a.utils.arrayify(t);if(r){var s=new Uint8Array([4]);return e.from(new Uint8Array([].concat(Object(n.a)(s),Object(n.a)(c))))}return e.from(c)}}).call(this,r(17).Buffer)},135:function(e,t,r){"use strict";(function(e){r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return u}));var n=r(2),a=r.n(n),c=r(13),s=r(450),i=r.n(s),o=function(){return i.a.init({host:"arweave.net",port:443,protocol:"https",timeout:2e4,logging:!1})},u=function(){var t=Object(c.a)(a.a.mark((function t(r,n,c){var s,i,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.transactions.getData(n,{decode:!0});case 3:return s=t.sent,i=e.from(s),o=e.from(c.data),t.abrupt("return",0===e.compare(i,o));case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,r,n){return t.apply(this,arguments)}}()}).call(this,r(17).Buffer)},192:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return p}));var n=r(15),a=r(2),c=r.n(a),s=r(13),i=r(11),o=r(1),u=r(49),l=r(39),d=r(14),b=r(6),p=function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];r&&d.b.dark(b.P,{autoClose:!1,toastId:"loading-sarcophagi"});var p=Object(o.useState)([]),f=Object(i.a)(p,2),h=f[0],m=f[1],j=Object(o.useState)(!1),g=Object(i.a)(j,2),v=g[0],y=g[1],x=Object(u.b)(),O=x.account,w=Object(o.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(n){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===t||void 0===t?void 0:t.recipientSarcophagusCount(r||n);case 3:return a=e.sent,e.abrupt("return",a);case 7:e.prev=7,e.t0=e.catch(0),console.error("There was a problem with contract : RecipientCount",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),[t,r]),S=Object(o.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(n,a){var i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=new Array(null===a||void 0===a?void 0:a.toNumber()).fill(void 0),e.next=4,Promise.all(i.map(function(){var e=Object(s.a)(c.a.mark((function e(a,s){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===t||void 0===t?void 0:t.recipientSarcophagusIdentifier(r||n,s);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()));case 4:return o=e.sent,e.abrupt("return",o);case 8:e.prev=8,e.t0=e.catch(0),console.error("There was a problem with contract : RecipientDoubleHashes",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}(),[t,r]),T=Object(o.useCallback)(function(){var r=Object(s.a)(c.a.mark((function r(a){var i;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Promise.all(a.map(function(){var r=Object(s.a)(c.a.mark((function r(a){return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=n.a,r.t1=n.a,r.t2={},r.next=5,null===t||void 0===t?void 0:t.sarcophagus(e.from(l.utils.arrayify(a)));case 5:return r.t3=r.sent,r.t4=(0,r.t1)(r.t2,r.t3),r.t5={},r.t6={AssetDoubleHash:a},r.abrupt("return",(0,r.t0)(r.t4,r.t5,r.t6));case 10:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())).catch((function(e){return console.error("There was a problem with contract : RecipientInfo",e)}));case 3:return i=r.sent,r.abrupt("return",i);case 7:r.prev=7,r.t0=r.catch(0),console.error("There was a problem with contract : RecipientInfo",r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}(),[t]),N=Object(o.useCallback)((function(){w(O).then((function(e){(null===e||void 0===e?void 0:e.isZero())||S(O,e).then((function(e){(null===e||void 0===e?void 0:e.length)&&T(e).then((function(e){(null===e||void 0===e?void 0:e.length)&&(y(e.filter((function(e){return 1===e.state||2===e.state&&"0x0000000000000000000000000000000000000000000000000000000000000000"!==e.privateKey}))),m(e),d.b.dismiss("loading-sarcophagi"))})).catch((function(e){return console.error("Sarcophagus Info",e)}))})).catch((function(e){return console.error("Sarcophagus Identifiers",e)}))})).catch((function(e){return console.error("Sarcophagus Count",e)}))}),[O,w,S,T]);return Object(o.useEffect)((function(){a&&!r||(a||O)&&N()}),[N,a,O,r]),{recipientSarcophagi:v,recipientAllSarcophagi:h,getRecipientSarcophagi:N}}}).call(this,r(17).Buffer)},193:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n={singleHash:"",address:"",identifier:""}},194:function(e,t,r){"use strict";r(1);var n=r(56),a=r(65),c=r(31),s=r(48),i=r(0);t.a=function(e){var t=e.values,r=e.errors,o=e.touched,u=e.handleChange;return Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"flex items-center",children:[Object(i.jsx)(c.a,{type:"subOne",title:"Recipient's Private Key"}),Object(i.jsx)(s.a,{content:"The Private Key of the receiver of this Sarcophagus"}),r.recipientPrivateKey&&o.recipientPrivateKey&&Object(i.jsx)(n.a,{children:r.recipientPrivateKey})]}),Object(i.jsx)(a.a,{_classnames:"my-4",name:"recipientPrivateKey",value:t.recipientPrivateKey,errored:r.recipientPrivateKey&&o.recipientPrivateKey,error:r.recipientPublicKey,onChange:u,type:"textarea",height:"xl",placeholder:"0x........00000"})]})}},195:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(39),a=r(41),c=function(e){if(!e)return a.d().shape({recipientPrivateKey:a.e().test("required","Recipient Private Key is required",(function(e){return!!e})).test("validDataHextString","Please enter a valid public key",(function(e){var t,r;return"0x"!==(null===e||void 0===e||null===(t=e.substr)||void 0===t?void 0:t.call(e,0,2))&&(r="0x"+e),n.utils.isHexString(r||e,32)}))})}},31:function(e,t,r){"use strict";var n=r(15),a=r(32),c=(r(1),r(45)),s=r(48),i=r(0),o=function(e){var t=e.title,r=e.icon;return Object(i.jsxs)("div",{className:"flex items-center mb-6 whitespace-nowrap",children:[r&&Object(i.jsx)("img",{src:r,alt:"",className:"mr-4"}),Object(i.jsx)("span",{className:"text-lg",children:t})]})},u=function(e){var t=e.title,r=e.icon,n=void 0!==r&&r;return Object(i.jsxs)("div",{className:"flex items-center text-white whitespace-pre-wrap md:whitespace-nowrap mr-2",children:[n&&Object(i.jsx)("img",{src:n,alt:"",className:"mr-4"}),Object(i.jsx)("span",{className:"text-md font-bold",children:t})]})},l=function(e){var t=e.title,r=e.showToolTip,n=void 0!==r&&r,a=e.toolTip,c=void 0===a?"":a;return Object(i.jsxs)("div",{className:"flex items-center",children:[Object(i.jsx)("span",{className:"mr-2 text-gray-400 text-sm whitespace-nowrap",style:{lineHeight:"1.375rem"},children:t}),n&&Object(i.jsx)(s.a,{content:c})]})},d=function(e){var t=e.values;return Object(i.jsxs)("div",{className:"flex items-center whitespace-nowrap",children:[Object(i.jsxs)("span",{className:"mr-2 text-gray-400 text-sm",style:{lineHeight:"1.375rem"},children:["Resurrection: ",Object(c.c)(t.resurrectionTime,t.custom)]}),Object(i.jsx)(s.a,{content:"Time currently set for resurrection"})]})};t.a=function(e){var t=e.type,r=Object(a.a)(e,["type"]);return"main"===t?Object(i.jsx)(o,Object(n.a)({},r)):"subOne"===t?Object(i.jsx)(u,Object(n.a)({},r)):"subTwo"===t?Object(i.jsx)(l,Object(n.a)({},r)):"resurrection"===t?Object(i.jsx)(d,Object(n.a)({},r)):Object(i.jsx)(i.Fragment,{})}},37:function(e,t,r){"use strict";r.d(t,"e",(function(){return u})),r.d(t,"b",(function(){return i})),r.d(t,"f",(function(){return s})),r.d(t,"c",(function(){return o})),r.d(t,"a",(function(){return d})),r.d(t,"d",(function(){return l}));var n=r(425),a=r.n(n),c=r(39),s=function(e,t){return a()(c.utils.formatUnits(e,t))},i=function(e,t){return s(e,t).value()},o=function(e,t,r){return r?s(e,t).value().toFixed().toString():s(e,t).input()},u=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.feePerByte,a=e.minimumBounty,c=e.minimumDiggingFee,s=t.size;if(!n||!a||!c)return"";if(!s)return"";var i=n.mul(s+226).add(a).add(c),u=o(i,18);return r?i:u},l=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.feePerByte,a=e.minimumBounty,c=e.minimumDiggingFee,s=t.size;if(!n||!a||!c)return"";if(!s)return"";var i=n.mul(s+226),u=o(i,18);return r?i:u},d=function(e,t){if(null===e||void 0===e?void 0:e.isZero())return"0 %";var r=parseFloat(c.utils.formatEther(e)),n=parseFloat(c.utils.formatEther(t.add(e)));return"".concat((r/n*100).toFixed(9)," %")}},433:function(e,t,r){"use strict";(function(e){var n=r(2),a=r.n(n),c=r(13),s=r(11),i=r(1),o=r(133),u=r(39),l=r(134);t.a=function(){var t=Object(i.useState)(!1),r=Object(s.a)(t,2),n=r[0],d=r[1],b=Object(i.useState)(!1),p=Object(s.a)(b,2),f=p[0],h=p[1],m=Object(i.useState)(!1),j=Object(s.a)(m,2),g=j[0],v=j[1],y=Object(i.useState)(!1),x=Object(s.a)(y,2),O=x[0],w=x[1],S=Object(i.useState)(!1),T=Object(s.a)(S,2),N=T[0],C=T[1],A=Object(i.useState)(!1),k=Object(s.a)(A,2),E=k[0],I=k[1],P=Object(i.useState)(!1),R=Object(s.a)(P,2),D=R[0],_=R[1];Object(i.useEffect)((function(){if(n)try{var e=new FileReader;e.readAsArrayBuffer(n),e.onload=function(e){var t=e.target.result,r=new Uint8Array(t);v(r)}}catch(t){console.error(t)}}),[n]);var F=Object(i.useCallback)((function(){var t=JSON.stringify({type:n.type,data:g});return new Uint8Array(e.from(t))}),[n,g]),H=Object(i.useCallback)(Object(c.a)(a.a.mark((function e(){var t,r,n,c,s,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=F(),"0x04"!==f.substr(0,4)&&(r="0x04"+f),n=Object(l.a)(r||f,!0).slice(1),e.next=6,Object(o.encrypt)(n,t);case 6:c=e.sent,w(c),s=u.utils.keccak256(c),i=u.utils.keccak256(s),_(u.utils.arrayify(i)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])}))),[F,f]);Object(i.useEffect)((function(){g&&f&&H()}),[g,f,H]);var U=Object(i.useCallback)(Object(c.a)(a.a.mark((function e(){var t,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Object(l.a)(N,!0),e.next=4,Object(o.encrypt)(t,O);case 4:r=e.sent,I(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[O,N]);return Object(i.useEffect)((function(){O&&N&&U()}),[O,N,U]),{file:n,setFile:d,setRecipientPublicKey:h,setArchaeologistAddress:C,doubleEncryptedFile:E,assetDoubleHash:D}}}).call(this,r(17).Buffer)},436:function(e){e.exports=JSON.parse('[{"inputs":[],"name":"sarcoToken","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"_sarcoToken","type":"address"}],"name":"initialize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"archaeologistCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"archaeologistAddresses","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"archaeologists","outputs":[{"components":[{"internalType":"bool","name":"exists","type":"bool"},{"internalType":"bytes","name":"currentPublicKey","type":"bytes"},{"internalType":"string","name":"endpoint","type":"string"},{"internalType":"address","name":"paymentAddress","type":"address"},{"internalType":"uint256","name":"feePerByte","type":"uint256"},{"internalType":"uint256","name":"minimumBounty","type":"uint256"},{"internalType":"uint256","name":"minimumDiggingFee","type":"uint256"},{"internalType":"uint256","name":"maximumResurrectionTime","type":"uint256"},{"internalType":"uint256","name":"freeBond","type":"uint256"},{"internalType":"uint256","name":"cursedBond","type":"uint256"}],"internalType":"struct Types.Archaeologist","name":"","type":"tuple"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"sarcophagusCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"sarcophagusIdentifier","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"embalmer","type":"address"}],"name":"embalmerSarcophagusCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"embalmer","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"embalmerSarcophagusIdentifier","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"archaeologist","type":"address"}],"name":"archaeologistSarcophagusCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"archaeologist","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"archaeologistSarcophagusIdentifier","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"recipient","type":"address"}],"name":"recipientSarcophagusCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"recipientSarcophagusIdentifier","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"archaeologist","type":"address"}],"name":"archaeologistSuccessesCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"archaeologist","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"archaeologistSuccessesIdentifier","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"archaeologist","type":"address"}],"name":"archaeologistCancelsCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"archaeologist","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"archaeologistCancelsIdentifier","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"archaeologist","type":"address"}],"name":"archaeologistAccusalsCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"archaeologist","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"archaeologistAccusalsIdentifier","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"archaeologist","type":"address"}],"name":"archaeologistCleanupsCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"archaeologist","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"archaeologistCleanupsIdentifier","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"bytes32","name":"identifier","type":"bytes32"}],"name":"sarcophagus","outputs":[{"components":[{"internalType":"enum Types.SarcophagusStates","name":"state","type":"uint8"},{"internalType":"address","name":"archaeologist","type":"address"},{"internalType":"bytes","name":"archaeologistPublicKey","type":"bytes"},{"internalType":"address","name":"embalmer","type":"address"},{"internalType":"string","name":"name","type":"string"},{"internalType":"uint256","name":"resurrectionTime","type":"uint256"},{"internalType":"uint256","name":"resurrectionWindow","type":"uint256"},{"internalType":"string","name":"assetId","type":"string"},{"internalType":"bytes","name":"recipientPublicKey","type":"bytes"},{"internalType":"uint256","name":"storageFee","type":"uint256"},{"internalType":"uint256","name":"diggingFee","type":"uint256"},{"internalType":"uint256","name":"bounty","type":"uint256"},{"internalType":"uint256","name":"currentCursedBond","type":"uint256"},{"internalType":"bytes32","name":"privateKey","type":"bytes32"}],"internalType":"struct Types.Sarcophagus","name":"","type":"tuple"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"bytes","name":"currentPublicKey","type":"bytes"},{"internalType":"string","name":"endpoint","type":"string"},{"internalType":"address","name":"paymentAddress","type":"address"},{"internalType":"uint256","name":"feePerByte","type":"uint256"},{"internalType":"uint256","name":"minimumBounty","type":"uint256"},{"internalType":"uint256","name":"minimumDiggingFee","type":"uint256"},{"internalType":"uint256","name":"maximumResurrectionTime","type":"uint256"},{"internalType":"uint256","name":"freeBond","type":"uint256"}],"name":"registerArchaeologist","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"endpoint","type":"string"},{"internalType":"bytes","name":"newPublicKey","type":"bytes"},{"internalType":"address","name":"paymentAddress","type":"address"},{"internalType":"uint256","name":"feePerByte","type":"uint256"},{"internalType":"uint256","name":"minimumBounty","type":"uint256"},{"internalType":"uint256","name":"minimumDiggingFee","type":"uint256"},{"internalType":"uint256","name":"maximumResurrectionTime","type":"uint256"},{"internalType":"uint256","name":"freeBond","type":"uint256"}],"name":"updateArchaeologist","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"withdrawBond","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"address","name":"archaeologist","type":"address"},{"internalType":"uint256","name":"resurrectionTime","type":"uint256"},{"internalType":"uint256","name":"storageFee","type":"uint256"},{"internalType":"uint256","name":"diggingFee","type":"uint256"},{"internalType":"uint256","name":"bounty","type":"uint256"},{"internalType":"bytes32","name":"identifier","type":"bytes32"},{"internalType":"bytes","name":"recipientPublicKey","type":"bytes"}],"name":"createSarcophagus","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes","name":"newPublicKey","type":"bytes"},{"internalType":"bytes32","name":"identifier","type":"bytes32"},{"internalType":"string","name":"assetId","type":"string"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"updateSarcophagus","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"identifier","type":"bytes32"}],"name":"cancelSarcophagus","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"identifier","type":"bytes32"},{"internalType":"uint256","name":"resurrectionTime","type":"uint256"},{"internalType":"uint256","name":"diggingFee","type":"uint256"},{"internalType":"uint256","name":"bounty","type":"uint256"}],"name":"rewrapSarcophagus","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"identifier","type":"bytes32"},{"internalType":"bytes32","name":"privateKey","type":"bytes32"}],"name":"unwrapSarcophagus","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"identifier","type":"bytes32"},{"internalType":"bytes","name":"singleHash","type":"bytes"},{"internalType":"address","name":"paymentAddress","type":"address"}],"name":"accuseArchaeologist","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"identifier","type":"bytes32"}],"name":"burySarcophagus","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"identifier","type":"bytes32"},{"internalType":"address","name":"paymentAddress","type":"address"}],"name":"cleanUpSarcophagus","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]')},437:function(e){e.exports=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]')},442:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return i}));var n=r(50),a=r(11),c=r(39),s=r(1),i=function(t,r){var i=Object(s.useState)([]),o=Object(a.a)(i,2),u=o[0],l=o[1];return Object(s.useEffect)((function(){var e=t.filter((function(e){return 2===e.state})),a=r.filter((function(e){return 2===e.state})),c=[].concat(Object(n.a)(e),Object(n.a)(a)),s=Array.from(c.reduce((function(e,t){return t&&t.AssetDoubleHash&&e.set(t.AssetDoubleHash,t)}),new Map).values());l(s)}),[t,r]),Object(s.useEffect)((function(){null===u||void 0===u||u.forEach((function(t){var r=e.from(c.utils.arrayify(t.AssetDoubleHash));localStorage.removeItem(r.toLocaleString())}))}),[u]),{archivedSarcophagi:u}}}).call(this,r(17).Buffer)},443:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return f}));var n=r(15),a=r(2),c=r.n(a),s=r(13),i=r(11),o=r(39),u=r(1),l=r(14),d=r(6),b=r(444),p=r(49),f=function(t){var r=Object(p.b)(),a=r.account,f=r.provider,h=Object(u.useState)([]),m=Object(i.a)(h,2),j=m[0],g=m[1],v=Object(u.useState)(!1),y=Object(i.a)(v,2),x=y[0],O=y[1],w=Object(u.useState)([]),S=Object(i.a)(w,2),T=S[0],N=S[1],C=Object(u.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(r){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===t||void 0===t?void 0:t.embalmerSarcophagusCount(r);case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),console.error("There was a problem with contract : Count",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),[t]),A=Object(u.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(r,n){var a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=new Array(null===n||void 0===n?void 0:n.toNumber()).fill(void 0),e.next=4,Promise.all(a.map(function(){var e=Object(s.a)(c.a.mark((function e(n,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===t||void 0===t?void 0:t.embalmerSarcophagusIdentifier(r,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()));case 4:return i=e.sent,e.abrupt("return",i);case 8:e.prev=8,e.t0=e.catch(0),console.error("There was a problem with contract : EmbalmerDoubleHashes",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}(),[t]),k=Object(u.useCallback)(function(){var r=Object(s.a)(c.a.mark((function r(a){var i;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Promise.all(a.map(function(){var r=Object(s.a)(c.a.mark((function r(a){return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=n.a,r.t1=n.a,r.t2={},r.next=5,null===t||void 0===t?void 0:t.sarcophagus(e.from(o.utils.arrayify(a)));case 5:return r.t3=r.sent,r.t4=(0,r.t1)(r.t2,r.t3),r.t5={},r.t6={AssetDoubleHash:a},r.abrupt("return",(0,r.t0)(r.t4,r.t5,r.t6));case 10:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())).catch((function(e){return console.error("There was a problem with contract : EmbalmerInfo",e)}));case 3:return i=r.sent,r.abrupt("return",i);case 7:r.prev=7,r.t0=r.catch(0),console.error("There was a problem with contract : EmbalmerInfo",r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}(),[t]),E=Object(u.useCallback)((function(){a&&C(a).then((function(e){(null===e||void 0===e?void 0:e.isZero())||A(a,e).then((function(e){(null===e||void 0===e?void 0:e.length)&&k(e).then((function(e){(null===e||void 0===e?void 0:e.length)&&(O((function(){return e.filter((function(e){return 1===e.state}))})),g((function(){return e})))})).catch((function(e){return console.error("Sarcophagus Info",e)}))})).catch((function(e){return console.error("Sarcophagus Identifiers",e)}))})).catch((function(e){return console.error("Sarcophagus Count",e)}))}),[a,C,A,k]),I=Object(u.useCallback)(Object(s.a)(c.a.mark((function e(){var t,r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f){e.next=2;break}return e.abrupt("return");case 2:return t=window.localStorage,r=0,a=new Array(t.length).fill(void 0),e.next=7,Promise.all(a.map(function(){var e=Object(s.a)(c.a.mark((function e(a,s){var i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("WEB3_CONNECT_CACHED_PROVIDER"!==(i=t.key(s))){e.next=3;break}return e.abrupt("return","");case 3:return e.next=5,JSON.parse(localStorage.getItem(i));case 5:if((null===(o=e.sent)||void 0===o?void 0:o.action)!==d.c.SARCOPHAGUS_CREATED){e.next=16;break}return e.next=9,Object(b.a)(o.txReceipt.hash,f);case 9:if(e.sent){e.next=15;break}return r+=1,e.abrupt("return",o);case 15:(null===o||void 0===o?void 0:o.action)===d.c.SARCOPHAGUS_CREATED&&localStorage.setItem(i,JSON.stringify(Object(n.a)(Object(n.a)({},o),{},{action:"sending file"})));case 16:return e.abrupt("return","");case 17:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}())).then((function(e){var t=e.filter((function(e){return e}));if(N(t),0===r)return l.b.dismiss("sarcoMining"),E();setTimeout((function(){I()}),5e3)})).catch((function(e){return console.error("storage error",e)}));case 7:case"end":return e.stop()}}),e)}))),[f,E]);return Object(u.useEffect)((function(){I().then((function(){E()}))}),[I,E]),{embalmerSarcophagi:x,embalmerAllSarcophagi:j,pendingSarcophagi:T,checkStorage:I}}}).call(this,r(17).Buffer)},444:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(2),a=r.n(n),c=r(13),s=function(){var e=Object(c.a)(a.a.mark((function e(t,r){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===r||void 0===r?void 0:r.getTransactionReceipt(t);case 2:if(!(n=e.sent)||!n.blockNumber){e.next=7;break}return e.abrupt("return",!0);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},445:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return p}));var n=r(2),a=r.n(n),c=r(13),s=r(39),i=r(34),o=r(14),u=r(6),l=r(45),d=r(193),b=r(446),p=function(t){var r=Object(b.a)().contractCall,n=function(){var e=Object(c.a)(a.a.mark((function e(r,n,c,s,i,l,d,b,p,f,h){var m,j,g,v,y;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.createSarcophagus(r,n.address,c,s,i,l,d,b);case 3:return m=e.sent,console.info("CREATE TX HASH",m.hash),j={action:u.c.SARCOPHAGUS_CREATED,sarcophagusName:r,doubleEncryptedFile:p,endpoint:n.endpoint,txReceipt:m},localStorage.setItem(d,JSON.stringify(j)),o.b.dark(u.Q),e.next=10,h();case 10:return e.next=12,f.replace("/");case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),4001===(null===e.t0||void 0===e.t0?void 0:e.t0.code)?o.b.error(u.eb):-32603===(null===e.t0||void 0===e.t0||null===(g=e.t0.error)||void 0===g?void 0:g.code)?("execution reverted: revert resurrection time must be in the future"===(null===e.t0||void 0===e.t0||null===(v=e.t0.error)||void 0===v?void 0:v.message)&&o.b.error("Resurrection time must be in the future"),"execution reverted: ERC20: transfer amount exceeds balance"===(null===e.t0||void 0===e.t0||null===(y=e.t0.error)||void 0===y?void 0:y.message)&&o.b.error("Sarco balance too low to execute transaction")):(o.b.error("There was a problem creating sarcophagus"),console.error("There was a problem creating sarcophagus:",e.t0));case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,r,n,a,c,s,i,o,u,l,d){return e.apply(this,arguments)}}(),p=function(){var n=Object(c.a)(a.a.mark((function n(c,i,l,d,b){var p,f,h,m;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{p=c.AssetDoubleHash,f=e.from(s.utils.arrayify(p)),h=function(){d(),i(u.U.TRANSACTION_MINING_IN_PROGRESS)},m=function(e){var t=e.transactionHash;console.info("BURY TX HASH",t),localStorage.removeItem(f.toLocaleString()),l(),b()},r(t.burySarcophagus,[f],u.U.TRANSACTION_MINING_IN_PROGRESS,h,"Transaction failed...","Transaction successful",m)}catch(a){4001===(null===a||void 0===a?void 0:a.code)?o.b.error(u.eb):(o.b.error("There was a problem buring sarcophagus"),console.error("There was a problem buring sarcophagus",a))}case 1:case"end":return n.stop()}}),n)})));return function(e,t,r,a,c){return n.apply(this,arguments)}}(),f=function(){var n=Object(c.a)(a.a.mark((function n(c,i,l,d,b,p){var f,h,m,j,g;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{f=c.AssetDoubleHash,h=l.address,m=e.from(s.utils.arrayify(f)),j=function(){i(u.U.TRANSACTION_MINING_IN_PROGRESS),d()},g=function(e){var t=e.transactionHash;console.info("CLEAN TX HASH",t),localStorage.removeItem(m.toLocaleString()),b(),p()},r(t.cleanUpSarcophagus,[m,h],u.U.TRANSACTION_MINING_IN_PROGRESS,j,"Transaction failed...","Transaction successful",g)}catch(a){4001===(null===a||void 0===a?void 0:a.code)?o.b.error(u.eb):(o.b.error("There was a problem cleaning sarcophagus"),console.error("There was a problem cleaning sarcophagus",a))}case 1:case"end":return n.stop()}}),n)})));return function(e,t,r,a,c,s){return n.apply(this,arguments)}}();return{createSarcophagus:n,updateSarcophagus:function(n,a,c,i,l){try{var d=e.from(s.utils.arrayify(n.AssetDoubleHash)),b=localStorage.getItem(d.toLocaleString()),p=JSON.parse(b),f=p.NewPublicKey,h=p.AssetDoubleHash,m=p.AssetId,j=p.V,g=p.R,v=p.S;f=e.from(f,"base64");r(t.updateSarcophagus,[f,h,m,j,g,v],u.U.TRANSACTION_MINING_IN_PROGRESS,(function(){a(u.U.TRANSACTION_MINING_IN_PROGRESS),i()}),"Transaction failed...","Transaction successful",(function(e){var t=e.transactionHash;console.info("UPDATE TX HASH",t),c()}))}catch(x){var y;4001===(null===x||void 0===x?void 0:x.code)?o.b.error(u.eb):"execution reverted: public key already used"===(null===x||void 0===x||null===(y=x.error)||void 0===y?void 0:y.message)?(o.b.error("Public key already used"),a(""),l("Public key already used")):(o.b.error("There was a problem updating sarcophagus"),console.error("There was a problem updating sarcophagus",x))}},cancelSarcophagus:function(){var n=Object(c.a)(a.a.mark((function n(c,i,l,d,b){var p,f,h,m;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{p=c.AssetDoubleHash,f=e.from(s.utils.arrayify(p)),h=function(){i(u.U.TRANSACTION_MINING_IN_PROGRESS),l()},m=function(e){var t=e.transactionHash;console.info("CANCEL TX HASH",t),localStorage.removeItem(f.toLocaleString()),d(),b()},r(t.cancelSarcophagus,[f],u.U.TRANSACTION_MINING_IN_PROGRESS,h,"Transaction failed...","Transaction successful",m)}catch(a){4001===(null===a||void 0===a?void 0:a.code)?o.b.error(u.eb):(o.b.error("There was a problem canceling sarcophagus"),console.error("There was a problem canceling sarcophagus",a))}case 1:case"end":return n.stop()}}),n)})));return function(e,t,r,a,c){return n.apply(this,arguments)}}(),cleanSarcophagus:f,burySarcophagus:p,rewrapSarcophagus:function(n,a,c,d,b,p){try{var f=n.AssetDoubleHash,h=a.bounty,m=a.diggingFee,j=a.resurrectionTime,g=a.custom,v=e.from(s.utils.arrayify(f)),y=g?Object(l.b)(j):i.a.from(j/1e3),x=s.utils.parseEther(m.toString()),O=s.utils.parseEther(h.toString());b(u.U.TRANSACTION_MINING_IN_PROGRESS),r(t.rewrapSarcophagus,[v,y,x,O],u.U.TRANSACTION_MINING_IN_PROGRESS,(function(){b(u.U.TRANSACTION_MINING_IN_PROGRESS),d()}),"Transaction failed...","Transaction successful",(function(e){var t=e.transactionHash;console.info("REWRAP TX HASH",t),c(),p()}))}catch(N){var w;if(4001===(null===N||void 0===N?void 0:N.code))o.b.error(u.eb);else if(-32603===(null===N||void 0===N||null===(w=N.error)||void 0===w?void 0:w.code)){var S,T;"execution reverted: revert resurrection time must be in the future"===(null===N||void 0===N||null===(S=N.error)||void 0===S?void 0:S.message)&&o.b.error("Resurrection time must be in the future"),"execution reverted: ERC20: transfer amount exceeds balance"===(null===N||void 0===N||null===(T=N.error)||void 0===T?void 0:T.message)&&o.b.error("Sarco balance too low to execute transaction")}else o.b.error("There was a problem rewrapping sarcophagus"),console.error("There was a problem rewrapping sarcophagus",N)}},accuseArchaeologist:function(){var n=Object(c.a)(a.a.mark((function n(c,i){var l,b,p,f,h,m,j;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{l=c.singleHash,b=c.identifier,p=c.address,f=e.from(s.utils.arrayify(b)),h=e.from(s.utils.arrayify(l)),m=function(){o.b.dark("Checking accusal",{toastId:"accusalPending"})},j=function(e){var t=e.transactionHash;console.info("Accuse TX HASH",t),i(d.a)},r(t.accuseArchaeologist,[f,h,p],"Checking accusal",m,u.b,u.a,j)}catch(a){4001===(null===a||void 0===a?void 0:a.code)?o.b.error(u.eb):console.error("Accused Unsuccessful: ",a)}case 1:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}}}).call(this,r(17).Buffer)},446:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(50),a=r(11),c=r(1),s=r(14),i=function(){var e=Object(c.useState)(!1),t=Object(a.a)(e,2),r=t[0],i=t[1];return{contractCall:Object(c.useCallback)((function(e,t,r,c,o,u,l,d){var b;i(!0),e.apply(void 0,Object(n.a)(t)).then((function(e){return c(),b=s.b.dark(r,{autoClose:!1,closeOnClick:!1,draggable:!1}),Promise.all([e.wait(),b])})).then((function(e){var t=Object(a.a)(e,2),r=t[0],n=t[1];i(!1),s.b.dismiss(n),0===r.status?s.b.error(o):1===r.status?(s.b.success(u),l&&l(r)):s.b.error("Not sure what happened with that transaction"),d&&d()})).catch((function(e){console.error(e),i(!1),s.b.dismiss(b),s.b.error("There was an error! Check your browser's console logs for more details.")}))}),[]),pending:r}}},447:function(e,t,r){"use strict";(function(e){var n=r(2),a=r.n(n),c=r(13),s=r(11),i=r(1),o=r(39),u=r(448),l=r(449),d=r(45),b=r(6),p=r(14);t.a=function(t,r){var n=Object(i.useState)(!1),f=Object(s.a)(n,2),h=f[0],m=f[1],j=Object(i.useState)(b.U.CHECKING_STATUS),g=Object(s.a)(j,2),v=g[0],y=g[1],x=Object(i.useState)(!1),O=Object(s.a)(x,2),w=O[0],S=O[1],T=Object(i.useState)(!1),N=Object(s.a)(T,2),C=N[0],A=N[1];Object(i.useEffect)((function(){w&&y(!1)}),[w]);var k=Object(u.a)(h,t.AssetDoubleHash,y,w,S).sentArchResponse;return Object(l.a)(k||C,y,w,S,t.name),Object(i.useEffect)((function(){(function(){var r=Object(c.a)(a.a.mark((function r(){var n,c,s;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=e.from(o.utils.arrayify(t.AssetDoubleHash)),c=localStorage.getItem(n.toLocaleString()),s=JSON.parse(c),!Object(d.h)(t.resurrectionTime,t.resurrectionWindow)){r.next=6;break}return y(b.U.WINDOW_CLOSED),r.abrupt("return");case 6:if(c){r.next=19;break}if(2!==(null===t||void 0===t?void 0:t.state)){r.next=10;break}return console.error("Should never see this"),r.abrupt("return");case 10:if(!(null===t||void 0===t?void 0:t.assetId)||"0x0000000000000000000000000000000000000000000000000000000000000000"!==(null===t||void 0===t?void 0:t.privateKey)){r.next=16;break}return S(!1),y(b.U.ACTIVE),r.abrupt("return");case 16:S("There was an unknown error");case 17:r.next=31;break;case 19:if((null===t||void 0===t?void 0:t.assetId)&&"0x0000000000000000000000000000000000000000000000000000000000000000"===(null===t||void 0===t?void 0:t.privateKey)&&localStorage.removeItem(n.toLocaleString()),(null===s||void 0===s?void 0:s.action)!==b.c.SARCOPHAGUS_ARWEAVE_FILE_ACCEPTED){r.next=25;break}return A(s),r.abrupt("return");case 25:if("delete"!==(null===s||void 0===s?void 0:s.action)){r.next=29;break}S(s.error),r.next=31;break;case 29:return m(s),r.abrupt("return");case 31:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}})()()}),[t,r]),Object(i.useEffect)((function(){if(v!==b.U.ARWEAVE_PENDING){if(v!==b.U.SARCOPHAGUS_AWAIT_SIGN)return w?(p.b.dismiss("fileMining"),void console.log("Status Error",w)):void(v!==b.U.UNWRAPPING||setTimeout((function(){r()}),5e3));p.b.dismiss("fileMining")}else p.b.dark(b.u,{toastId:"fileMining",autoClose:!1})}),[v,w,r]),{currentStatus:v,setCurrentStatus:y,error:w,setError:S}}}).call(this,r(17).Buffer)},448:function(e,t,r){"use strict";(function(e){var n=r(2),a=r.n(n),c=r(13),s=r(11),i=r(39),o=r(1),u=r(14),l=r(6);t.a=function(t,r,n,d,b){var p=Object(o.useState)(!1),f=Object(s.a)(p,2),h=f[0],m=f[1],j=Object(o.useState)(!1),g=Object(s.a)(j,2),v=g[0],y=g[1],x=Object(o.useCallback)(function(){var e=Object(c.a)(a.a.mark((function e(t,r,n){var c,s,i,o,u,d;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=r+"/file",s=new Uint8Array(t.data),e.next=5,btoa([].reduce.call(s,(function(e,t){return e+String.fromCharCode(t)}),""));case 5:return i=e.sent,o={method:"POST",body:JSON.stringify({fileBytes:i})},e.next=9,fetch(c,o);case 9:if((u=e.sent).ok){e.next=16;break}if(406!==u.status){e.next=13;break}return e.abrupt("return",{error:"try again"});case 13:return console.error("ResponseFromArch:",u),n(l.r.ARCH_FILE_HANDLING_FAILED),e.abrupt("return",{error:u});case 16:return e.next=18,u.json();case 18:return d=e.sent,e.abrupt("return",d);case 22:return e.prev=22,e.t0=e.catch(0),console.error("Send Error",e.t0),n(l.r.ARCH_CONNECTION_FAILED),e.abrupt("return",{error:l.r.ARCH_CONNECTION_FAILED});case 27:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(t,r,n){return e.apply(this,arguments)}}(),[]),O=Object(o.useCallback)(Object(c.a)(a.a.mark((function s(){var o,d,p,f,h,j;return a.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(o=e.from(i.utils.arrayify(r)),n(l.U.ARWEAVE_STARTED),!v){s.next=4;break}return s.abrupt("return");case 4:if(y(!0),d=1,s.prev=6,p=t.doubleEncryptedFile,f=t.endpoint,h=t.txReceipt,t.action!==l.c.SARCOPHAGUS_ARWEAVE_FILE_ACCEPTED){s.next=10;break}return s.abrupt("return");case 10:j=setInterval(Object(c.a)(a.a.mark((function e(){var t,r,c,s,i,g,v,y,O;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(p,f,b);case 2:if(!(null===(t=e.sent)||void 0===t?void 0:t.error)){e.next=25;break}if("try again"!==(null===t||void 0===t?void 0:t.error)){e.next=18;break}if(1!==d){e.next=11;break}return u.b.dark("Sending file failed, trying again",{autoClose:1500}),d=0,e.abrupt("return");case 11:n(""),u.b.dark("File send unsuccessful"),b("File send unsuccessful"),localStorage.setItem(o.toLocaleString(),JSON.stringify({action:"delete",error:"File send unsuccessful"})),clearInterval(j);case 16:e.next=23;break;case 18:return n(""),u.b.dark("File send unsuccessful"),localStorage.setItem(o.toLocaleString(),JSON.stringify({action:"delete",error:"File send unsuccessful"})),clearInterval(j),e.abrupt("return");case 23:e.next=39;break;case 25:return e.next=27,t;case 27:r=e.sent,c=r.NewPublicKey,s=r.AssetDoubleHash,i=r.AssetId,g=r.V,v=r.R,y=r.S,O={action:l.c.SARCOPHAGUS_ARWEAVE_FILE_ACCEPTED,NewPublicKey:c,AssetDoubleHash:s,V:g,R:v,S:y,AssetId:i,doubleEncryptedFile:p,txReceipt:h},localStorage.setItem(s,JSON.stringify(O)),m(O),n(l.U.ARWEAVE_PENDING),clearInterval(j);case 39:case"end":return e.stop()}}),e)}))),5e3),s.next=17;break;case 13:s.prev=13,s.t0=s.catch(6),b(l.r.ARWEAVE_TRANSACTION_FAILED),console.error(s.t0);case 17:case"end":return s.stop()}}),s,null,[[6,13]])}))),[t,r,x,m,n,b,v]);return Object(o.useEffect)((function(){"sending file"===t.action&&(d||O())}),[O,d,t.action]),{sentArchResponse:h}}}).call(this,r(17).Buffer)},449:function(e,t,r){"use strict";var n=r(2),a=r.n(n),c=r(13),s=r(11),i=r(1),o=r(6),u=r(135);t.a=function(e,t,r,n,l){var d=Object(i.useState)(!1),b=Object(s.a)(d,2),p=b[0],f=b[1],h=Object(i.useCallback)(Object(c.a)(a.a.mark((function r(){var s,i,d,b,h;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!p){r.next=2;break}return r.abrupt("return");case 2:return f(!0),s=2,r.prev=4,d=Object(u.b)(),b=e.AssetId,h=e.doubleEncryptedFile,r.next=9,Object(u.a)(d,b,h);case 9:if(r.sent){r.next=13;break}return n(o.r.ARWEAVE_FILE_ERROR),r.abrupt("return");case 13:return r.next=15,d.api.get("tx/".concat(b));case 15:if(200!==r.sent.status){r.next=19;break}return t(o.U.SARCOPHAGUS_AWAIT_SIGN),r.abrupt("return");case 19:t(o.U.ARWEAVE_PENDING),i=setInterval(Object(c.a)(a.a.mark((function e(){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.api.get("tx/".concat(b));case 2:r=e.sent,e.t0=r.status,e.next=202===e.t0?6:200===e.t0?8:11;break;case 6:return console.log("".concat(l,": still mining")),e.abrupt("break",14);case 8:return t(o.U.SARCOPHAGUS_AWAIT_SIGN),clearInterval(i),e.abrupt("break",14);case 11:return s>0?s-=1:(n(o.r.ARWEAVE_TRANSACTION_FAILED),clearInterval(i)),console.log("Response status: ",r.status),e.abrupt("break",14);case 14:case"end":return e.stop()}}),e)}))),1e3*o.C),r.next=26;break;case 23:r.prev=23,r.t0=r.catch(4),s>0?s-=1:(clearInterval(i),n(o.r.ARWEAVE_TRANSACTION_FAILED));case 26:case"end":return r.stop()}}),r,null,[[4,23]])}))),[e,t,n,l,p]);Object(i.useEffect)((function(){(null===e||void 0===e?void 0:e.AssetId)&&(r||h())}),[h,e,r])}},45:function(e,t,r){"use strict";r.d(t,"g",(function(){return s})),r.d(t,"e",(function(){return i})),r.d(t,"d",(function(){return u})),r.d(t,"f",(function(){return l})),r.d(t,"c",(function(){return o})),r.d(t,"h",(function(){return d})),r.d(t,"b",(function(){return p})),r.d(t,"a",(function(){return c}));var n=r(37),a=r(34),c=function(e){return Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds())},s=function(e){var t=new Date;return t.setDate(t.getDate()+e),c(t)},i=function(e){var t=1e3*Object(n.f)(e,0).value(),r=new Date(t),a=r.getTimezoneOffset();return r.setMinutes(r.getMinutes()+a),"".concat(r.toLocaleDateString()," ").concat(r.toLocaleTimeString())},o=function(e){if(!e)return"00/00/0000 0:00:00 AM";var t=new Date(e);return"".concat(t.toLocaleDateString(),"  ").concat(t.toLocaleTimeString())},u=function(e){return new Date(e)},l=function(e){var t=e-Date.parse(new Date),r=Math.floor(t/1e3%60),n=Math.floor(t/1e3/60%60),a=Math.floor(t/36e5%24),c=Math.floor(t/864e5);return"".concat(c," days ").concat(b(a),":").concat(b(n),":").concat(b(r))},d=function(e,t){var r=1e3*Object(n.f)(e,0).value(),a=1e3*Object(n.f)(t,0).value();return Math.sign(r+a-Date.now().valueOf()<=0)},b=function(e){return e<10?"0".concat(e):e},p=function(e){var t=new Date(e),r=c(t);return a.a.from(r/1e3)}},451:function(e,t,r){"use strict";(function(e){var n=r(2),a=r.n(n),c=r(13),s=r(133),i=r(86),o=(r(1),r(14)),u=r(135),l=r(134),d=r(66),b=r(452),p=r(194),f=r(195),h=r(0),m=function(e){var t;return"0x"!==(null===e||void 0===e?void 0:e.substr(0,2))&&(t="0x"+e),t||e};t.a=function(t){var r=t.sarcophagus,n=t.recipientPrivateKey,j=function(){var t=Object(c.a)(a.a.mark((function t(c){var i,d,b,p,f,h,j,g,v,y,x,O;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=m(n||c.recipientPrivateKey),d=r.privateKey,b=Object(u.b)(),t.next=6,b.transactions.getData(r.assetId,{decode:!0});case 6:return p=t.sent,t.next=9,Object(u.a)(b,r.assetId,{data:p});case 9:if(t.sent){t.next=12;break}return t.abrupt("return");case 12:return t.next=14,Object(s.decrypt)(Object(l.a)(d,!0).slice(1),p).catch((function(e){return console.error("Outer",e)}));case 14:return f=t.sent,t.next=17,Object(s.decrypt)(Object(l.a)(i,!0).slice(1),f).catch((function(e){return console.error("Inner:",e)}));case 17:h=t.sent,j=JSON.parse(h),g=j.type,v=j.data,y=new Blob([e.from(Object.values(v))],{type:g}),x=window.URL.createObjectURL(y),o.b.dark("Downloading file"),(O=document.createElement("a")).style.display="none",O.href=x,O.download=r.name,document.body.appendChild(O),O.click(),window.URL.revokeObjectURL(x),t.next=36;break;case 32:t.prev=32,t.t0=t.catch(0),console.error("There was an error downloading file:",t.t0),o.b.dark("There was an error downloading file");case 36:case"end":return t.stop()}}),t,null,[[0,32]])})));return function(e){return t.apply(this,arguments)}}();return Object(h.jsx)(i.a,{initialValues:b.a,validationSchema:Object(f.a)(!!n),onSubmit:function(e){return j(e)},children:function(e){var t=e.values,r=e.errors,a=e.touched,c=e.handleChange,s=e.handleSubmit;return Object(h.jsxs)("form",{onSubmit:s,className:"px-2",children:[!n&&Object(h.jsx)(p.a,{values:t,errors:r,touched:a,handleChange:c}),Object(h.jsx)(d.a,{_classnames:"mx-auto w-full mb-4",type:"submit",label:"Resurrect File"})]})}})}}).call(this,r(17).Buffer)},452:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n={recipientPrivateKey:""}},453:function(e){e.exports=JSON.parse('{"name":"sarco-webapp","version":"0.1.0","private":true,"dependencies":{"@craco/craco":"^6.1.1","@testing-library/jest-dom":"^5.11.9","@testing-library/react":"^11.2.5","@testing-library/user-event":"^12.8.1","@tippyjs/react":"^4.2.3","@walletconnect/web3-provider":"^1.3.6","arweave":"^1.10.11","authereum":"^0.0.1","classnames":"^2.2.6","ecies-geth":"^1.4.1","ethers":"^5.0.31","formik":"^2.2.6","numeral":"^2.0.6","react":"^17.0.1","react-datepicker":"^3.6.0","react-dom":"^17.0.1","react-dropzone":"^11.3.1","react-router-dom":"^5.2.0","react-scripts":"4.0.3","react-toastify":"^7.0.3","web-vitals":"^1.1.0","web3modal":"^1.9.3","yup":"^0.32.9"},"scripts":{"start":"REACT_APP_GIT_HASH=`git rev-parse --short HEAD` craco start","build":"REACT_APP_GIT_HASH=`git rev-parse --short HEAD` craco build","test":"craco test","eject":"react-scripts eject"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"@tailwindcss/postcss7-compat":"^2.0.3","autoprefixer":"^9.8.6","dotenv":"^8.2.0","postcss":"^7.0.35","tailwindcss":"npm:@tailwindcss/postcss7-compat@^2.0.3","truffle":"^5.1.65"},"homepage":"https://app.sarcophagus.io"}')},466:function(e,t,r){},469:function(e,t){},48:function(e,t,r){"use strict";var n=r(87),a=r.p+"static/media/question.d848fe1b.svg",c=r(0);t.a=function(e){var t=e.content;return Object(c.jsx)(n.a,{content:t,className:"border-2 border-white rounded text-center text-xs font-normal p-2 bg-gray-900",children:Object(c.jsx)("img",{src:a,alt:"tooltip"})})}},49:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o}));var n,a=r(1),c=r(107),s=r(0);var i=function(){(n=Object(a.createContext)()).displayName="Web3 Provider";var e=n.Provider;return function(t){var r=t.children,n=Object(c.b)();return Object(s.jsx)(e,{value:n,children:r})}}();function o(){return Object(a.useContext)(n)}},56:function(e,t,r){"use strict";r(1);var n=r(27),a=r.n(n),c=r(0);t.a=function(e){var t=e.extraPadding,r=e.children;return Object(c.jsx)("div",{className:a()(t,"text-xs text-red"),children:r})}},585:function(e,t){},586:function(e,t){},6:function(e,t,r){"use strict";r.d(t,"c",(function(){return c})),r.d(t,"o",(function(){return s})),r.d(t,"hb",(function(){return i})),r.d(t,"fb",(function(){return o})),r.d(t,"gb",(function(){return u})),r.d(t,"C",(function(){return l})),r.d(t,"ab",(function(){return d})),r.d(t,"U",(function(){return b})),r.d(t,"K",(function(){return p})),r.d(t,"f",(function(){return f})),r.d(t,"r",(function(){return h})),r.d(t,"l",(function(){return m})),r.d(t,"P",(function(){return j})),r.d(t,"Q",(function(){return g})),r.d(t,"u",(function(){return v})),r.d(t,"eb",(function(){return y})),r.d(t,"a",(function(){return x})),r.d(t,"b",(function(){return O})),r.d(t,"m",(function(){return w})),r.d(t,"n",(function(){return S})),r.d(t,"D",(function(){return T})),r.d(t,"E",(function(){return N})),r.d(t,"I",(function(){return C})),r.d(t,"H",(function(){return A})),r.d(t,"J",(function(){return k})),r.d(t,"v",(function(){return E})),r.d(t,"w",(function(){return I})),r.d(t,"O",(function(){return P})),r.d(t,"L",(function(){return R})),r.d(t,"M",(function(){return D})),r.d(t,"N",(function(){return _})),r.d(t,"G",(function(){return F})),r.d(t,"s",(function(){return H})),r.d(t,"h",(function(){return U})),r.d(t,"q",(function(){return M})),r.d(t,"V",(function(){return G})),r.d(t,"Y",(function(){return K})),r.d(t,"X",(function(){return B})),r.d(t,"W",(function(){return W})),r.d(t,"Z",(function(){return L})),r.d(t,"t",(function(){return V})),r.d(t,"g",(function(){return q})),r.d(t,"p",(function(){return J})),r.d(t,"j",(function(){return z})),r.d(t,"k",(function(){return Z})),r.d(t,"i",(function(){return X})),r.d(t,"cb",(function(){return Y})),r.d(t,"db",(function(){return Q})),r.d(t,"bb",(function(){return $})),r.d(t,"x",(function(){return ee})),r.d(t,"y",(function(){return te})),r.d(t,"S",(function(){return re})),r.d(t,"T",(function(){return ne})),r.d(t,"R",(function(){return ae})),r.d(t,"F",(function(){return ce})),r.d(t,"e",(function(){return se})),r.d(t,"d",(function(){return ie})),r.d(t,"A",(function(){return oe})),r.d(t,"B",(function(){return ue})),r.d(t,"z",(function(){return le}));var n=r(68),a=r(45),c={SARCOPHAGUS_CREATED:"Created",SARCOPHAGUS_ARWEAVE_FILE_ACCEPTED:"File accepted",TRANSACTION_MINING_IN_PROGRESS:"Mining in progress"},s="text-gray-400",i=(Object(n.a)(365,!0),Object(n.a)(23),Object(n.a)(59),Object(a.g)(7)),o=Object(a.g)(30),u=Object(a.g)(90),l=5,d="0 days 00:00:00",b={SARCOPHAGUS_SUCCESS:"Sarcophagus has been mined!",ARWEAVE_STARTED:"File is being uploaded",ARWEAVE_PENDING:"File is being mined on arweave",SARCOPHAGUS_AWAIT_SIGN:"Signing needed",CHECKING_STATUS:"Checking status...",ACTIVE:"Sarcophagus is Active",WINDOW_CLOSED:"Resurrection Window is past",TRANSACTION_MINING_IN_PROGRESS:"Mining in progress",UNWRAPPING:"UnWrapping in progress"},p={CREATED:"Sarcophagus creation in progress, resurrection unavailable",ACTIVE:"Sarcophagus Active",UNWRAPPED:"Sarcophagus unwrapped, resurrection available"},f={DEFAULT:"Checking status",CANCELED:"Sarcophagus cancelled",ACCUSED:"Sarcophagus accused",CLEANED:"Sarcophagus cleaned",UNWRAPPED:"Sarcophagus unwrapped",BURIED:"Sarcophagus buried"},h={BLOCKCHAIN_SERVER:"There was an error connecting to blockchain",ARCH_CONNECTION_FAILED:"There was a problem connecting to archaeologist",ARWEAVE_TRANSACTION_FAILED:"There was a transaction error",ARWEAVE_FILE_ERROR:"There was an error validating the arweave file",ARCH_FILE_HANDLING_FAILED:"The archaeologist had a problem handling file"},m="There was an error comunicating with contract",j="Loading sarcophagi...",g="Creating Sarcophagus",v="File is being mined, please wait to update sarcophagus",y="Transaction Rejected",x="The accusal was successful",O="The accusal was unsuccessful",w="Use this page to create a sarcophagus, this process is called \u201cembalming\u201d. You will need to name your sarcophagus, paste in the full public key of the recipient, and upload the file you wish to embalm.",S="Create a Sarcophagus",T="Name Sarcophagus and add your recipient",N="Enter a name for your sarcophagus, this will be public on the blockchain.",C="Paste your recipient\u2019s full Ethereum public key here, this is not the same as a public address. You can visit",A="Get Public Key",k="to get your full public key. The recipient will need to input the private key of their Ethereum public key when resurrecting the Sarcophagus. The recipient may generate a fresh Ethereum public key if concerned with private key exposure",E="Upload your file to your sarcophagus",I="Upload the file that you wish to embalm. This file will be downloaded after resurrection exactly as is. Current alpha max file size: 2.5mb",P="Set resurrection time",R="The resurrection time is the exact time and date that the outer layer of your sarcophagus will be decrypted by the Archaeologist.",D="If you fail to re-wrap before this time; only the inner layer of the sarcophagus controlled by the recipient is protecting the data.",_="The further the resurrection date is into the future, the more it will cost to create your sarcophagus.",F="Pick an Archaeologist",H="Archaeologists are sorted by their mininum fees. When an archaeologist is selected, the mininum fees will be set to these fields. To increase fees offered to an archaeologist, enter new fees after selecting an archaeologist",U="Max Bounty. Paid to the Archaeologist for a successful resurrection (keep default unless adv user)",M="Max Digging Fees. Paid to the archaeologist after re-wrap (keep default unless adv user)",G="Archaeologists",K="Fee",B="Digging Fee",W="Bounty",L="Metrics",V="Total fee in $SARCO to create this sarcophagus.",q="This Archaeologists minimum bounty requirement.",J="This Archaeologists minimum digging fee for your resurrection date/time.",z="Canceling a sarcophagus, transfers the bounty and storage fee back, transfers the digging fee to the archaeologist, and archives sarcophagus.",Z="Cleaning a sarcophagus, rewards embalmer with the cursed bond, and refunds the rest of the payment (bounty and digging fees) back to embalmer and archives sarcophagus.",X="Burying a sarcophagus, releases digging fees to archaeologist and archives sarcophagus.",Y="Your tomb is where you manage your sarcophagi. You will be able to see the ones you have created or received, as well as any canceled, buried, or errored out sarcophagi.",Q="For more information on the alert statuses and different states for your sarcophagi, please visit our documentation:",$="https://github.com/sarcophagus-org/sarcophagus-app/blob/develop/README.md",ee="Ad aliqua proident adipisicing id cillum nisi cupidatat incididunt duis. Cupidatat occaecat aliquip deserunt mollit labore et occaecat ipsum veniam voluptate aliqua tempor. Deserunt esse dolore occaecat ipsum nulla nisi proident esse ipsum. Sint veniam magna pariatur amet ea ut reprehenderit velit eu magna ut cillum aute.",te="In deserunt sit proident eu incididunt quis veniam. Nisi nisi irure mollit aute nisi incididunt velit qui qui ex amet est. Veniam fugiat fugiat aute magna tempor velit officia nulla est eiusmod. Et incididunt eu anim in adipisicing nisi dolor.",re="Single Hash",ne="The sarcophagus payload (file bytes) with the outer layer decrypted, hashed once",ae="0x0000000000000000000000000000000000000000000000000000000000000000",ce="Archaeologist Address",se="Address of the Archaeologist you are accusing",ie="0x0000000000000000000000000000000000000000",oe="Sarcophagus Identifier",ue="The sarcophagus payload (file bytes) encrypted and hashed twice",le="0x0000000000000000000000000000000000000000000000000000000000000000"},647:function(e,t){},649:function(e,t){},65:function(e,t,r){"use strict";var n=r(15),a=r(32),c=(r(1),r(27)),s=r.n(c),i=r(0),o={sm:"1.25rem",md:"1.88rem",lg:"2.625rem",xl:"6.75rem",accuse:"4rem"},u="w-full pl-4 text-md bg-black font-normal text-white border remove-input-steps focus:outline-none",l="border border-red",d=function(e){var t=e.type,r=e.height,c=void 0===r?"md":r,d=e._classnames,b=e.iPlaceholder,p=void 0===b?"":b,f=(e.error,e.errored),h=Object(a.a)(e,["type","height","_classnames","iPlaceholder","error","errored"]);return Object(i.jsx)("input",Object(n.a)({type:t,className:f?s()(u,p,l,d):s()(u,"border border-gray-500",p,d),style:{height:o[c],lineHeight:"1.4357rem"}},h))},b="w-full p-2 bg-black text-white text-md focus:outline-none border border-gray-500",p=function(e){var t=e.type,r=e.height,c=void 0===r?"md":r,u=(e.error,e.errored),d=e._classnames,p=Object(a.a)(e,["type","height","error","errored","_classnames"]);return Object(i.jsx)("textarea",Object(n.a)({type:t,className:u?s()(b,l,d):s()(b,d),style:{height:o[c],lineHeight:"1.4357rem"}},p))},f=function(e){var t=e.type,r=e.value,c=e.children,s=Object(a.a)(e,["type","value","children"]);return Object(i.jsxs)("div",{className:"text-sm",style:{lineHeight:"2.125rem"},children:[Object(i.jsx)("input",Object(n.a)({id:r,type:t},s)),Object(i.jsx)("label",{htmlFor:r,children:c})]})};t.a=function(e){var t=e.type,r=void 0===t?"text":t,c=Object(a.a)(e,["type"]);return"text"===r||"number"===r?Object(i.jsx)(d,Object(n.a)({type:r},c)):"textarea"===r?Object(i.jsx)(p,Object(n.a)({type:r},c)):"radio"===r?Object(i.jsx)(f,Object(n.a)({type:r},c)):Object(i.jsx)(i.Fragment,{})}},66:function(e,t,r){"use strict";var n=r(15),a=r(32),c=(r(1),r(27)),s=r.n(c),i=r(0),o={sm:"1.25rem",md:"2.625rem",lg:"2.65rem"},u="1.625rem",l={default:"12.75rem"},d="text-md font-medium flex justify-center items-center focus:outline-none",b="text-gray-400 border border-500 cursor-default";t.a=function(e){var t=e.label,r=e.isDisabled,c=void 0!==r&&r,p=e._classnames,f=e.errors,h=e.height,m=void 0===h?"md":h,j=e.width,g=void 0===j?"default":j,v=Object(a.a)(e,["label","isDisabled","_classnames","errors","height","width"]);return Object(i.jsx)("button",Object(n.a)(Object(n.a)({disabled:c,className:c?s()(d,b,p):f?s()(d,b,"",p):s()(d,"text-white border border-white",p),style:{height:o[m],width:l[g],lineHeight:u}},v),{},{children:t}))}},660:function(e,t){},662:function(e,t){},68:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return a}));var n=function(e,t,r,n){if(e.length<=t)return e;var a=t-(r=r||"...").length,c=Math.ceil(n||a/2+1),s=Math.floor(a/2-1);return e.substr(0,c)+r+e.substr(e.length-s)},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=Array.from({length:e+1},(function(e,t){return 0===t?0:t}));t&&r.shift();var n={};return r.forEach((function(e){return n["number_".concat(e)]=e})),n}},692:function(e,t){},693:function(e,t){},750:function(e,t){},752:function(e,t){},968:function(e,t,r){"use strict";r.r(t);var n,a,c,s=r(1),i=r.n(s),o=r(93),u=r.n(o),l=(r(466),r(63)),d=r(52),b=r(11),p=r(86),f=r(6),h=r(15),m=r(32),j=r(27),g=r.n(j),v=r(0),y="py-12 pr-2 relative border-b border-gray-500",x=function(e){var t=e.transition,r=void 0===t||t,n=e.addClass,a=e.children,c=Object(m.a)(e,["transition","addClass","children"]);return Object(v.jsx)("div",Object(h.a)(Object(h.a)({className:r?g()(y,"ease-in-transition",n):g()(y,n)},c),{},{children:a}))},O=r(31),w=r.p+"static/media/sarcophagus.305a5839.svg",S=function(){return Object(v.jsxs)(x,{transition:!1,children:[Object(v.jsx)(O.a,{type:"main",title:f.n,icon:w}),Object(v.jsx)("div",{className:"text-md font-normal",children:f.m})]})},T={recipientPublicKey:"",name:"",resurrectionTime:"",bounty:100,diggingFee:10,custom:!1,customTime:"",fileUploaded:!1,address:"",daysDisplayed:0},N=r(39),C=r(41),A=C.d().shape({recipientPublicKey:C.e().test("required","Recipient Address is required",(function(e){return!!e})).test("validDataHextString","Please enter a valid public key",(function(e){var t,r;return"0x04"!==(null===e||void 0===e||null===(t=e.substr)||void 0===t?void 0:t.call(e,0,4))&&(r="0x04"+e),N.utils.isHexString(r||e,65)})),name:C.e().required("Name is required"),resurrectionTime:C.c().required("Resurrection time is required"),bounty:C.c().required("Bounty is required"),diggingFee:C.c().required("Digging Fee is required"),customTime:C.c().when("custom",{is:!0,then:C.c().required("Resurrection time is required")}),custom:C.a(),fileUploaded:C.b().test("required","Please upload a file",(function(e){return!!e})).test("filesize","Files must not be larger than 2.9MB",(function(e){return!e||e.size<=2999800})),address:C.e().required("Please select an archaeologist")}).nullable(),k=r(34),E=r(433),I=r(45),P=function(e){var t=Object(s.useState)(!1),r=Object(b.a)(t,2),n=r[0],a=r[1],c=Object(E.a)(),i=c.file,o=c.setFile,u=c.setRecipientPublicKey,l=c.setArchaeologistAddress,d=c.doubleEncryptedFile,p=c.assetDoubleHash,f=Object(s.useState)(!1),h=Object(b.a)(f,2),m=h[0],j=h[1];return{file:i,setFile:o,handleArchaeologistSelect:function(e,t){a(t),j(e),l(null===e||void 0===e?void 0:e.currentPublicKey)},selectedArchaeologist:m,handleEmbalming:function(t,r,a){try{var c,s=t.bounty,i=t.diggingFee,o=t.recipientPublicKey,u=t.resurrectionTime,l=t.name,b=t.custom?Object(I.b)(u):k.a.from(u/1e3),f=N.utils.parseEther(i.toString()),h=N.utils.parseEther(s.toString());"0x04"!==o.substr(0,4)&&(c="0x04"+o);var j=N.utils.arrayify(c||o).slice(1);e(l,m,b,n,f,h,p,j,d,r,a)}catch(g){console.error(g)}},setRecipientPublicKey:u,handleKey:function(e){u(e)}}},R=r(66),D=r(2),_=r.n(D),F=r(13),H=r(14),U=r(153),M=r(49),G=r(119),K=r(436),B=r(437),W=function(){var e=Object(M.b)(),t=e.chainId,r=e.signerOrProvider,n=Object(G.b)(t),a=Object(s.useState)(),c=Object(b.a)(a,2),i=c[0],o=c[1];return Object(s.useEffect)((function(){if(t&&n&&r)try{var e=new U.a(n.sarcophagus,K,r);o(e)}catch(a){console.error("sarco contract error",a)}}),[t,r,n]),i},L=function(){(n=Object(s.createContext)()).displayName="Data Provider";var e=n.Provider;return function(t){var r=t.children,n=W(),a=function(e){var t=Object(M.b)().signerOrProvider,r=Object(s.useState)(),n=Object(b.a)(r,2),a=n[0],c=n[1];return Object(s.useEffect)((function(){e&&t&&e.sarcoToken().then((function(e){try{var r=new U.a(e,B,t);c(r)}catch(n){console.error("sarco token contract error",n)}})).catch(console.error)}),[e,t]),a}(n),c=function(){var e=Object(s.useState)(0),t=Object(b.a)(e,2),r=t[0],n=t[1],a=Object(M.b)().provider;return Object(s.useEffect)((function(){if(a){a.getBlockNumber().then((function(e){n(e)})).catch(console.error);var e=function(e){n(e)};return a.on("block",e),function(){a.removeListener("block",e)}}}),[a]),r}().currentBlock,i=function(e,t){var r=Object(M.b)().account,n=Object(s.useState)(k.a.from(0)),a=Object(b.a)(n,2),c=a[0],i=a[1];return Object(s.useEffect)((function(){r&&e&&t&&t.allowance(r,null===e||void 0===e?void 0:e.address).then((function(e){i(e)})).catch((function(e){return console.error(e)}))}),[r,e,t]),c}(n,a),o=function(e,t){var r=Object(M.b)().account,n=Object(s.useState)(k.a.from(0)),a=Object(b.a)(n,2),c=a[0],i=a[1];return Object(s.useEffect)((function(){r&&e&&e.balanceOf(r).then((function(e){i(e)})).catch(console.error)}),[r,e,t]),c}(a,c),u={sarcophagusContract:n,sarcophagusTokenContract:a,allowance:i,balance:o};return Object(v.jsx)(e,{value:u,children:r})}}(),V=function(){return Object(s.useContext)(n)},q=function(){var e=V(),t=e.allowance,r=e.balance,n=e.sarcophagusContract,a=e.sarcophagusTokenContract,c=Object(s.useState)(!1),i=Object(b.a)(c,2),o=i[0],u=i[1],l=Object(s.useCallback)(Object(F.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.approve(null===n||void 0===n?void 0:n.address,k.a.from(2).pow(k.a.from(256)).sub(k.a.from(1))).then((function(e){return t=H.b.info("Approving SARCO...",{autoClose:!1,closeOnClick:!1,draggable:!1}),Promise.all([e.wait(),t])})).then((function(e){var t=Object(b.a)(e,2),r=t[0],n=t[1];H.b.dismiss(n),0===r.status?H.b.error("SARCO approval failed!"):1===r.status?(H.b.success("SARCO approval made!"),console.info("Approval TX HASH",r.transactionHash),u(!0)):H.b.error("Not sure what happened with that transaction")})).catch((function(e){console.error(e),H.b.dismiss(t),H.b.error("There was an error! Check your browser's console logs for more details.")}));case 1:case"end":return e.stop()}}),e)}))),[null===n||void 0===n?void 0:n.address,a]);return Object(s.useEffect)((function(){t.lt(r)?u(!1):u(!0)}),[l,r,t]),{approved:o,approveTransaction:l}},J=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=Object(s.useState)(e),n=Object(b.a)(r,2),a=n[0],c=n[1],i=Object(s.useState)(t),o=Object(b.a)(i,2),u=o[0],l=o[1],d=function(){u&&c((function(e){return!e}))},p=function(){a&&!u&&(c(!1),l(!0))};return{collapsed:a,toggle:d,open:p}},z=r(56),Z=function(e){var t=e.children,r=e.margin,n=void 0===r?"mt-8":r,a=Object(m.a)(e,["children","margin"]);return Object(v.jsx)("div",Object(h.a)(Object(h.a)({className:"text-gray-400 text-2xs ".concat(n)},a),{},{children:t}))},X=r(65),Y=function(e){var t=e.children;return Object(v.jsx)("div",{className:"md:grid md:grid-cols-2 mt-8 md:gap-6",children:t})},Q=r.p+"static/media/arrowDown.7f49e23e.svg",$=function(e){var t=e.values,r=e.errors,n=e.touched,a=e.handleChange,c=e.handleKey,s=e.title,i=e.icon,o=e.toggle;return Object(v.jsxs)(x,{children:[Object(v.jsxs)("div",{className:"flex justify-between cursor-pointer",onClick:o,children:[Object(v.jsx)(O.a,{type:"subOne",title:s,icon:i}),Object(v.jsx)("img",{alt:"",src:Q})]}),Object(v.jsxs)(Y,{children:[Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"flex items-center mb-2",children:[Object(v.jsx)(O.a,{type:"subTwo",title:"Title"}),r.name&&n.name&&Object(v.jsx)(z.a,{children:r.name})]}),Object(v.jsx)(X.a,{type:"text",height:"lg",placeholder:"",errored:r.name&&n.name,error:r.name,name:"name",value:t.name,onChange:a,maxLength:256})]}),Object(v.jsx)(Z,{style:{marginTop:"1.75rem"},children:f.E})]}),Object(v.jsxs)(Y,{children:[Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"flex items-center mb-2",children:[Object(v.jsx)(O.a,{type:"subTwo",title:"Recipient"}),r.recipientPublicKey&&n.recipientPublicKey&&Object(v.jsx)(z.a,{children:r.recipientPublicKey})]}),Object(v.jsx)(X.a,{name:"recipientPublicKey",value:t.recipientPublicKey,errored:r.recipientPublicKey&&n.recipientPublicKey,error:r.recipientPublicKey,onChange:function(e){a(e),c(e.target.value)},type:"textarea",height:"xl",placeholder:"0x0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"})]}),Object(v.jsxs)(Z,{style:{marginTop:"1.75rem"},children:[Object(v.jsx)("div",{className:"border-b border-gray-400 mb-4",style:{width:"fit-content"},children:"Eth public key"}),Object(v.jsxs)("div",{className:"text-gray-400",children:[f.I,Object(v.jsx)(l.b,{className:"cursor-pointer mx-2 text-md underline hover:text-white",to:"/publicKey",children:f.H}),f.J]})]})]})]})},ee=r.p+"static/media/arrowRight.9e2056b3.svg",te=function(e){var t=e.icon,r=e.title,n=e.toggle;return Object(v.jsx)(x,{transition:!1,addClass:"cursor-pointer",onClick:n,children:Object(v.jsxs)("div",{className:"flex justify-between",children:[Object(v.jsx)(O.a,{type:"subOne",title:r,icon:t}),Object(v.jsx)("img",{className:"",alt:"",src:ee})]})})},re=r.p+"static/media/name.b9f8dcfc.svg",ne=function(e){var t=e.values,r=Object(m.a)(e,["values"]),n=J(!1,!0),a=n.collapsed,c=n.toggle;return a?Object(v.jsx)(te,{title:f.D,icon:re,toggle:c}):Object(v.jsx)($,Object(h.a)({values:t,title:f.D,icon:re,toggle:c},r))},ae=r.p+"static/media/bxUpload.30358386.svg",ce=r(455),se=r.p+"static/media/upload.54df37e0.svg",ie="border-2 border-dashed border-gray-500 mb-8",oe="cursor-pointer focus:outline-none",ue="flex flex-col justify-center items-center",le="text-white text-md",de=function(e){var t=e.handleFile,r=(e.checkfileSize,e.file),n=e.errors,a=Object(m.a)(e,["handleFile","checkfileSize","file","errors"]);return Object(v.jsx)(ce.a,{onDrop:function(e){return t(e[0])},children:function(e){var t=e.getRootProps,c=e.getInputProps;return r?Object(v.jsxs)("div",Object(h.a)(Object(h.a)(Object(h.a)({},t()),{},{className:g()(oe,ie,ue,le)},a),{},{children:[Object(v.jsx)("input",Object(h.a)(Object(h.a)({},c()),{},{multiple:!1})),Object(v.jsxs)("div",{className:"flex flex-col justify-around items-center text-white overflow-hidden gap-4",children:[Object(v.jsxs)("span",{children:[r.name," uploaded successfully!"]}),Object(v.jsx)("div",{className:"underline",children:"Upload a different file"})]})]})):Object(v.jsxs)("div",Object(h.a)(Object(h.a)(Object(h.a)({},t()),{},{className:n?g()(oe,"border-2 border-dashed border-red",ue,le):g()(oe,ie,ue,le)},a),{},{children:[Object(v.jsx)("input",Object(h.a)(Object(h.a)({},c()),{},{multiple:!1})),Object(v.jsx)("img",{src:se,alt:"",className:"mb-2"}),Object(v.jsx)("span",{children:"Drag and drop"}),Object(v.jsx)("span",{children:"or"}),Object(v.jsx)("span",{className:"border-b",children:"browse files"})]}))}})},be=function(e){var t=e.handleFile,r=e.file,n=e.setFieldValue,a=e.errors,c=e.touched,i=e.icon,o=e.toggle,u=e.title;return Object(s.useEffect)((function(){r&&n("fileUploaded",r)}),[r,n]),Object(v.jsxs)(x,{children:[Object(v.jsxs)("div",{className:"flex justify-between",children:[Object(v.jsx)(O.a,{type:"subOne",title:u,icon:i}),Object(v.jsx)("img",{alt:"",src:Q,onClick:o})]}),Object(v.jsxs)("div",{className:"mt-8",children:[Object(v.jsxs)("div",{className:"flex items-center",children:[Object(v.jsx)(O.a,{type:"subTwo",title:"Attach File"}),a.fileUploaded&&c.fileUploaded&&Object(v.jsx)(z.a,{children:a.fileUploaded})]}),Object(v.jsxs)(Y,{children:[Object(v.jsx)(de,{errors:a.fileUploaded&&c.fileUploaded,handleFile:t,style:{height:"10.625rem"},file:r}),Object(v.jsx)(Z,{margin:"-mt-1",children:f.w})]})]})]})},pe=function(e){var t=e.values,r=e.errors,n=Object(m.a)(e,["values","errors"]),a=J(),c=a.collapsed,i=a.toggle,o=a.open;return Object(s.useEffect)((function(){t.name&&t.recipientPublicKey&&(r.name||r.recipientPublicKey||o())}),[o,r,t]),c?Object(v.jsx)(te,{title:f.v,icon:ae,toggle:i}):Object(v.jsx)(be,Object(h.a)({values:t,title:f.v,icon:ae,toggle:i,errors:r},n))},fe=r.p+"static/media/clock.f0a78ec3.svg",he=r(439),me=r.n(he),je=i.a.forwardRef((function(e,t){var r=e.value,n=e.onClick;return Object(v.jsx)(v.Fragment,{children:r?Object(v.jsx)("span",{ref:t,onClick:n,className:"w-full border border-gray-500 bg-black flex justify-center items-center focus:outline-none",children:r}):Object(v.jsx)("button",{ref:t,type:"button",onClick:n,className:"w-full border border-gray-500 bg-black flex justify-center items-center focus:outline-none",style:{height:"1.88rem"},children:"Choose Resurrection Time"})})})),ge=function(e){return Object(v.jsx)("div",{className:"date-picker-width ml-2",children:Object(v.jsx)(me.a,Object(h.a)(Object(h.a)({},e),{},{popperClassName:"-mr-10"}))})},ve=function(e){var t=e.values,r=e.setFieldValue,n=t.customTime,a=new Date;return a.setDate((new Date).getDate()+1),Object(v.jsx)(ge,{customInput:Object(v.jsx)(je,{}),selected:n?Object(I.d)(n):a,value:n?Object(I.d)(n):"",title:n?Object(I.d)(n):a,onChange:function(e){r("custom",!0),r("customTime",Object(I.a)(e)),r("resurrectionTime",Object(I.a)(e))},dateFormat:"MM/dd/yyyy hh:mm",minDate:a,showTimeSelect:!0})},ye=function(e){var t=e.errors,r=e.touched,n=e.values,a=e.setFieldValue;return Object(v.jsx)("div",{className:"flex gap-8 mb-8",children:Object(v.jsx)("div",{className:t.resurrectionTime&&r.resurrectionTime?"border border-red pl-8 py-4 w-112":"border border-gray-500 px-8 py-4 w-112",style:{height:"15.25rem"},children:Object(v.jsxs)("div",{className:"flex flex-col justify-around h-full text-gray-400 radio-styles",children:[Object(v.jsx)(O.a,{type:"resurrection",values:n}),Object(v.jsx)(X.a,{type:"radio",name:"timeSelect",onChange:function(){a("timeSelect","week"),a("resurrectionTime",f.hb),a("custom",!1)},checked:"week"===n.timeSelect,value:f.hb,children:"1 week"}),Object(v.jsx)(X.a,{type:"radio",name:"timeSelect",onChange:function(){a("timeSelect","month"),a("resurrectionTime",f.fb),a("custom",!1)},checked:"month"===n.timeSelect,value:f.fb,children:"1 month"}),Object(v.jsx)(X.a,{type:"radio",name:"timeSelect",onChange:function(){a("timeSelect","threeMonth"),a("resurrectionTime",f.gb),a("custom",!1)},checked:"threeMonth"===n.timeSelect,value:f.gb,children:"3 months"}),Object(v.jsx)(X.a,{type:"radio",name:"timeSelect",onChange:function(){return null},onClick:function(){a("timeSelect","custom"),a("resurrectionTime",n.customTime),a("custom",!0)},checked:"custom"===n.timeSelect,value:Object(I.c)(n.resurrectionTime),custom:"custom",children:Object(v.jsx)(ve,{values:n,setFieldValue:a})})]})})})},xe=function(e){var t=e.values,r=e.errors,n=e.touched,a=e.setFieldValue,c=e.title,s=e.icon,i=e.toggle;return Object(v.jsxs)(x,{children:[Object(v.jsxs)("div",{className:"flex justify-between",children:[Object(v.jsxs)("div",{className:"flex items-center",children:[Object(v.jsx)(O.a,{type:"subOne",title:c,icon:s}),r.resurrectionTime&&n.resurrectionTime&&Object(v.jsx)(z.a,{children:r.resurrectionTime})]}),Object(v.jsx)("img",{alt:"",src:Q,onClick:i})]}),Object(v.jsxs)(Y,{children:[Object(v.jsx)(ye,{errors:r,touched:n,setFieldValue:a,values:t}),Object(v.jsxs)(Z,{margin:"-mt-1",children:[Object(v.jsx)("div",{className:"pb-2",children:f.L}),Object(v.jsx)("div",{className:"pb-2",children:f.M}),Object(v.jsx)("div",{children:f.N})]})]})]})},Oe=function(e){var t=e.values,r=e.errors,n=Object(m.a)(e,["values","errors"]),a=J(),c=a.collapsed,i=a.toggle,o=a.open;return Object(s.useEffect)((function(){t.fileUploaded&&(r.fileUploaded||o())}),[o,r,t]),c?Object(v.jsx)(te,{title:f.O,icon:fe,toggle:i}):Object(v.jsx)(xe,Object(h.a)({values:t,errors:r,title:f.O,icon:fe,toggle:i},n))},we=r.p+"static/media/pickaxe.c916382b.svg",Se=function(e){var t=e.values,r=e.handleChange,n=e.errors,a=e.touched,c=e.margin,s=void 0===c?"my-8":c,i=e.paddingRight,o=void 0===i?"md:mr-8":i,u=e.showInfo,l=void 0===u||u;return Object(v.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 justify-center md:justify-start w-full bg-gray-600 py-8 md:px-8 ".concat(s," border border-gray-500 overflow-x-scroll hide-scrollbar"),children:[Object(v.jsxs)("div",{className:"flex justify-center flex-wrap sm:flex-nowrap gap-8",children:[Object(v.jsxs)("div",{className:"flex flex-col mr-8 ".concat(o," w-27.5"),children:[Object(v.jsxs)("div",{className:"flex flex-col whitespace-nowrap mb-2",children:[Object(v.jsx)(O.a,{type:"subTwo",title:"Bounty \u2739",showToolTip:!0,toolTip:f.h}),n.bounty&&a.bounty&&Object(v.jsx)(z.a,{extraPadding:"",children:n.bounty})]}),Object(v.jsx)(X.a,{type:"number",height:"lg",iPlaceholder:"input-placeholder",errored:n.bounty&&a.bounty,error:n.bounty,placeholder:"100",name:"bounty",value:t.bounty||"",onChange:r})]}),Object(v.jsxs)("div",{className:"flex flex-col w-27.5",children:[Object(v.jsxs)("div",{className:"flex flex-col whitespace-nowrap mb-2",children:[Object(v.jsx)(O.a,{type:"subTwo",title:"Digging Fees \u2739",showToolTip:!0,toolTip:f.q}),n.diggingFee&&a.diggingFee&&Object(v.jsx)(z.a,{extraPadding:"",children:n.diggingFee})]}),Object(v.jsx)(X.a,{type:"number",height:"lg",iPlaceholder:"input-placeholder",errored:n.diggingFee&&a.diggingFee,error:n.diggingFee,placeholder:"10",name:"diggingFee",value:t.diggingFee||"",onChange:r})]})]}),l&&Object(v.jsx)("div",{className:"text-2xs px-8 text-gray-400 order-first md:order-last md:pt-4",children:f.s})]})},Te=r(48),Ne={display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr 1fr",gridTemplateRow:"4.375rem",columnGap:"2rem",rowGap:"2rem",height:"2.375rem",alignItems:"center",width:"50rem"},Ce=function(e){var t=e.length;return Object(v.jsxs)("div",{className:"text-md text-gray-400 mb-4",style:Ne,children:[Object(v.jsx)("div",{className:"ml-6",children:"".concat(f.V," (").concat(t,")")}),Object(v.jsxs)("div",{className:"flex items-center",children:[Object(v.jsx)("span",{className:"mr-2 pl-6",children:f.Y}),Object(v.jsx)(Te.a,{content:f.t})]}),Object(v.jsxs)("div",{className:"flex items-center",children:[Object(v.jsx)("span",{className:"mr-2",children:f.W}),Object(v.jsx)(Te.a,{content:f.g})]}),Object(v.jsxs)("div",{className:"flex items-center -ml-4",children:[Object(v.jsx)("span",{className:"mr-2",children:f.X}),Object(v.jsx)(Te.a,{content:f.p})]}),Object(v.jsx)("div",{className:"",children:f.Z})]})},Ae=function(e){var t=e.page,r=e.totalPages,n=e.handleNextPage,a=e.handlePrevPage,c=e.pageNumbers,s=e.goToPage;return Object(v.jsx)("div",{className:"flex flex-col items-end absolute bottom-0 right-0 -mb-4",children:Object(v.jsxs)("div",{className:"text-md",style:{lineHeight:"1.325rem"},children:[Object(v.jsx)("button",{type:"button",onClick:function(){return a()},className:0===t?"text-gray-500 focus:outline-none cursor-default":"text-white focus:outline-none",children:"<"}),c.map((function(e){return Object(v.jsx)("button",{type:"button",disabled:0===r,onClick:function(){return s(e)},className:t===e?"px-2 text-white focus:outline-none text-lg font-bold cursor-default":"px-2 text-white focus:outline-none",children:e+1},e)})),Object(v.jsx)("button",{type:"button",onClick:function(){return n()},className:t>=r?"text-gray-500 focus:outline-none cursor-default":"text-white focus:outline-none",children:">"})]})})},ke=r(37),Ee=r(68),Ie=r.p+"static/media/arrowDownBlack.b7343f82.svg",Pe=r.p+"static/media/arrowRightBlack.e7140ec6.svg",Re=r.p+"static/media/icon.081a5d9a.svg",De=r.p+"static/media/iconBlack.2abba048.svg",_e={display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr 1fr",gridTemplateRow:"4.375rem",columnGap:"2rem",rowGap:"2rem",height:"4.375rem",alignItems:"center",width:"50rem"},Fe=function(e){var t=e.archaeologist,r=e.handleClick,n=e.toggle,a=e.file,c=e.selected,s=e.isDisabled,i=e.collapsed;return Object(v.jsxs)("div",{className:s?"cursor-default":"cursor-pointer",onClick:r,style:_e,children:[Object(v.jsx)("div",{className:"",children:Object(Ee.b)(t.address,18,null)}),Object(v.jsxs)("div",{className:"pl-6",children:[a&&Object(v.jsx)("img",{src:c===t.address?De:Re,alt:"",className:"inline-block w-4 h-auto mr-2"}),Object(ke.e)(t,a)]}),Object(v.jsxs)("div",{className:"-ml-1 flex items-center",children:[Object(v.jsx)("img",{src:c===t.address?De:Re,alt:"",className:"inline-block w-4 h-auto mr-2"}),Object(ke.b)(null===t||void 0===t?void 0:t.minimumBounty)]}),Object(v.jsxs)("div",{className:"-ml-7 flex items-center",children:[Object(v.jsx)("img",{src:c===t.address?De:Re,alt:"",className:"inline-block w-4 h-auto mr-2"}),Object(ke.b)(null===t||void 0===t?void 0:t.minimumDiggingFee)]}),Object(v.jsxs)("div",{className:"flex items-center cursor-pointer -ml-5",onClick:function(e){e.stopPropagation(),n()},children:[c===t.address&&i&&Object(v.jsx)("img",{alt:"",src:Pe,className:"mr-2"}),c===t.address&&!i&&Object(v.jsx)("img",{alt:"",src:Ie,className:"mr-2"}),c!==t.address&&i&&Object(v.jsx)("img",{alt:"",src:ee,className:"mr-2"}),c!==t.address&&!i&&Object(v.jsx)("img",{alt:"",src:Q,className:"mr-2"}),Object(v.jsx)("u",{children:"Metrics"})]})]})},He=function(e){var t=e.label;return Object(v.jsx)("span",{className:"text-gray-400 mr-2",children:t})},Ue=function(e){var t=e.value,r=e.selected;return Object(v.jsxs)("span",{className:r?g()("text-black"):g()("text-white"),children:[" ",t]})},Me=function(e){var t=e.archaeologist,r=e.file,n=e.isSelected;return Object(v.jsxs)("div",{className:"border-t border-gray-500 py-4 px-8 w-full",children:[Object(v.jsxs)("div",{className:"flex mb-4",children:[Object(v.jsx)("span",{className:"text-gray-400 mr-2",children:"Arch "}),Object(v.jsx)("span",{children:t.address})]}),Object(v.jsxs)("div",{className:"grid grid-cols-2 text-sm gap-4",children:[Object(v.jsxs)("div",{className:"",children:[Object(v.jsxs)("div",{className:"flex",children:[Object(v.jsx)(He,{label:"Accused Sarcophagi"}),Object(v.jsx)(Ue,{selected:n,value:Object(ke.c)(null===t||void 0===t?void 0:t.accusedCount,"wei",!0)})]}),Object(v.jsxs)("div",{className:"flex",children:[Object(v.jsx)(He,{label:"Cleaned Sarcophagi"}),Object(v.jsx)(Ue,{selected:n,value:Object(ke.c)(null===t||void 0===t?void 0:t.cleanupCount,"wei",!0)})]}),Object(v.jsxs)("div",{className:"flex",children:[Object(v.jsx)(He,{label:"Canceled Sarcophagi"}),Object(v.jsx)(Ue,{selected:n,value:Object(ke.c)(null===t||void 0===t?void 0:t.canceledCount,"wei",!0)})]}),Object(v.jsxs)("div",{className:"flex",children:[Object(v.jsx)(He,{label:"Successful Sarcophagi"}),Object(v.jsx)(Ue,{selected:n,value:Object(ke.c)(null===t||void 0===t?void 0:t.successesCount,"wei",!0)})]}),Object(v.jsxs)("div",{className:"flex",children:[Object(v.jsx)(He,{label:"Percent Cursed:"}),Object(v.jsx)(Ue,{selected:n,value:"".concat(Object(ke.a)(null===t||void 0===t?void 0:t.cursedBond,null===t||void 0===t?void 0:t.freeBond),"%")})]}),Object(v.jsxs)("div",{className:"flex whitespace-nowrap",children:[Object(v.jsx)(He,{label:"Max Resurrection Time:"}),Object(v.jsx)(Ue,{selected:n,value:Object(I.e)(null===t||void 0===t?void 0:t.maximumResurrectionTime)})]})]}),Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"flex",children:[Object(v.jsx)(He,{label:"Min Digging Fee:"}),Object(v.jsx)(Ue,{selected:n,value:Object(ke.c)(null===t||void 0===t?void 0:t.minimumDiggingFee,18)})]}),Object(v.jsxs)("div",{className:"flex",children:[Object(v.jsx)(He,{label:"Min Bounty:"}),Object(v.jsx)(Ue,{selected:n,value:Object(ke.c)(null===t||void 0===t?void 0:t.minimumBounty,18)})]}),Object(v.jsxs)("div",{className:"flex",children:[Object(v.jsx)(He,{label:"Fee per byte:"}),Object(v.jsx)(Ue,{selected:n,value:Object(ke.c)(null===t||void 0===t?void 0:t.feePerByte,18)})]}),Object(v.jsxs)("div",{className:"flex",children:[Object(v.jsx)(He,{label:"Total Storage Fee"}),Object(v.jsx)(Ue,{selected:n,value:Object(ke.d)(t,r)})]}),Object(v.jsxs)("div",{className:"flex",children:[Object(v.jsx)(He,{label:"Total Fees"}),Object(v.jsx)(Ue,{selected:n,value:Object(ke.e)(t,r)})]})]})]})]})},Ge="px-6 text-md",Ke=function(e){var t=e.archaeologist,r=e.file,n=e.bounty,a=e.diggingFee,c=e.selected,i=e.handleSelected,o=e.setFieldValue,u=Object(s.useState)(!0),l=Object(b.a)(u,2),d=l[0],p=l[1],f=J(!0,!0),h=f.collapsed,m=f.toggle;Object(s.useEffect)((function(){if(n&&a){var e=t.minimumBounty.lte(N.utils.parseEther(n.toString())),c=t.minimumDiggingFee.lte(N.utils.parseEther(a.toString())),s=t.freeBond.gte(N.utils.parseEther(Object(ke.e)(t,r).toString()));p(!(e&&c&&s&&r))}else p(!0)}),[n,a,t,r]),Object(s.useEffect)((function(){c===t.address&&d&&i(!1,!1)}),[t,c,d,i]);return Object(v.jsxs)("div",{className:d?g()(Ge,"border border-gray-500 text-gray-400"):c===t.address?g()(Ge,"border border-white text-black bg-white"):g()(Ge,"border border-gray-500 text-white bg-gray-600"),style:{width:"50rem"},children:[Object(v.jsx)(Fe,{archaeologist:t,handleClick:function(){d||(o("address",t.address),o("bounty",Object(ke.c)(t.minimumBounty,18)),o("diggingFee",Object(ke.c)(t.minimumDiggingFee,18)),i(t,Object(ke.e)(t,r,!0)))},toggle:m,file:r,selected:c,isDisabled:d,collapsed:h}),!h&&Object(v.jsx)(Me,{archaeologist:t,file:r,isSelected:c===t.address})]})},Be=function(e){var t=Object(s.useState)(0),r=Object(b.a)(t,2),n=r[0],a=r[1],c=Object(s.useState)(0),i=Object(b.a)(c,2),o=i[0],u=i[1],l=Object(s.useState)([]),d=Object(b.a)(l,2),p=d[0],f=d[1];Object(s.useEffect)((function(){u(Math.floor(e/5))}),[e]),Object(s.useEffect)((function(){for(var e=[],t=0;t<=o;t++)e.push(t);f(e)}),[o]);return{page:n,perPage:5,totalPages:o,handlePrevPage:function(){0!==n&&a((function(e){return e-1}))},handleNextPage:function(){n>=o||a((function(e){return e+1}))},pageNumbers:p,goToPage:function(e){a(e)}}},We=function(e,t,r,n){var a=Object(s.useState)([]),c=Object(b.a)(a,2),i=c[0],o=c[1],u=Be(null===e||void 0===e?void 0:e.length),l=u.page,d=u.perPage,p=u.totalPages,f=u.handlePrevPage,h=u.handleNextPage,m=u.goToPage,j=u.pageNumbers;return Object(s.useEffect)((function(){Array.isArray(e)&&e.length&&o(e.filter((function(e,t){return t>=l*d&&t<=(l+1)*d-1})))}),[e,l,d]),Object(s.useEffect)((function(){r&&n&&t&&o(e.sort((function(e,r){return Object(ke.e)(r,t)-Object(ke.e)(e,t)})).sort((function(e,t){return e.minimumBounty.lte(N.utils.parseEther(r.toString()))&&e.minimumDiggingFee.lte(N.utils.parseEther(n.toString()))?-1:t.minimumBounty.lte(N.utils.parseEther(r.toString()))&&t.minimumDiggingFee.lte(N.utils.parseEther(n.toString()))?1:0})).filter((function(e,t){return t>=l*d&&t<=(l+1)*d-1})))}),[r,n,t,l,d,e]),{filteredList:i,page:l,totalPages:p,handlePrevPage:f,handleNextPage:h,goToPage:m,pageNumbers:j}},Le=function(e){var t=e.archaeologists,r=e.handleSelected,n=e.archSelected,a=e.file,c=e.values,s=e.handleChange,i=e.setFieldValue,o=e.errors,u=e.touched,l=e.toggle,d=e.icon,b=e.title,p=c.bounty,f=c.diggingFee,h=We(t,a,p,f),m=h.filteredList,j=h.page,g=h.totalPages,y=h.handlePrevPage,w=h.handleNextPage,S=h.goToPage,T=h.pageNumbers;return Object(v.jsx)(x,{children:Object(v.jsxs)("div",{className:"relative pb-4 ease-in-transition",children:[Object(v.jsxs)("div",{className:"flex justify-between",children:[Object(v.jsx)(O.a,{type:"subOne",title:b,icon:d}),Object(v.jsx)("img",{alt:"",src:Q,onClick:l})]}),Object(v.jsx)(Se,{values:c,handleChange:s,errors:o,touched:u}),Object(v.jsxs)("div",{className:"hide-scrollbar overflow-x-scroll w-full whitespace-nowrap",children:[o.address&&u.address&&Object(v.jsx)(z.a,{extraPadding:"ml-6",children:o.address}),Object(v.jsx)(Ce,{length:t.length}),m.map((function(e,t){return Object(v.jsx)(Ke,{setFieldValue:i,selected:n,handleSelected:r,archaeologist:e,file:a,bounty:p,diggingFee:f,gtSign:">"},"".concat(t).concat(e.address))}))]}),t.length>0&&Object(v.jsx)(Ae,{page:j,totalPages:g,handlePrevPage:y,handleNextPage:w,pageNumbers:T,goToPage:S})]})})},Ve=function(e){var t=e.values,r=e.errors,n=Object(m.a)(e,["values","errors"]),a=J(),c=a.collapsed,i=a.toggle,o=a.open;return Object(s.useEffect)((function(){t.resurrectionTime&&(r.resurrectionTime||o())}),[o,r,t]),c?Object(v.jsx)(te,{title:f.G,icon:we,toggle:i}):Object(v.jsx)(Le,Object(h.a)({values:t,errors:r,title:f.G,icon:we,toggle:i},n))},qe=function(e){var t=e.message,r=e.handleClick;return Object(v.jsx)("div",{className:" mx-auto border border-white text-white text-md flex px-4 my-8 pt-2 justify-between relative max-w-128",style:{height:"4.375rem"},children:Object(v.jsx)("div",{className:"text-center h-full w-full text-white absolute top-0 left-0 flex justify-center items-center cursor-pointer",onClick:r,children:t})})},Je=r(442),ze=r(443),Ze=r(192),Xe=r(445),Ye=function(){(a=Object(s.createContext)()).displayName="Data Provider";var e=a.Provider;return function(t){var r=t.children,n=V().sarcophagusContract,a=Object(ze.a)(n),c=a.embalmerSarcophagi,s=a.embalmerAllSarcophagi,i=a.pendingSarcophagi,o=a.checkStorage,u=Object(Ze.a)(n),l=u.recipientSarcophagi,d=u.recipientAllSarcophagi,b=u.getRecipientSarcophagi,p=Object(Je.a)(s,d).archivedSarcophagi,f=Object(Xe.a)(n),h={createSarcophagus:f.createSarcophagus,updateSarcophagus:f.updateSarcophagus,cancelSarcophagus:f.cancelSarcophagus,cleanSarcophagus:f.cleanSarcophagus,rewrapSarcophagus:f.rewrapSarcophagus,burySarcophagus:f.burySarcophagus,archivedSarcophagi:p,pendingSarcophagi:i,embalmerSarcophagi:c||[],recipientSarcophagi:l||[],accuseArchaeologist:f.accuseArchaeologist,checkStorage:o,getRecipientSarcophagi:b};return Object(v.jsx)(e,{value:h,children:r})}}(),Qe=function(){return Object(s.useContext)(a)},$e=function(){(c=Object(s.createContext)()).displayName="Data Provider";var e=c.Provider;return function(t){var r=t.children,n=V().sarcophagusContract,a=function(e){var t=Object(s.useState)([]),r=Object(b.a)(t,2),n=r[0],a=r[1],c=Object(s.useState)(!1),i=Object(b.a)(c,2),o=i[0],u=i[1],l=Object(s.useState)(!1),d=Object(b.a)(l,2),p=d[0],f=d[1],m=Object(s.useCallback)(Object(F.a)(_.a.mark((function t(){var r;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.archaeologistCount();case 3:r=t.sent,f(r),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),[e]),j=Object(s.useCallback)(function(){var t=Object(F.a)(_.a.mark((function t(r){var n,a,c;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,n=[],a=0;case 3:if(!(a<=r-1)){t.next=11;break}return t.next=6,e.archaeologistAddresses(a);case 6:c=t.sent,n.push(c);case 8:a++,t.next=3;break;case 11:return t.next=13,u(n);case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),console.error(t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e){return t.apply(this,arguments)}}(),[e]),g=Object(s.useCallback)(Object(F.a)(_.a.mark((function t(){var r,n;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all(o.map(function(){var t=Object(F.a)(_.a.mark((function t(r){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.archaeologists(r);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 3:r=(r=t.sent).map((function(e,t){return Object(h.a)(Object(h.a)({},e),{},{address:o[t]})})),n=r.filter((function(e){return!e.freeBond.isZero()})),a(n),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))),[e,o]);return Object(s.useEffect)((function(){e&&m()}),[m,e]),Object(s.useEffect)((function(){p&&(p.isZero()||j(p.toNumber()))}),[p,j]),Object(s.useEffect)((function(){p&&o&&g()}),[m,j,g,o,p]),{rawArchaeologists:n,getArchaeologistCount:m}}(n),c=a.rawArchaeologists,i={getArchaeologistCount:a.getArchaeologistCount,archaeologists:function(e,t){var r=Object(s.useState)([]),n=Object(b.a)(r,2),a=n[0],c=n[1],i=Object(s.useState)(!1),o=Object(b.a)(i,2),u=o[0],l=o[1],d=Object(s.useCallback)(function(){var t=Object(F.a)(_.a.mark((function t(r){var n;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.archaeologistCleanupsCount(r);case 3:return n=t.sent,t.abrupt("return",n);case 7:t.prev=7,t.t0=t.catch(0),H.b.error(f.l),console.error("There was an error with contract : ArchCleanCount",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),[e]),p=Object(s.useCallback)(function(){var t=Object(F.a)(_.a.mark((function t(r,n){var a,c;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null===n||void 0===n?void 0:n.isZero())){t.next=2;break}return t.abrupt("return",[]);case 2:return t.prev=2,a=new Array(n.toNumber()).fill(void 0),t.next=6,Promise.all(a.map(function(){var t=Object(F.a)(_.a.mark((function t(n,a){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.archaeologistCleanupsIdentifier(r,a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()));case 6:return c=t.sent,t.abrupt("return",c);case 10:t.prev=10,t.t0=t.catch(2),H.b.error(f.l),console.error("There was an error with contract : ArchCleanIdentifiers",t.t0);case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,r){return t.apply(this,arguments)}}(),[e]),m=Object(s.useCallback)(function(){var t=Object(F.a)(_.a.mark((function t(r){var n;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.archaeologistCancelsCount(r);case 3:return n=t.sent,t.abrupt("return",n);case 7:t.prev=7,t.t0=t.catch(0),H.b.error(f.l),console.error("There was an error with contract : ArchCancelCounts",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),[e]),j=Object(s.useCallback)(function(){var t=Object(F.a)(_.a.mark((function t(r,n){var a,c;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null===n||void 0===n?void 0:n.isZero())){t.next=2;break}return t.abrupt("return",[]);case 2:return t.prev=2,a=new Array(n.toNumber()).fill(void 0),t.next=6,Promise.all(a.map(function(){var t=Object(F.a)(_.a.mark((function t(n,a){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.archaeologistCancelsIdentifier(r,a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()));case 6:return c=t.sent,t.abrupt("return",c);case 10:t.prev=10,t.t0=t.catch(2),H.b.error(f.l),console.error("There was an error with contract : ArchCancelIdentifiers",t.t0);case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,r){return t.apply(this,arguments)}}(),[e]),g=Object(s.useCallback)(function(){var t=Object(F.a)(_.a.mark((function t(r){var n;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.archaeologistAccusalsCount(r);case 3:return n=t.sent,t.abrupt("return",n);case 7:t.prev=7,t.t0=t.catch(0),H.b.error(f.l),console.error("There was an error with contract : ArchAccusedCount",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),[e]),v=Object(s.useCallback)(function(){var t=Object(F.a)(_.a.mark((function t(r,n){var a,c;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null===n||void 0===n?void 0:n.isZero())){t.next=2;break}return t.abrupt("return",[]);case 2:return t.prev=2,a=new Array(n.toNumber()).fill(void 0),t.next=6,Promise.all(a.map(function(){var t=Object(F.a)(_.a.mark((function t(n,a){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.archaeologistAccusalsIdentifier(r,a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()));case 6:return c=t.sent,t.abrupt("return",c);case 10:t.prev=10,t.t0=t.catch(2),H.b.error(f.l),console.error("There was an error with contract : ArchAccusedIdentifiers",t.t0);case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,r){return t.apply(this,arguments)}}(),[e]),y=Object(s.useCallback)(function(){var t=Object(F.a)(_.a.mark((function t(r){var n;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.archaeologistSuccessesCount(r);case 3:return n=t.sent,t.abrupt("return",n);case 7:t.prev=7,t.t0=t.catch(0),H.b.error(f.l),console.error("There was an error with contract : ArchSuccessCount",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),[e]),x=Object(s.useCallback)(function(){var t=Object(F.a)(_.a.mark((function t(r,n){var a,c;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null===n||void 0===n?void 0:n.isZero())){t.next=2;break}return t.abrupt("return",[]);case 2:return t.prev=2,a=new Array(n.toNumber()).fill(void 0),t.next=6,Promise.all(a.map(function(){var t=Object(F.a)(_.a.mark((function t(n,a){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.archaeologistSuccessesIdentifier(r,a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()));case 6:return c=t.sent,t.abrupt("return",c);case 10:t.prev=10,t.t0=t.catch(2),H.b.error(f.l),console.error("There was an error with contract : ArchSuccessIdenifiers",t.t0);case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,r){return t.apply(this,arguments)}}(),[e]),O=Object(s.useCallback)(Object(F.a)(_.a.mark((function e(){var r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=Object(F.a)(_.a.mark((function e(t){var r,n,a,c,s;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t.address);case 2:return r=e.sent,e.next=5,m(t.address);case 5:return n=e.sent,e.next=8,g(t.address);case 8:return a=e.sent,e.next=11,y(t.address);case 11:return c=e.sent,s=Object(h.a)(Object(h.a)({},t),{},{cleanupCount:r,canceledCount:n,accusedCount:a,successesCount:c}),e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:r=e.sent,c(r);case 4:case"end":return e.stop()}}),e)}))),[t,d,m,g,y]),w=Object(s.useCallback)(Object(F.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(a.map(function(){var e=Object(F.a)(_.a.mark((function e(t){var r,n,a,c,s;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(t.address,t.cleanupCount);case 2:return r=e.sent,e.next=5,j(t.address,t.canceledCount);case 5:return n=e.sent,e.next=8,v(t.address,t.accusedCount);case 8:return a=e.sent,e.next=11,x(t.address,t.successesCount);case 11:return c=e.sent,s=Object(h.a)(Object(h.a)({},t),{},{cleanupIdentifiers:r,canceledIdentifiers:n,accusedIdentifiers:a,successesIdentifiers:c}),e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:t=e.sent,l(t);case 4:case"end":return e.stop()}}),e)}))),[a,p,j,v,x]);return Object(s.useEffect)((function(){O()}),[O]),Object(s.useEffect)((function(){a.length&&w()}),[w,a]),{archaeologists:u}}(n,c).archaeologists||c};return Object(v.jsx)(e,{value:i,children:r})}}(),et=function(){return Object(s.useContext)(c)},tt=r(107),rt=function(){var e=Object(d.g)(),t=Qe(),r=t.createSarcophagus,n=t.checkStorage,a=t.getRecipientSarcophagi,c=et(),i=c.archaeologists,o=c.getArchaeologistCount,u=Object(M.b)().account,l=q(),f=l.approved,h=l.approveTransaction,m=P(r),j=m.file,g=m.setFile,y=m.handleArchaeologistSelect,x=m.handleEmbalming,O=m.selectedArchaeologist,w=m.handleKey,N=Object(s.useState)(""),C=Object(b.a)(N,2),k=C[0],E=C[1],I=function(){n(),a(),o()};Object(s.useEffect)((function(){E(f?"Finish":"Approve")}),[f]);return Object(v.jsx)(p.a,{initialValues:T,validationSchema:A,onSubmit:function(t){x(t,e,I)},validateOnMount:!0,children:function(e){var t=e.values,r=e.errors,n=e.touched,a=e.handleChange,c=(e.handleBlur,e.handleSubmit),s=e.setFieldValue,o=e.validateForm,l=e.isValid;return Object(v.jsx)("form",{className:"ml-8 px-14",onSubmit:c,children:u?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(S,{}),Object(v.jsx)(ne,{values:t,errors:r,touched:n,handleChange:a,handleKey:w}),Object(v.jsx)(pe,{values:t,file:j,handleFile:g,errors:r,touched:n,setFieldValue:s}),Object(v.jsx)(Oe,{values:t,errors:r,touched:n,handleChange:a,setFieldValue:s}),Object(v.jsx)(Ve,{errors:r,touched:n,archaeologists:i,file:j,values:t,handleChange:a,handleEmbalming:x,handleSelected:y,archSelected:(null===O||void 0===O?void 0:O.address)||"",setFieldValue:s}),Object(v.jsx)(R.a,{label:k,isDisabled:!l,_classnames:"my-8",height:"lg",type:f?"submit":"button",onClick:f?function(){return o()}:function(){o(),function(e){Object.keys(e).length||h()}(r)}})]}):Object(v.jsx)(qe,{message:"Connect to a wallet to get started",handleClick:function(){return Object(tt.a)()}})})}})},nt=r.p+"static/media/tomb.a63833ca.svg",at=function(e){var t=e.embalmerCount,r=e.recipientCount,n=e.archivedCount,a=Object(d.i)();return Object(v.jsxs)("div",{className:"flex items-center justify-center lg:justify-between flex-wrap md:flex-nowrap gap-4",children:[Object(v.jsxs)(l.b,{activeClassName:"border-b-2 border-white",className:"px-2 pb-4 cursor-pointer whitespace-nowrap flex justif-center items-center flex-shrink-0",to:"".concat(a.path),exact:!0,children:[Object(v.jsx)(O.a,{type:"subOne",title:"Sarcophagi (".concat(t||0,")")}),Object(v.jsx)(Te.a,{content:Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{children:"Active sarcophagi"}),Object(v.jsx)("div",{children:"Current status and resurrection time will be displayed"})]})})]}),Object(v.jsxs)(l.b,{activeClassName:"border-b-2 border-white",className:"px-2 pb-4 cursor-pointer whitespace-nowrap flex justif-center items-center flex-shrink-0",to:"".concat(a.path,"/resurrect"),children:[Object(v.jsx)(O.a,{type:"subOne",title:"Resurrected: (".concat(r||0,")")}),Object(v.jsx)(Te.a,{content:Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{children:"Received Sarcophagi"}),Object(v.jsx)("div",{children:"Click to view received sarcophagi details"})]})})]}),Object(v.jsxs)(l.b,{activeClassName:"border-b-2 border-white",className:"px-2 pb-4 cursor-pointer whitespace-nowrap flex justif-center items-center flex-shrink-0",to:"".concat(a.path,"/archive"),children:[Object(v.jsx)(O.a,{type:"subOne",title:"Archived: (".concat(n||0,")")}),Object(v.jsx)(Te.a,{content:Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{children:"Inactive sarcophagi"}),Object(v.jsx)("div",{children:"Click to view past sarcophagi"})]})})]})]})},ct=r(447),st=function(e,t,r,n){var a=Object(s.useRef)(null),c=Object(s.useState)(e.toNumber()),i=Object(b.a)(c,2),o=i[0],u=i[1],l=Object(s.useState)(t.toNumber()),d=Object(b.a)(l,2),p=d[0],h=d[1],m=Object(s.useState)(!1),j=Object(b.a)(m,2),g=j[0],v=j[1],y=Object(s.useState)(f.ab),x=Object(b.a)(y,2),O=x[0],w=x[1],S=Object(s.useState)(!1),T=Object(b.a)(S,2),N=T[0],C=T[1],A=Object(s.useState)(f.o),k=Object(b.a)(A,2),E=k[0],P=k[1],R=Object(s.useCallback)((function(e){if(g)return P("text-yellow");var t=e-Date.parse(new Date),r=Math.floor(t/864e5),n=Math.floor(t/36e5%24);return P(0===r&&n<24?"text-red":"text-gray-400")}),[P,g]),D=Object(s.useCallback)((function(){u(0),h(0),w("recalculating..."),clearInterval(a.current)}),[a]);return Object(s.useEffect)((function(){u(e.toNumber()),h(t.toNumber())}),[e,t]),Object(s.useEffect)((function(){if(!o)return C(!1);var e=1e3*o,t=1e3*(o+p);if(!Math.sign(t-Date.now().valueOf()<=0))return Math.sign(e-Date.now().valueOf()<=0)?(null===n||void 0===n||n(f.U.UNWRAPPING),v(!0),C(!0),a.current=setInterval((function(){var e=new Date(t),r=Object(I.f)(e);w(r),R(e),Math.sign(t-Date.now().valueOf()<=0)&&(C(!1),w(f.ab),clearInterval(a.current))}),1e3),function(){return clearInterval(a.current)}):(v(!1),C(!0),a.current=setInterval((function(){var t=new Date(e),r=Object(I.f)(t);w(r),R(t),Math.sign(e-Date.now().valueOf()<=0)&&(v(!0),w(f.ab),clearInterval(a.current))}),1e3),function(){return clearInterval(a.current)});C(!1),v(!1)}),[o,p,R,r,t,D,n]),{timer:O,color:E,timers:N,refreshTimers:D}},it=function(e){var t=e.state,r=e.timer,n=e.color,a=void 0===n?"text-gray-400":n,c=e.timers;return Object(v.jsx)("div",{className:"text-sm ".concat(c?a:"text-red"),style:{lineHeight:"1.0625rem"},children:2!==t&&"Resurrection: ".concat(r)})},ot=r(87),ut=r.p+"static/media/error.bd7ee411.svg",lt="ml-3 mt-1 py-1 px-2 text-gray-900 text-2xs rounded self-end",dt=function(e){var t=e.status;return Object(v.jsx)("div",{children:t})},bt=function(e){var t=e.status,r=e.error,n=e.isActive,a=void 0!==n&&n,c=e.isArchived,s=void 0!==c&&c;return Object(v.jsx)(ot.a,{content:Object(v.jsx)(dt,{status:t}),className:"border-2 border-white rounded text-center text-xs font-normal p-2 bg-gray-900",children:Object(v.jsx)("div",{className:r?g()(lt,"bg-red"):t===f.K.UNWRAPPED?g()(lt,"bg-white"):a?g()(lt,"bg-green"):s?g()(lt,"bg-gray-300"):g()(lt,"bg-yellow"),style:{width:"fit-content"},children:r?Object(v.jsxs)("div",{className:"flex items-center",children:[Object(v.jsx)("img",{alt:"",src:ut,className:"mr-2"}),Object(v.jsx)("div",{className:"leading-4",children:"Error"})]}):t===f.K.UNWRAPPED?"Unwrapped":a?"Active":s?"Archived":"Pending"})})},pt="text-white text-md flex justify-between relative cursor-default max-w-128",ft=function(e){var t=e.sarcophagus.name,r=e.currentStatus,n=e.error,a=e.toggle,c=e.collapsed,s=e.expandedOption,i=void 0!==s&&s,o=e.timer,u=e.color,l=e.timers;return Object(v.jsxs)("div",{className:i?g()(pt,"cursor-pointer"):g()(pt),onClick:i?function(){return a()}:function(){return null},style:{height:"4.375rem"},children:[Object(v.jsxs)("div",{children:[t.length>30?Object(v.jsx)(ot.a,{content:t,className:"border-2 border-white rounded text-center text-xs font-normal p-2 bg-gray-900 break-words whitespace-pre-wrap",children:Object(v.jsx)("div",{className:"text-base font-bold text-white",style:{lineHeight:"1.625rem"},children:Object(Ee.b)(t,25,"...",18)})}):Object(v.jsx)("div",{className:"text-base font-bold text-white",style:{lineHeight:"1.625rem"},children:t}),Object(v.jsx)(it,{timer:o,color:u,timers:l})]}),Object(v.jsxs)("div",{className:"flex flex-col",children:[i&&Object(v.jsxs)("div",{className:"flex cursor-pointer",children:[!c&&r!==f.U.TRANSACTION_MINING_IN_PROGRESS&&Object(v.jsx)("img",{alt:"",src:Q,className:"mr-2"}),c&&r!==f.U.TRANSACTION_MINING_IN_PROGRESS&&Object(v.jsx)("img",{alt:"",src:ee,className:"mr-2"}),Object(v.jsx)("span",{children:n?"Details":r===f.U.ACTIVE?"Rewrap":r===f.U.SARCOPHAGUS_AWAIT_SIGN?f.U.SARCOPHAGUS_AWAIT_SIGN:r===f.U.WINDOW_CLOSED?"Details":""})]}),Object(v.jsx)(bt,{status:n||r,error:!!n||r===f.U.WINDOW_CLOSED,isActive:r===f.U.ACTIVE})]})]})},ht=function(e){var t=e.sarcophagus,r=e.archaeologist,n=e.refresh,a=e.toggle,c=e.setCurrentStatus,i=e.refreshTimers,o=Qe(),u=o.burySarcophagus,l=o.rewrapSarcophagus,d=q(),h=d.approved,m=d.approveTransaction,j=Object(s.useState)(""),g=Object(b.a)(j,2),y=g[0],x=g[1];Object(s.useEffect)((function(){x(h?"Rewrap Sarcophagus":"Approve")}),[h]);var w=function(){var e=Object(F.a)(_.a.mark((function e(r){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t,r,n,a,c,i);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(F.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t,c,n,a,i);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T={resurrectionTime:"",bounty:Object(ke.b)(null===r||void 0===r?void 0:r.minimumBounty,18),diggingFee:Object(ke.b)(null===r||void 0===r?void 0:r.minimumDiggingFee,18),custom:!1,customTime:""},N=C.d().shape({resurrectionTime:C.c().required("Resurrection time is required"),bounty:C.c().min(Object(ke.b)(null===r||void 0===r?void 0:r.minimumBounty,18),"Bounty is too low").required("Bounty is required"),diggingFee:C.c().min(Object(ke.b)(null===r||void 0===r?void 0:r.minimumDiggingFee,18),"Digging Fee is too low").required("Digging Fee is required"),customTime:C.c().when("custom",{is:!0,then:C.c().required("Resurrection time is required")}),custom:C.a()}).nullable();return Object(v.jsx)(p.a,{initialValues:T,validationSchema:N,onSubmit:w,validateOnMount:!0,children:function(e){var t=e.values,r=e.errors,n=e.touched,a=e.handleChange,c=(e.handleBlur,e.handleSubmit),s=e.setFieldValue,i=e.validateForm,o=e.isValid;return Object(v.jsxs)("form",{onSubmit:c,className:"pb-8 px-10",children:[Object(v.jsxs)("div",{className:"flex items-center",children:[Object(v.jsx)(O.a,{type:"subOne",title:"Fees"}),Object(v.jsx)(Te.a,{content:"These fees are based on current minimum fees provided by archaeologist"}),r.bounty&&n.bounty&&Object(v.jsx)(z.a,{children:r.bounty}),r.diggingFee&&n.diggingFee&&Object(v.jsx)(z.a,{children:r.diggingFee})]}),Object(v.jsx)(Se,{values:t,handleChange:a,errors:r,touched:n,margin:"my-4",paddingRight:"mr-8",showInfo:!1}),Object(v.jsxs)("div",{className:"flex mb-4 items-center",children:[Object(v.jsx)(O.a,{type:"subOne",title:"Choose new resurrection time"}),Object(v.jsx)(Te.a,{content:Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{children:"Choose a resurrection time by selecting an options below"}),Object(v.jsx)("div",{children:"1 Week: 7 days from today"}),Object(v.jsx)("div",{children:"1 month: 30 days from today"}),Object(v.jsx)("div",{children:"3 months: 90 days from today"})]})}),r.resurrectionTime&&n.resurrectionTime&&Object(v.jsx)(z.a,{children:r.resurrectionTime})]}),Object(v.jsx)(ye,{errors:r,touched:n,setFieldValue:s,values:t}),Object(v.jsxs)("div",{className:"flex flex-col justify-center items-center mt-8 mb-12",children:[Object(v.jsx)(R.a,{label:y,isDisabled:!o,type:h?"submit":"button",onClick:h?function(){return null}:function(){i(),function(e){Object.keys(e).length||m()}(r)}}),Object(v.jsxs)("div",{className:"whitespace-nowrap flex absolute bottom-8 underline justify-center items-center",onClick:S,children:[Object(v.jsx)("span",{className:"mr-2 cursor-pointer",children:"Bury sarcophagus"}),Object(v.jsx)(Te.a,{content:f.i})]})]})]})}})},mt=function(e){var t=e.sarcophagus,r=e.setCurrentStatus,n=e.refresh,a=e.toggle,c=e.refreshTimers,s=e.setError,i=Qe(),o=i.updateSarcophagus,u=i.cancelSarcophagus,l=function(){var e=Object(F.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(t,r,n,a,s);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(F.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t,r,a,n,c);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:"flex flex-col items-center justify-center h-full relative gap-8",style:{height:"12.0625rem"},children:[Object(v.jsx)(R.a,{type:"button",onClick:l,label:"Sign"}),Object(v.jsxs)("div",{className:"whitespace-nowrap flex underline cursor-pointer",onClick:d,children:[Object(v.jsx)("span",{className:"mr-2",children:"Cancel this sarcophagus"}),Object(v.jsx)(Te.a,{content:f.j})]})]})},jt=function(e){var t=e.sarcophagus,r=e.refresh,n=e.toggle,a=e.setCurrentStatus,c=e.refreshTimers,s=e.setError,i=Qe().cancelSarcophagus,o=function(){var e=Object(F.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(t,a,n,r,c);case 2:return e.next=4,s(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsx)("div",{className:"flex flex-col items-center justify-center h-full gap-8",style:{height:"12.0625rem"},children:Object(v.jsxs)("div",{className:"whitespace-nowrap flex underline cursor-pointer",onClick:o,children:[Object(v.jsx)("span",{className:"mr-2",children:"Cancel this sarcophagus"}),Object(v.jsx)(Te.a,{content:f.j})]})})},gt=function(e){var t=e.sarcophagus,r=e.toggle,n=e.refresh,a=e.archaeologist,c=e.setCurrentStatus,s=e.refreshTimers,i=e.setError,o=Qe().cleanSarcophagus,u=function(){var e=Object(F.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(t,c,a,r,n,s);case 2:return e.next=4,i(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsx)("div",{className:"flex flex-col items-center justify-center h-full relative gap-8",style:{height:"12.0625rem"},children:Object(v.jsxs)("div",{className:"whitespace-nowrap flex underline cursor-pointer",onClick:u,children:[Object(v.jsx)("span",{className:"mr-2",children:"Clean this sarcophagus"}),Object(v.jsx)(Te.a,{content:f.k})]})})},vt=function(e){var t=e.sarcophagus,r=e.archaeologist,n=e.currentStatus,a=e.error,c=e.setError,s=e.setCurrentStatus,i=e.toggle,o=e.refresh,u=e.refreshTimers;return Object(v.jsxs)("div",{className:"text-white text-md relative flex flex-col overflow-x-scroll hide-scrollbar max-w-128",children:[a&&Object(v.jsx)(jt,{setError:c,sarcophagus:t,refresh:o,toggle:i,error:a,setCurrentStatus:s,refreshTimers:u}),n===f.U.WINDOW_CLOSED&&Object(v.jsx)(gt,{setError:c,sarcophagus:t,archaeologist:r,refresh:o,toggle:i,setCurrentStatus:s,refreshTimers:u}),n===f.U.SARCOPHAGUS_AWAIT_SIGN&&Object(v.jsx)(mt,{sarcophagus:t,setCurrentStatus:s,refresh:o,toggle:i,refreshTimers:u,setError:c}),n===f.U.ACTIVE&&!!r&&Object(v.jsx)(ht,{sarcophagus:t,archaeologist:r,refreshTimers:u,setCurrentStatus:s,toggle:i,refresh:o})]})},yt=function(e){var t=e.sarcophagus,r=e.currentStatus,n=e.setError,a=e.setCurrentStatus,c=e.error,s=e.archaeologist,i=e.refresh,o=st(t.resurrectionTime,t.resurrectionWindow,r,a),u=o.timer,l=o.color,d=o.timers,b=o.refreshTimers,p=J(!0,!0),h=p.collapsed,m=p.toggle;return Object(v.jsxs)("div",{className:"border border-gray-500 px-4 my-8 pt-3 ",children:[Object(v.jsx)(ft,{sarcophagus:t,currentStatus:r,error:r!==f.U.TRANSACTION_MINING_IN_PROGRESS&&c,expandedOption:!!c||r===f.U.WINDOW_CLOSED||r===f.U.SARCOPHAGUS_AWAIT_SIGN||r===f.U.ACTIVE,toggle:m,collapsed:h,timer:u,color:l,timers:d}),!h&&Object(v.jsx)(vt,{sarcophagus:t,currentStatus:r,refresh:i,setCurrentStatus:a,error:c,toggle:m,archaeologist:s,setError:n,timer:u,color:l,timers:d,refreshTimers:b})]})},xt=function(e){var t=e.sarcophagus,r=e.refresh,n=Object(m.a)(e,["sarcophagus","refresh"]),a=Object(ct.a)(t,r),c=a.currentStatus,i=a.setCurrentStatus,o=a.error,u=a.setError,l=et().archaeologists,d=Object(s.useState)({}),p=Object(b.a)(d,2),f=p[0],j=p[1];return Object(s.useEffect)((function(){var e=null===l||void 0===l?void 0:l.filter((function(e){return e.address===t.archaeologist}));j(e[0])}),[l,t]),Object(v.jsx)(yt,Object(h.a)({sarcophagus:t,currentStatus:c,setCurrentStatus:i,error:o,setError:u,archaeologist:f,refresh:r},n))},Ot=function(e){var t=Object(s.useState)(f.U.CHECKING_STATUS),r=Object(b.a)(t,2),n=r[0],a=r[1],c=Object(s.useState)(!1),i=Object(b.a)(c,2),o=i[0],u=i[1];return Object(s.useEffect)((function(){"0x0000000000000000000000000000000000000000000000000000000000000000"!==(null===e||void 0===e?void 0:e.privateKey)?a(f.K.UNWRAPPED):(null===e||void 0===e?void 0:e.assetId)?a(f.K.ACTIVE):(null===e||void 0===e?void 0:e.assetId)?u("There was an error checking state"):a(f.K.CREATED)}),[e]),{currentStatus:n,error:o}},wt="text-white text-md flex justify-between relative cursor-default max-w-128",St=function(e){var t=e.sarcophagus,r=t.name,n=t.state,a=e.error,c=e.toggle,s=e.status,i=e.collapsed,o=e.expandedOption,u=void 0!==o&&o,l=e.timer,d=e.color,b=e.timers;return Object(v.jsxs)("div",{className:u?g()(wt,"cursor-pointer"):g()(wt),onClick:u?function(){return c()}:function(){return null},style:{height:"4.375rem"},children:[Object(v.jsxs)("div",{children:[r.length>30?Object(v.jsx)(ot.a,{content:r,className:"border-2 border-white rounded text-center text-xs font-normal p-2 bg-gray-900 break-words whitespace-pre-wrap",children:Object(v.jsx)("div",{className:"text-base font-bold text-white",style:{lineHeight:"1.625rem"},children:Object(Ee.b)(r,25,"...",18)})}):Object(v.jsx)("div",{className:"text-base font-bold text-white",style:{lineHeight:"1.625rem"},children:r}),Object(v.jsx)(it,{state:n,timer:b||l!==f.ab?l:"Unwrapped",color:l===f.ab?"text-white":d,timers:b})]}),Object(v.jsxs)("div",{className:"flex flex-col",children:[u&&Object(v.jsxs)("div",{className:"flex cursor-pointer",children:[!i&&Object(v.jsx)("img",{alt:"",src:Q,className:"mr-2"}),i&&Object(v.jsx)("img",{alt:"",src:ee,className:"mr-2"}),Object(v.jsx)("span",{children:a?"Details":"Resurrect"})]}),Object(v.jsx)(bt,{status:s,isActive:1===n,isArchived:2===n,error:a})]})]})},Tt=r(451),Nt=function(e){var t=e.sarcophagus,r=Object(m.a)(e,["sarcophagus"]);return Object(v.jsx)("div",{className:"text-white text-md relative flex flex-col overflow-x-scroll hide-scrollbar max-w-128",children:Object(v.jsx)(Tt.a,Object(h.a)({sarcophagus:t},r))})},Ct=function(e){var t=e.sarcophagus,r=e.currentStatus,n=e.error,a=Object(m.a)(e,["sarcophagus","currentStatus","error"]),c=st(t.resurrectionTime,t.resurrectionWindow,r),s=c.timer,i=c.color,o=c.timers,u=J(!0,!0),l=u.collapsed,d=u.toggle;return Object(v.jsxs)("div",{className:"border border-gray-500 px-4 my-8 pt-3",children:[Object(v.jsx)(St,{sarcophagus:t,toggle:d,collapsed:l,expandedOption:r===f.K.UNWRAPPED||!!n,status:r,error:n,timer:s,color:i,timers:o}),!l&&Object(v.jsx)(Nt,Object(h.a)({sarcophagus:t,currentStatus:r,error:n,toggle:d},a))]})},At=function(e){var t=e.sarcophagus,r=Object(m.a)(e,["sarcophagus"]),n=Ot(t),a=n.currentStatus,c=n.error;return Object(v.jsx)(Ct,Object(h.a)({currentStatus:a,error:c,sarcophagus:t},r))},kt=function(e){var t=e.sarcophagus,r=t.name,n=t.state,a=e.currentStatus;return Object(v.jsxs)("div",{className:"border border-gray-500 text-white text-md flex px-4 my-8 pt-2 justify-between relative max-w-128",style:{height:"4.375rem"},children:[Object(v.jsx)("div",{children:r.length>30?Object(v.jsx)(ot.a,{content:r,className:"border-2 border-white rounded text-center text-xs font-normal p-2 bg-gray-900 break-words whitespace-pre-wrap",children:Object(v.jsx)("div",{className:"text-base font-bold text-white",style:{lineHeight:"1.625rem"},children:Object(Ee.b)(r,25,"...",18)})}):Object(v.jsx)("div",{className:"text-base font-bold text-white",style:{lineHeight:"1.625rem"},children:r})}),Object(v.jsx)("div",{className:"flex flex-col",children:Object(v.jsx)(bt,{status:a,isArchived:2===n})})]})},Et=function(e){var t=e.sarcophagus,r=e.currentStatus;return Object(v.jsx)(kt,{sarcophagus:t,currentStatus:r})},It=function(e){var t=e.sarcophagus,r=function(e,t){var r=Object(s.useState)(f.f.DEFAULT),n=Object(b.a)(r,2),a=n[0],c=n[1];return Object(s.useEffect)((function(){for(var r=0;r<=t.length-1;r++){var n,a,s,i;if(null===(n=t[r].accusedIdentifiers)||void 0===n?void 0:n.includes(e.AssetDoubleHash)){c(f.f.ACCUSED);break}if(null===(a=t[r].canceledIdentifiers)||void 0===a?void 0:a.includes(e.AssetDoubleHash)){c(f.f.CANCELED);break}if(null===(s=t[r].cleanupIdentifiers)||void 0===s?void 0:s.includes(e.AssetDoubleHash)){c(f.f.CLEANED);break}if(null===(i=t[r].successesIdentifiers)||void 0===i?void 0:i.includes(e.AssetDoubleHash)){c(f.f.UNWRAPPED);break}c(f.f.BURIED)}}),[t,e]),{currentStatus:a}}(t,et().archaeologists).currentStatus;return Object(v.jsx)(Et,{sarcophagus:t,currentStatus:r})},Pt=function(e){var t=e.sarcophagus;return Object(v.jsxs)("div",{className:"border border-white text-white text-md flex justify-between relative cursor-default max-w-128 px-4 pt-3",style:{height:"4.375rem"},children:[Object(v.jsx)("div",{className:"flex flex-col",children:Object(v.jsx)("div",{className:"text-base font-bold text-white",style:{lineHeight:"1.625rem"},children:null===t||void 0===t?void 0:t.sarcophagusName})}),Object(v.jsx)("div",{className:"flex flex-col",children:Object(v.jsx)(bt,{status:"Sarcophagus is being mined",isActive:!1,isOver:!1,error:!1})})]})},Rt=function(){var e=Object(d.i)(),t=Object(d.g)(),r=Object(M.b)().account,n=Qe(),a=n.embalmerSarcophagi,c=n.archivedSarcophagi,s=n.recipientSarcophagi,i=n.pendingSarcophagi,o=n.checkStorage,u=n.getRecipientSarcophagi,l=et().getArchaeologistCount,b=function(){o(),u(),l()};return Object(v.jsxs)("div",{className:"border-t border-gray-500 md:border-none mt-8 md:mt-0 pt-8 md:pt-0 w-full overflow-x-scroll hide-scrollbar max-w-128",children:[Object(v.jsx)(at,{embalmerCount:null===a||void 0===a?void 0:a.length,recipientCount:null===s||void 0===s?void 0:s.length,archivedCount:null===c||void 0===c?void 0:c.length}),Object(v.jsxs)("div",{className:"mt-8",children:[Object(v.jsxs)(d.b,{path:"".concat(e.path),exact:!0,children:[!r&&Object(v.jsx)(qe,{message:"Connect to a wallet to get started",handleClick:function(){return Object(tt.a)()}}),r&&!a.length&&!i.length&&Object(v.jsx)(qe,{message:"Create a sarcophagus",handleClick:function(){return t.push("/create")}}),null===a||void 0===a?void 0:a.map((function(e,t){return Object(v.jsx)(xt,{sarcophagus:e,refresh:b},e.archaeologist+t.toString())})),null===i||void 0===i?void 0:i.map((function(e,t){return Object(v.jsx)(Pt,{sarcophagus:e},(null===e||void 0===e?void 0:e.archaeologist)+t.toString())}))]}),Object(v.jsx)(d.b,{path:"".concat(e.path,"/resurrect"),children:null===s||void 0===s?void 0:s.map((function(e,t){return Object(v.jsx)(At,{sarcophagus:e,refresh:b},e.archaeologist+t.toString())}))}),Object(v.jsx)(d.b,{path:"".concat(e.path,"/archive"),children:null===c||void 0===c?void 0:c.map((function(e,t){return Object(v.jsx)(It,{sarcophagus:e,refresh:b},e.archaeologist+t.toString())}))})]})]})},Dt=function(){return Object(v.jsxs)("div",{className:"pt-8 px-8 flex justify-center md:justify-between flex-wrap md:flex-nowrap gap-3 md:gap-0",children:[Object(v.jsxs)("div",{className:"mr-4 w-104",children:[Object(v.jsx)(O.a,{type:"subOne",icon:nt,title:"Tomb"}),Object(v.jsxs)("div",{className:"mt-8 text-md text-white",style:{lineHeight:"1.4375rem"},children:[Object(v.jsxs)("div",{children:[" ",f.cb]}),Object(v.jsxs)("div",{className:"mt-4",children:[f.db,Object(v.jsx)("div",{className:"mt-4",children:Object(v.jsx)("a",{target:"_blank",rel:"noreferrer noopener",className:"cursor-pointer hover:text-gray-300",href:"https://github.com/sarcophagus-org/sarcophagus-app/blob/develop/README.md",children:f.bb})})]})]})]}),Object(v.jsx)(Rt,{})]})},_t=r(194),Ft=r(195),Ht=function(e){var t=e.handleQuery,r=e.initialValues;return Object(v.jsx)(p.a,{initialValues:r,validationSchema:Ft.a,onSubmit:function(e){return t(e)},children:function(e){var t=e.values,r=e.errors,n=e.touched,a=e.handleChange,c=e.handleSubmit;return Object(v.jsxs)("form",{onSubmit:c,className:"px-2 w-128",children:[Object(v.jsx)(_t.a,{values:t,errors:r,touched:n,handleChange:a}),Object(v.jsx)(R.a,{_classnames:"w-full mb-4",type:"submit",label:"Submit"})]})}})},Ut=function(){var e=W(),t=new URLSearchParams(Object(d.h)().search),r=Object(s.useState)(""),n=Object(b.a)(r,2),a=n[0],c=n[1],i=a?N.utils.computeAddress(function(e){var t;return"0x"!==(null===e||void 0===e?void 0:e.substr(0,2))&&(t="0x"+e),t||e}(a)):"",o=Object(Ze.a)(e,i,!0).recipientAllSarcophagi,u={recipientPrivateKey:t.get("recipientPrivateKey")||""};return Object(v.jsxs)("div",{className:"pt-8 px-8 flex justify-center md:justify-between flex-wrap md:flex-nowrap gap-4 md:gap-8",children:[Object(v.jsx)(Ht,{handleQuery:function(e){c(e.recipientPrivateKey)},initialValues:u}),Object(v.jsx)("div",{className:"pt-2 ",style:{width:"34rem"},children:null===o||void 0===o?void 0:o.map((function(e,t){return Object(v.jsx)(At,{sarcophagus:e,recipientPrivateKey:a},e.archaeologist+t.toString())}))})]})},Mt=r(193),Gt=C.d().shape({identifier:C.e(),address:C.e(),singleHash:C.e()}),Kt=r.p+"static/media/eyeOfHorus2.67cd749c.svg",Bt=function(e){var t=e.errors,r=e.touched,n=e.handleChange,a=e.title,c=e.tooltip,s=Object(m.a)(e,["errors","touched","handleChange","title","tooltip"]);return Object(v.jsxs)("div",{className:"w-128",children:[Object(v.jsxs)("div",{className:"flex items-center",children:[Object(v.jsx)(O.a,{type:"subOne",title:a}),Object(v.jsx)(Te.a,{content:c}),t&&r&&Object(v.jsx)(z.a,{children:t})]}),Object(v.jsx)(X.a,Object(h.a)({_classnames:"my-4 pl-4",errored:t&&r,error:t,onChange:n},s))]})},Wt=function(){var e=Qe().accuseArchaeologist;return Object(v.jsx)(p.a,{initialValues:Mt.a,validationSchema:Gt,onSubmit:function(t,r){var n=r.resetForm;return e(t,n)},children:function(e){var t=e.values,r=e.errors,n=e.touched,a=e.handleChange,c=e.handleSubmit;return Object(v.jsxs)("form",{onSubmit:c,className:"px-2 flex flex-wrap md:flex-nowrap justify-center",children:[Object(v.jsxs)("div",{className:"mr-4 mt-2 w-104 md:w-128",children:[Object(v.jsx)(O.a,{type:"subOne",icon:Kt,title:"Eye of Horus"}),Object(v.jsxs)("div",{className:"mt-8 text-md text-white",style:{lineHeight:"1.4375rem"},children:[Object(v.jsx)("div",{children:f.x}),Object(v.jsx)("div",{className:"mt-4",children:f.y})]})]}),Object(v.jsxs)("div",{className:"mt-8 md:mt-16",children:[Object(v.jsx)(Bt,{type:"text",name:"address",height:"lg",value:t.address,errors:r.address,touched:n.address,handleChange:a,title:f.F,tooltip:f.e,placeholder:f.d}),Object(v.jsx)(Bt,{type:"textarea",name:"singleHash",height:"accuse",value:t.singleHash,errors:r.singleHash,touched:n.singleHash,handleChange:a,title:f.S,tooltip:f.T,placeholder:f.R}),Object(v.jsx)(Bt,{type:"textarea",name:"identifier",height:"accuse",value:t.identifier,errors:r.identifier,touched:n.identifier,handleChange:a,title:f.A,tooltip:f.B,placeholder:f.z}),Object(v.jsx)(R.a,{_classnames:"mx-auto w-full mb-4",type:"submit",label:"Submit"})]})]})}})},Lt=r.p+"static/media/copy.f58289cd.svg",Vt=function(){var e=Object(s.useState)(""),t=Object(b.a)(e,2),r=t[0],n=t[1],a=Object(M.b)(),c=a.account,i=a.signerOrProvider,o=function(){var e=Object(F.a)(_.a.mark((function e(){var t,r,a,c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"Hello from the Sarcophagus! Sign this message to retrieve your account's public key",t=N.utils.hashMessage("Hello from the Sarcophagus! Sign this message to retrieve your account's public key"),r=N.utils.arrayify(t),e.next=6,i.signMessage("Hello from the Sarcophagus! Sign this message to retrieve your account's public key");case 6:a=e.sent,c=N.utils.recoverPublicKey(r,a),n(c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),4001===e.t0.code?console.error("We can encrypt anything without the key."):console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:"p-4 flex gap-4 flex-wrap md:flex-nowrap justify-center md:justify-start",children:[Object(v.jsxs)("div",{className:"mr-4 mt-2 text-base w-104 md:w-128",children:[Object(v.jsx)("div",{children:"To receive and decrypt a Sarcophagus after it's been resurrected, the embalmber needs your public key"}),Object(v.jsx)("div",{className:"mt-4",children:"1. Log with account that will receive Sarcophagus"}),Object(v.jsx)("div",{className:"mt-4",children:"2. Click the button to retreive your public key"}),Object(v.jsx)("div",{className:"mt-4",children:"2. Give your public key to the embalmer"}),Object(v.jsx)(R.a,{isDisabled:!c,_classnames:"mt-4",type:"button",onClick:o,label:"Get Public Key"})]}),Object(v.jsx)("div",{className:"flex flex-col items-center mt-2 relative",children:r&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"absolute right-1 top-1",onClick:function(){navigator.clipboard.writeText(r),H.b.dark("Copied to clipboard",{autoClose:2e3})},children:Object(v.jsx)("img",{src:Lt,alt:"",className:""})}),Object(v.jsx)(O.a,{title:"Your Public Key",type:"subOne"}),Object(v.jsx)("div",{className:"border-t-2 border-b-2 border-gray-300 py-8 mt-4",children:Object(v.jsxs)("div",{className:"bg-black w-104 break-words text-md p-4",children:[" ",r," "]})})]})})]})},qt=function(){return Object(v.jsxs)("div",{className:"border border-gray-500 p-4 mx-4 mb-8 mt-0 overflow-x-scroll hide-scrollbar",style:{minHeight:"calc(100vh - 16rem)"},children:[Object(v.jsx)(d.b,{path:"/",exact:!0,children:Object(v.jsx)(d.a,{to:"/tomb"})}),Object(v.jsx)(d.b,{path:"/tomb",component:Dt}),Object(v.jsx)(d.b,{path:"/create",component:rt,exact:!0}),Object(v.jsx)(d.b,{path:"/resurrection",component:Ut,exact:!0}),Object(v.jsx)(d.b,{path:"/horus",component:Wt,exact:!0}),Object(v.jsx)(d.b,{path:"/publicKey",component:Vt,exact:!0})]})},Jt=r(453),zt=function(){return Object(v.jsx)("div",{className:"text-gray-400 text-xs my-4",children:Object(v.jsx)("div",{className:"pb-6 text-center",children:Object(v.jsxs)("div",{children:["v",Jt.version+"+da87a5d"]})})})},Zt=function(){var e=Object(M.b)().account;return e?Object(v.jsxs)("div",{className:"flex justify-center items-center w-full",children:[Object(Ee.b)(e,19,"...",7),Object(v.jsx)("img",{src:Re,alt:"",className:"ml-6"})]}):Object(v.jsx)("button",{className:"underline text-center w-full",onClick:function(){return Object(tt.a)()},children:"Connect Web3 Account"})},Xt=function(e){var t=e.title,r=e.dest,n=e.icon,a=Object(m.a)(e,["title","dest","icon"]);return Object(v.jsxs)(l.b,Object(h.a)(Object(h.a)({to:r,activeClassName:"border-b-2 md:border-b-4 border-white text-white pb-2",className:"text-sm text-gray-300 flex items-center justify-center"},a),{},{children:[n&&Object(v.jsx)("img",{src:n,alt:"",className:"mx-1 h-4 w-4"}),Object(v.jsx)("span",{className:"hidden md:inline-block ml-2",children:t})]}))},Yt=r.p+"static/media/Resurrection.a7cc7e5a.svg",Qt=function(){return Object(v.jsxs)("ul",{className:"flex whitespace-nowrap",children:[Object(v.jsx)("li",{className:"pr-4 py-1 ",children:Object(v.jsx)(Xt,{dest:"/tomb",title:"Tomb",icon:nt})}),Object(v.jsx)("li",{className:"px-4 py-1 ",children:Object(v.jsx)(Xt,{dest:"/create",title:"Create Sarcophagus",icon:w})}),Object(v.jsx)("li",{className:"px-4 py-1 ",children:Object(v.jsx)(Xt,{dest:"/resurrection",title:"Resurrection",icon:Yt})}),Object(v.jsx)("li",{className:"px-4 py-1 ",children:Object(v.jsx)(Xt,{dest:"/horus",title:"Eye of Horus",icon:Kt})})]})},$t=r.p+"static/media/logo.46d0239c.png",er=r.p+"static/media/wallet.7d4fae45.svg",tr=function(){return Object(v.jsxs)("div",{className:"flex items-center my-8",style:{height:"4rem"},children:[Object(v.jsx)("div",{className:"w-24 p-1 mr-4 my-4",children:Object(v.jsx)(l.b,{to:"/tomb",children:Object(v.jsx)("img",{src:$t,alt:"logo"})})}),Object(v.jsx)("div",{className:"flex items-center justify-center",children:Object(v.jsx)("div",{className:"",children:Object(v.jsx)(Qt,{})})}),Object(v.jsxs)("div",{className:"flex items-center justify-center absolute right-4",style:{top:"1.05rem"},children:[Object(v.jsx)("div",{children:Object(v.jsx)("img",{src:er,alt:"wallet",className:""})}),Object(v.jsx)("div",{className:"ml-3 text-sm text-gray-300 ",children:Object(v.jsx)(Zt,{})})]})]})},rr=function(){return Object(v.jsxs)(l.a,{children:[Object(v.jsx)(tr,{}),Object(v.jsx)(d.d,{children:Object(v.jsx)(qt,{})}),Object(v.jsx)(zt,{})]})},nr=function(){return Object(v.jsx)("div",{className:"container relative",children:Object(v.jsx)(rr,{})})},ar=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,982)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),n(e),a(e),c(e),s(e)}))};u.a.render(Object(v.jsx)(i.a.StrictMode,{children:Object(v.jsx)(M.a,{children:Object(v.jsx)(L,{children:Object(v.jsx)(Ye,{children:Object(v.jsxs)($e,{children:[Object(v.jsx)(nr,{}),Object(v.jsx)(H.a,{closeButton:!0,position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})})})})}),document.getElementById("root")),ar()}},[[968,1,2]]]);
//# sourceMappingURL=main.b15a8d06.chunk.js.map